/*! For license information please see main-es2015.053114172ae3d2866beb.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},"4El3":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o}));var i=n("FXxO"),r=null;function l(e){return void 0===e&&(e=!0),r&&e||(typeof globalThis!==i.l&&globalThis&&(r=globalThis),typeof self!==i.l&&self&&(r=self),typeof window!==i.l&&window&&(r=window),typeof global!==i.l&&global&&(r=global)),r}function s(e){throw new TypeError(e)}function o(e){var t=i.c;if(t)return t(e);if(null==e)return{};var n=typeof e;function r(){}return n!==i.j&&n!==i.h&&s("Object prototype may only be an Object:"+e),r[i.k]=e,new r}},EVdn:function(e,t,n){var i;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(n,r){"use strict";var l=[],s=Object.getPrototypeOf,o=l.slice,a=l.flat?function(e){return l.flat.call(e)}:function(e){return l.concat.apply([],e)},c=l.push,u=l.indexOf,h={},d=h.toString,p=h.hasOwnProperty,f=p.toString,g=f.call(Object),m={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},b=function(e){return null!=e&&e===e.window},v=n.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function C(e,t,n){var i,r,l=(n=n||v).createElement("script");if(l.text=e,t)for(i in w)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&l.setAttribute(i,r);n.head.appendChild(l).parentNode.removeChild(l)}function S(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[d.call(e)]||"object":typeof e}var _=function(e,t){return new _.fn.init(e,t)};function x(e){var t=!!e&&"length"in e&&e.length,n=S(e);return!y(e)&&!b(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}_.fn=_.prototype={jquery:"3.6.0",constructor:_,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=_.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return _.each(this,e)},map:function(e){return this.pushStack(_.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(_.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(_.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:l.sort,splice:l.splice},_.extend=_.fn.extend=function(){var e,t,n,i,r,l,s=arguments[0]||{},o=1,a=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[o]||{},o++),"object"==typeof s||y(s)||(s={}),o===a&&(s=this,o--);o<a;o++)if(null!=(e=arguments[o]))for(t in e)i=e[t],"__proto__"!==t&&s!==i&&(c&&i&&(_.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[t],l=r&&!Array.isArray(n)?[]:r||_.isPlainObject(n)?n:{},r=!1,s[t]=_.extend(c,l,i)):void 0!==i&&(s[t]=i));return s},_.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e)||(t=s(e))&&("function"!=typeof(n=p.call(t,"constructor")&&t.constructor)||f.call(n)!==g))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){C(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(x(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(x(Object(e))?_.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,l=e.length,s=!n;r<l;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,n){var i,r,l=0,s=[];if(x(e))for(i=e.length;l<i;l++)null!=(r=t(e[l],l,n))&&s.push(r);else for(l in e)null!=(r=t(e[l],l,n))&&s.push(r);return a(s)},guid:1,support:m}),"function"==typeof Symbol&&(_.fn[Symbol.iterator]=l[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){h["[object "+t+"]"]=t.toLowerCase()}));var I=function(e){var t,n,i,r,l,s,o,a,c,u,h,d,p,f,g,m,y,b,v,w="sizzle"+1*new Date,C=e.document,S=0,_=0,x=ae(),I=ae(),k=ae(),T=ae(),M=function(e,t){return e===t&&(h=!0),0},E={}.hasOwnProperty,P=[],O=P.pop,D=P.push,N=P.push,R=P.slice,A=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",$="(?:\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",V="\\["+F+"*("+$+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+F+"*\\]",U=":("+$+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+V+")*)|.*)\\)|)",j=new RegExp(F+"+","g"),z=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),G=new RegExp("^"+F+"*,"+F+"*"),B=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),H=new RegExp(F+"|>"),q=new RegExp(U),K=new RegExp("^"+$+"$"),W={ID:new RegExp("^#("+$+")"),CLASS:new RegExp("^\\.("+$+")"),TAG:new RegExp("^("+$+"|[*])"),ATTR:new RegExp("^"+V),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},le=function(){d()},se=we((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{N.apply(P=R.call(C.childNodes),C.childNodes)}catch(Ie){N={apply:P.length?function(e,t){D.apply(e,R.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function oe(e,t,i,r){var l,o,c,u,h,f,y,b=t&&t.ownerDocument,C=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return i;if(!r&&(d(t),t=t||p,g)){if(11!==C&&(h=J.exec(e)))if(l=h[1]){if(9===C){if(!(c=t.getElementById(l)))return i;if(c.id===l)return i.push(c),i}else if(b&&(c=b.getElementById(l))&&v(t,c)&&c.id===l)return i.push(c),i}else{if(h[2])return N.apply(i,t.getElementsByTagName(e)),i;if((l=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return N.apply(i,t.getElementsByClassName(l)),i}if(n.qsa&&!T[e+" "]&&(!m||!m.test(e))&&(1!==C||"object"!==t.nodeName.toLowerCase())){if(y=e,b=t,1===C&&(H.test(e)||B.test(e))){for((b=ee.test(e)&&ye(t.parentNode)||t)===t&&n.scope||((u=t.getAttribute("id"))?u=u.replace(ie,re):t.setAttribute("id",u=w)),o=(f=s(e)).length;o--;)f[o]=(u?"#"+u:":scope")+" "+ve(f[o]);y=f.join(",")}try{return N.apply(i,b.querySelectorAll(y)),i}catch(S){T(e,!0)}finally{u===w&&t.removeAttribute("id")}}}return a(e.replace(z,"$1"),t,i,r)}function ae(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ce(e){return e[w]=!0,e}function ue(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(Ie){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function de(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ce((function(t){return t=+t,ce((function(n,i){for(var r,l=e([],n.length,t),s=l.length;s--;)n[r=l[s]]&&(n[r]=!(i[r]=n[r]))}))}))}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},l=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!Q.test(e&&e.namespaceURI||t&&t.nodeName||"HTML")},d=oe.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:C;return s!=p&&9===s.nodeType&&s.documentElement?(f=(p=s).documentElement,g=!l(p),C!=p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",le,!1):r.attachEvent&&r.attachEvent("onunload",le)),n.scope=ue((function(e){return f.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ue((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Y.test(p.getElementsByClassName),n.getById=ue((function(e){return f.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length})),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,i,r,l=t.getElementById(e);if(l){if((n=l.getAttributeNode("id"))&&n.value===e)return[l];for(r=t.getElementsByName(e),i=0;l=r[i++];)if((n=l.getAttributeNode("id"))&&n.value===e)return[l]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,l=t.getElementsByTagName(e);if("*"===e){for(;n=l[r++];)1===n.nodeType&&i.push(n);return i}return l},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},y=[],m=[],(n.qsa=Y.test(p.querySelectorAll))&&(ue((function(e){var t;f.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+L+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+F+"*name"+F+"*="+F+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=Y.test(b=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ue((function(e){n.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),y.push("!=",U)})),m=m.length&&new RegExp(m.join("|")),y=y.length&&new RegExp(y.join("|")),t=Y.test(f.compareDocumentPosition),v=t||Y.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},M=t?function(e,t){if(e===t)return h=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e==p||e.ownerDocument==C&&v(C,e)?-1:t==p||t.ownerDocument==C&&v(C,t)?1:u?A(u,e)-A(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,i=0,r=e.parentNode,l=t.parentNode,s=[e],o=[t];if(!r||!l)return e==p?-1:t==p?1:r?-1:l?1:u?A(u,e)-A(u,t):0;if(r===l)return de(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)o.unshift(n);for(;s[i]===o[i];)i++;return i?de(s[i],o[i]):s[i]==C?-1:o[i]==C?1:0},p):p},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if(d(e),n.matchesSelector&&g&&!T[t+" "]&&(!y||!y.test(t))&&(!m||!m.test(t)))try{var i=b.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(Ie){T(t,!0)}return oe(t,p,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!=p&&d(e),v(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!=p&&d(e);var r=i.attrHandle[t.toLowerCase()],l=r&&E.call(i.attrHandle,t.toLowerCase())?r(e,t,!g):void 0;return void 0!==l?l:n.attributes||!g?e.getAttribute(t):(l=e.getAttributeNode(t))&&l.specified?l.value:null},oe.escape=function(e){return(e+"").replace(ie,re)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,i=[],r=0,l=0;if(h=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(M),h){for(;t=e[l++];)t===e[l]&&(r=i.push(l));for(;r--;)e.splice(i[r],1)}return u=null,e},r=oe.getText=function(e){var t,n="",i=0,l=e.nodeType;if(l){if(1===l||9===l||11===l){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===l||4===l)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=oe.selectors={cacheLength:50,createPseudo:ce,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&q.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&x(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=oe.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(j," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var l="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,a){var c,u,h,d,p,f,g=l!==s?"nextSibling":"previousSibling",m=t.parentNode,y=o&&t.nodeName.toLowerCase(),b=!a&&!o,v=!1;if(m){if(l){for(;g;){for(d=t;d=d[g];)if(o?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&b){for(v=(p=(c=(u=(h=(d=m)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===S&&c[1])&&c[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(v=p=0)||f.pop();)if(1===d.nodeType&&++v&&d===t){u[e]=[S,p,v];break}}else if(b&&(v=p=(c=(u=(h=(d=t)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===S&&c[1]),!1===v)for(;(d=++p&&d&&d[g]||(v=p=0)||f.pop())&&((o?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++v||(b&&((u=(h=d[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]=[S,v]),d!==t)););return(v-=r)===i||v%i==0&&v/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return r[w]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var i,l=r(e,t),s=l.length;s--;)e[i=A(e,l[s])]=!(n[i]=l[s])})):function(e){return r(e,0,n)}):r}},pseudos:{not:ce((function(e){var t=[],n=[],i=o(e.replace(z,"$1"));return i[w]?ce((function(e,t,n,r){for(var l,s=i(e,null,r,[]),o=e.length;o--;)(l=s[o])&&(e[o]=!(t[o]=l))})):function(e,r,l){return t[0]=e,i(t,null,l,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return oe(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||r(t)).indexOf(e)>-1}})),lang:ce((function(e){return K.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me((function(){return[0]})),last:me((function(e,t){return[t-1]})),eq:me((function(e,t,n){return[n<0?n+t:n]})),even:me((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:me((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:me((function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:me((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=fe(t);function be(){}function ve(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function we(e,t,n){var i=t.dir,r=t.next,l=r||i,s=n&&"parentNode"===l,o=_++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,a){var c,u,h,d=[S,o];if(a){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(u=(h=t[w]||(t[w]={}))[t.uniqueID]||(h[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[l])&&c[0]===S&&c[1]===o)return d[2]=c[2];if(u[l]=d,d[2]=e(t,n,a))return!0}return!1}}function Ce(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function Se(e,t,n,i,r){for(var l,s=[],o=0,a=e.length,c=null!=t;o<a;o++)(l=e[o])&&(n&&!n(l,i,r)||(s.push(l),c&&t.push(o)));return s}function _e(e,t,n,i,r,l){return i&&!i[w]&&(i=_e(i)),r&&!r[w]&&(r=_e(r,l)),ce((function(l,s,o,a){var c,u,h,d=[],p=[],f=s.length,g=l||function(e,t,n){for(var i=0,r=t.length;i<r;i++)oe(e,t[i],n);return n}(t||"*",o.nodeType?[o]:o,[]),m=!e||!l&&t?g:Se(g,d,e,o,a),y=n?r||(l?e:f||i)?[]:s:m;if(n&&n(m,y,o,a),i)for(c=Se(y,p),i(c,[],o,a),u=c.length;u--;)(h=c[u])&&(y[p[u]]=!(m[p[u]]=h));if(l){if(r||e){if(r){for(c=[],u=y.length;u--;)(h=y[u])&&c.push(m[u]=h);r(null,y=[],c,a)}for(u=y.length;u--;)(h=y[u])&&(c=r?A(l,h):d[u])>-1&&(l[c]=!(s[c]=h))}}else y=Se(y===s?y.splice(f,y.length):y),r?r(null,s,y,a):N.apply(s,y)}))}function xe(e){for(var t,n,r,l=e.length,s=i.relative[e[0].type],o=s||i.relative[" "],a=s?1:0,u=we((function(e){return e===t}),o,!0),h=we((function(e){return A(t,e)>-1}),o,!0),d=[function(e,n,i){var r=!s&&(i||n!==c)||((t=n).nodeType?u(e,n,i):h(e,n,i));return t=null,r}];a<l;a++)if(n=i.relative[e[a].type])d=[we(Ce(d),n)];else{if((n=i.filter[e[a].type].apply(null,e[a].matches))[w]){for(r=++a;r<l&&!i.relative[e[r].type];r++);return _e(a>1&&Ce(d),a>1&&ve(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(z,"$1"),n,a<r&&xe(e.slice(a,r)),r<l&&xe(e=e.slice(r)),r<l&&ve(e))}d.push(n)}return Ce(d)}return be.prototype=i.filters=i.pseudos,i.setFilters=new be,s=oe.tokenize=function(e,t){var n,r,l,s,o,a,c,u=I[e+" "];if(u)return t?0:u.slice(0);for(o=e,a=[],c=i.preFilter;o;){for(s in n&&!(r=G.exec(o))||(r&&(o=o.slice(r[0].length)||o),a.push(l=[])),n=!1,(r=B.exec(o))&&(n=r.shift(),l.push({value:n,type:r[0].replace(z," ")}),o=o.slice(n.length)),i.filter)!(r=W[s].exec(o))||c[s]&&!(r=c[s](r))||(n=r.shift(),l.push({value:n,type:s,matches:r}),o=o.slice(n.length));if(!n)break}return t?o.length:o?oe.error(e):I(e,a).slice(0)},o=oe.compile=function(e,t){var n,r=[],l=[],o=k[e+" "];if(!o){for(t||(t=s(e)),n=t.length;n--;)(o=xe(t[n]))[w]?r.push(o):l.push(o);(o=k(e,function(e,t){var n=t.length>0,r=e.length>0,l=function(l,s,o,a,u){var h,f,m,y=0,b="0",v=l&&[],w=[],C=c,_=l||r&&i.find.TAG("*",u),x=S+=null==C?1:Math.random()||.1,I=_.length;for(u&&(c=s==p||s||u);b!==I&&null!=(h=_[b]);b++){if(r&&h){for(f=0,s||h.ownerDocument==p||(d(h),o=!g);m=e[f++];)if(m(h,s||p,o)){a.push(h);break}u&&(S=x)}n&&((h=!m&&h)&&y--,l&&v.push(h))}if(y+=b,n&&b!==y){for(f=0;m=t[f++];)m(v,w,s,o);if(l){if(y>0)for(;b--;)v[b]||w[b]||(w[b]=O.call(a));w=Se(w)}N.apply(a,w),u&&!l&&w.length>0&&y+t.length>1&&oe.uniqueSort(a)}return u&&(S=x,c=C),v};return n?ce(l):l}(l,r))).selector=e}return o},a=oe.select=function(e,t,n,r){var l,a,c,u,h,d="function"==typeof e&&e,p=!r&&s(e=d.selector||e);if(n=n||[],1===p.length){if((a=p[0]=p[0].slice(0)).length>2&&"ID"===(c=a[0]).type&&9===t.nodeType&&g&&i.relative[a[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(l=W.needsContext.test(e)?0:a.length;l--&&!i.relative[u=(c=a[l]).type];)if((h=i.find[u])&&(r=h(c.matches[0].replace(te,ne),ee.test(a[0].type)&&ye(t.parentNode)||t))){if(a.splice(l,1),!(e=r.length&&ve(a)))return N.apply(n,r),n;break}}return(d||o(e,p))(r,t,!g,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},n.sortStable=w.split("").sort(M).join("")===w,n.detectDuplicates=!!h,d(),n.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||he("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||he("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||he(L,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),oe}(n);_.find=I,_.expr=I.selectors,_.expr[":"]=_.expr.pseudos,_.uniqueSort=_.unique=I.uniqueSort,_.text=I.getText,_.isXMLDoc=I.isXML,_.contains=I.contains,_.escapeSelector=I.escape;var k=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&_(e).is(n))break;i.push(e)}return i},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},M=_.expr.match.needsContext;function E(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(e,t,n){return y(t)?_.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?_.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?_.grep(e,(function(e){return u.call(t,e)>-1!==n})):_.filter(t,e,n)}_.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?_.find.matchesSelector(i,e)?[i]:[]:_.find.matches(e,_.grep(t,(function(e){return 1===e.nodeType})))},_.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(_(e).filter((function(){for(t=0;t<i;t++)if(_.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)_.find(e,r[t],n);return i>1?_.uniqueSort(n):n},filter:function(e){return this.pushStack(O(this,e||[],!1))},not:function(e){return this.pushStack(O(this,e||[],!0))},is:function(e){return!!O(this,"string"==typeof e&&M.test(e)?_(e):e||[],!1).length}});var D,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(_.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:N.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(_.merge(this,_.parseHTML(i[1],(t=t instanceof _?t[0]:t)&&t.nodeType?t.ownerDocument||t:v,!0)),P.test(i[1])&&_.isPlainObject(t))for(i in t)y(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=v.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(_):_.makeArray(e,this)}).prototype=_.fn,D=_(v);var R=/^(?:parents|prev(?:Until|All))/,A={children:!0,contents:!0,next:!0,prev:!0};function L(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}_.fn.extend({has:function(e){var t=_(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(_.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,r=this.length,l=[],s="string"!=typeof e&&_(e);if(!M.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&_.find.matchesSelector(n,e))){l.push(n);break}return this.pushStack(l.length>1?_.uniqueSort(l):l)},index:function(e){return e?"string"==typeof e?u.call(_(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return L(e,"nextSibling")},prev:function(e){return L(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(E(e,"template")&&(e=e.content||e),_.merge([],e.childNodes))}},(function(e,t){_.fn[e]=function(n,i){var r=_.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=_.filter(i,r)),this.length>1&&(A[e]||_.uniqueSort(r),R.test(e)&&r.reverse()),this.pushStack(r)}}));var F=/[^\x20\t\r\n\f]+/g;function $(e){return e}function V(e){throw e}function U(e,t,n,i){var r;try{e&&y(r=e.promise)?r.call(e).done(t).fail(n):e&&y(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}_.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return _.each(e.match(F)||[],(function(e,n){t[n]=!0})),t}(e):_.extend({},e);var t,n,i,r,l=[],s=[],o=-1,a=function(){for(r=r||e.once,i=t=!0;s.length;o=-1)for(n=s.shift();++o<l.length;)!1===l[o].apply(n[0],n[1])&&e.stopOnFalse&&(o=l.length,n=!1);e.memory||(n=!1),t=!1,r&&(l=n?[]:"")},c={add:function(){return l&&(n&&!t&&(o=l.length-1,s.push(n)),function t(n){_.each(n,(function(n,i){y(i)?e.unique&&c.has(i)||l.push(i):i&&i.length&&"string"!==S(i)&&t(i)}))}(arguments),n&&!t&&a()),this},remove:function(){return _.each(arguments,(function(e,t){for(var n;(n=_.inArray(t,l,n))>-1;)l.splice(n,1),n<=o&&o--})),this},has:function(e){return e?_.inArray(e,l)>-1:l.length>0},empty:function(){return l&&(l=[]),this},disable:function(){return r=s=[],l=n="",this},disabled:function(){return!l},lock:function(){return r=s=[],n||t||(l=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||a()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},_.extend({Deferred:function(e){var t=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return l.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return _.Deferred((function(n){_.each(t,(function(t,i){var r=y(e[i[4]])&&e[i[4]];l[i[1]]((function(){var e=r&&r.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,i,r){var l=0;function s(e,t,i,r){return function(){var o=this,a=arguments,c=function(){var n,c;if(!(e<l)){if((n=i.apply(o,a))===t.promise())throw new TypeError("Thenable self-resolution");y(c=n&&("object"==typeof n||"function"==typeof n)&&n.then)?r?c.call(n,s(l,t,$,r),s(l,t,V,r)):(l++,c.call(n,s(l,t,$,r),s(l,t,V,r),s(l,t,$,t.notifyWith))):(i!==$&&(o=void 0,a=[n]),(r||t.resolveWith)(o,a))}},u=r?c:function(){try{c()}catch(n){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(n,u.stackTrace),e+1>=l&&(i!==V&&(o=void 0,a=[n]),t.rejectWith(o,a))}};e?u():(_.Deferred.getStackHook&&(u.stackTrace=_.Deferred.getStackHook()),n.setTimeout(u))}}return _.Deferred((function(n){t[0][3].add(s(0,n,y(r)?r:$,n.notifyWith)),t[1][3].add(s(0,n,y(e)?e:$)),t[2][3].add(s(0,n,y(i)?i:V))})).promise()},promise:function(e){return null!=e?_.extend(e,r):r}},l={};return _.each(t,(function(e,n){var s=n[2],o=n[5];r[n[1]]=s.add,o&&s.add((function(){i=o}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(n[3].fire),l[n[0]]=function(){return l[n[0]+"With"](this===l?void 0:this,arguments),this},l[n[0]+"With"]=s.fireWith})),r.promise(l),e&&e.call(l,l),l},when:function(e){var t=arguments.length,n=t,i=Array(n),r=o.call(arguments),l=_.Deferred(),s=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?o.call(arguments):n,--t||l.resolveWith(i,r)}};if(t<=1&&(U(e,l.done(s(n)).resolve,l.reject,!t),"pending"===l.state()||y(r[n]&&r[n].then)))return l.then();for(;n--;)U(r[n],s(n),l.reject);return l.promise()}});var j=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&j.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},_.readyException=function(e){n.setTimeout((function(){throw e}))};var z=_.Deferred();function G(){v.removeEventListener("DOMContentLoaded",G),n.removeEventListener("load",G),_.ready()}_.fn.ready=function(e){return z.then(e).catch((function(e){_.readyException(e)})),this},_.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--_.readyWait:_.isReady)||(_.isReady=!0,!0!==e&&--_.readyWait>0||z.resolveWith(v,[_]))}}),_.ready.then=z.then,"complete"===v.readyState||"loading"!==v.readyState&&!v.documentElement.doScroll?n.setTimeout(_.ready):(v.addEventListener("DOMContentLoaded",G),n.addEventListener("load",G));var B=function(e,t,n,i,r,l,s){var o=0,a=e.length,c=null==n;if("object"===S(n))for(o in r=!0,n)B(e,t,o,n[o],!0,l,s);else if(void 0!==i&&(r=!0,y(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(_(e),n)})),t))for(;o<a;o++)t(e[o],n,s?i:i.call(e[o],o,t(e[o],n)));return r?e:c?t.call(e):a?t(e[0],n):l},H=/^-ms-/,q=/-([a-z])/g;function K(e,t){return t.toUpperCase()}function W(e){return e.replace(H,"ms-").replace(q,K)}var Q=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Z(){this.expando=_.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Q(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[W(t)]=n;else for(i in t)r[W(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][W(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(W):(t=W(t))in i?[t]:t.match(F)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||_.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!_.isEmptyObject(t)}};var X=new Z,Y=new Z,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:J.test(e)?JSON.parse(e):e)}(n)}catch(r){}Y.set(e,t,n)}else n=void 0;return n}_.extend({hasData:function(e){return Y.hasData(e)||X.hasData(e)},data:function(e,t,n){return Y.access(e,t,n)},removeData:function(e,t){Y.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),_.fn.extend({data:function(e,t){var n,i,r,l=this[0],s=l&&l.attributes;if(void 0===e){if(this.length&&(r=Y.get(l),1===l.nodeType&&!X.get(l,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=W(i.slice(5)),te(l,i,r[i]));X.set(l,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){Y.set(this,e)})):B(this,(function(t){var n;if(l&&void 0===t)return void 0!==(n=Y.get(l,e))||void 0!==(n=te(l,e))?n:void 0;this.each((function(){Y.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Y.remove(this,e)}))}}),_.extend({queue:function(e,t,n){var i;if(e)return i=X.get(e,t=(t||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=X.access(e,t,_.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){var n=_.queue(e,t=t||"fx"),i=n.length,r=n.shift(),l=_._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete l.stop,r.call(e,(function(){_.dequeue(e,t)}),l)),!i&&l&&l.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:_.Callbacks("once memory").add((function(){X.remove(e,[t+"queue",n])}))})}}),_.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?_.queue(this[0],e):void 0===t?this:this.each((function(){var n=_.queue(this,e,t);_._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&_.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){_.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=_.Deferred(),l=this,s=this.length,o=function(){--i||r.resolveWith(l,[l])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=X.get(l[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(o));return o(),r.promise(t)}});var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],le=v.documentElement,se=function(e){return _.contains(e.ownerDocument,e)},oe={composed:!0};le.getRootNode&&(se=function(e){return _.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===_.css(e,"display")};function ce(e,t,n,i){var r,l,s=20,o=i?function(){return i.cur()}:function(){return _.css(e,t,"")},a=o(),c=n&&n[3]||(_.cssNumber[t]?"":"px"),u=e.nodeType&&(_.cssNumber[t]||"px"!==c&&+a)&&ie.exec(_.css(e,t));if(u&&u[3]!==c){for(c=c||u[3],u=+(a/=2)||1;s--;)_.style(e,t,u+c),(1-l)*(1-(l=o()/a||.5))<=0&&(s=0),u/=l;_.style(e,t,(u*=2)+c),n=n||[]}return n&&(u=+u||+a||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var ue={};function he(e){var t,n=e.ownerDocument,i=e.nodeName,r=ue[i];return r||(t=n.body.appendChild(n.createElement(i)),r=_.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ue[i]=r,r)}function de(e,t){for(var n,i,r=[],l=0,s=e.length;l<s;l++)(i=e[l]).style&&(n=i.style.display,t?("none"===n&&(r[l]=X.get(i,"display")||null,r[l]||(i.style.display="")),""===i.style.display&&ae(i)&&(r[l]=he(i))):"none"!==n&&(r[l]="none",X.set(i,"display",n)));for(l=0;l<s;l++)null!=r[l]&&(e[l].style.display=r[l]);return e}_.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ae(this)?_(this).show():_(this).hide()}))}});var pe,fe,ge=/^(?:checkbox|radio)$/i,me=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ye=/^$|^module$|\/(?:java|ecma)script/i;pe=v.createDocumentFragment().appendChild(v.createElement("div")),(fe=v.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),pe.appendChild(fe),m.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue,pe.innerHTML="<option></option>",m.option=!!pe.lastChild;var be={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&E(e,t)?_.merge([e],n):n}function we(e,t){for(var n=0,i=e.length;n<i;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}be.tbody=be.tfoot=be.colgroup=be.caption=be.thead,be.th=be.td,m.option||(be.optgroup=be.option=[1,"<select multiple='multiple'>","</select>"]);var Ce=/<|&#?\w+;/;function Se(e,t,n,i,r){for(var l,s,o,a,c,u,h=t.createDocumentFragment(),d=[],p=0,f=e.length;p<f;p++)if((l=e[p])||0===l)if("object"===S(l))_.merge(d,l.nodeType?[l]:l);else if(Ce.test(l)){for(s=s||h.appendChild(t.createElement("div")),o=(me.exec(l)||["",""])[1].toLowerCase(),s.innerHTML=(a=be[o]||be._default)[1]+_.htmlPrefilter(l)+a[2],u=a[0];u--;)s=s.lastChild;_.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(t.createTextNode(l));for(h.textContent="",p=0;l=d[p++];)if(i&&_.inArray(l,i)>-1)r&&r.push(l);else if(c=se(l),s=ve(h.appendChild(l),"script"),c&&we(s),n)for(u=0;l=s[u++];)ye.test(l.type||"")&&n.push(l);return h}var _e=/^([^.]*)(?:\.(.+)|)/;function xe(){return!0}function Ie(){return!1}function ke(e,t){return e===function(){try{return v.activeElement}catch(e){}}()==("focus"===t)}function Te(e,t,n,i,r,l){var s,o;if("object"==typeof t){for(o in"string"!=typeof n&&(i=i||n,n=void 0),t)Te(e,o,n,i,t[o],l);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ie;else if(!r)return e;return 1===l&&(s=r,(r=function(e){return _().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=_.guid++)),e.each((function(){_.event.add(this,t,r,i,n)}))}function Me(e,t,n){n?(X.set(e,t,!1),_.event.add(e,t,{namespace:!1,handler:function(e){var i,r,l=X.get(this,t);if(1&e.isTrigger&&this[t]){if(l.length)(_.event.special[t]||{}).delegateType&&e.stopPropagation();else if(l=o.call(arguments),X.set(this,t,l),i=n(this,t),this[t](),l!==(r=X.get(this,t))||i?X.set(this,t,!1):r={},l!==r)return e.stopImmediatePropagation(),e.preventDefault(),r&&r.value}else l.length&&(X.set(this,t,{value:_.event.trigger(_.extend(l[0],_.Event.prototype),l.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,t)&&_.event.add(e,t,xe)}_.event={global:{},add:function(e,t,n,i,r){var l,s,o,a,c,u,h,d,p,f,g,m=X.get(e);if(Q(e))for(n.handler&&(n=(l=n).handler,r=l.selector),r&&_.find.matchesSelector(le,r),n.guid||(n.guid=_.guid++),(a=m.events)||(a=m.events=Object.create(null)),(s=m.handle)||(s=m.handle=function(t){return void 0!==_&&_.event.triggered!==t.type?_.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(F)||[""]).length;c--;)p=g=(o=_e.exec(t[c])||[])[1],f=(o[2]||"").split(".").sort(),p&&(h=_.event.special[p]||{},h=_.event.special[p=(r?h.delegateType:h.bindType)||p]||{},u=_.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&_.expr.match.needsContext.test(r),namespace:f.join(".")},l),(d=a[p])||((d=a[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,f,s)||e.addEventListener&&e.addEventListener(p,s)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),_.event.global[p]=!0)},remove:function(e,t,n,i,r){var l,s,o,a,c,u,h,d,p,f,g,m=X.hasData(e)&&X.get(e);if(m&&(a=m.events)){for(c=(t=(t||"").match(F)||[""]).length;c--;)if(p=g=(o=_e.exec(t[c])||[])[1],f=(o[2]||"").split(".").sort(),p){for(h=_.event.special[p]||{},d=a[p=(i?h.delegateType:h.bindType)||p]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=l=d.length;l--;)u=d[l],!r&&g!==u.origType||n&&n.guid!==u.guid||o&&!o.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(l,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,f,m.handle)||_.removeEvent(e,p,m.handle),delete a[p])}else for(p in a)_.event.remove(e,p+t[c],n,i,!0);_.isEmptyObject(a)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,l,s,o=new Array(arguments.length),a=_.event.fix(e),c=(X.get(this,"events")||Object.create(null))[a.type]||[],u=_.event.special[a.type]||{};for(o[0]=a,t=1;t<arguments.length;t++)o[t]=arguments[t];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(s=_.event.handlers.call(this,a,c),t=0;(r=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(l=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==l.namespace&&!a.rnamespace.test(l.namespace)||(a.handleObj=l,a.data=l.data,void 0!==(i=((_.event.special[l.origType]||{}).handle||l.handler).apply(r.elem,o))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,r,l,s,o=[],a=t.delegateCount,c=e.target;if(a&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(l=[],s={},n=0;n<a;n++)void 0===s[r=(i=t[n]).selector+" "]&&(s[r]=i.needsContext?_(r,this).index(c)>-1:_.find(r,this,null,[c]).length),s[r]&&l.push(i);l.length&&o.push({elem:c,handlers:l})}return c=this,a<t.length&&o.push({elem:c,handlers:t.slice(a)}),o},addProp:function(e,t){Object.defineProperty(_.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[_.expando]?e:new _.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ge.test(t.type)&&t.click&&E(t,"input")&&Me(t,"click",xe),!1},trigger:function(e){var t=this||e;return ge.test(t.type)&&t.click&&E(t,"input")&&Me(t,"click"),!0},_default:function(e){var t=e.target;return ge.test(t.type)&&t.click&&E(t,"input")&&X.get(t,"click")||E(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},_.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},_.Event=function(e,t){if(!(this instanceof _.Event))return new _.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?xe:Ie,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&_.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:Ie,isPropagationStopped:Ie,isImmediatePropagationStopped:Ie,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=xe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=xe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=xe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},_.event.addProp),_.each({focus:"focusin",blur:"focusout"},(function(e,t){_.event.special[e]={setup:function(){return Me(this,e,ke),!1},trigger:function(){return Me(this,e),!0},_default:function(){return!0},delegateType:t}})),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){_.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,l=e.handleObj;return r&&(r===i||_.contains(i,r))||(e.type=l.origType,n=l.handler.apply(this,arguments),e.type=t),n}}})),_.fn.extend({on:function(e,t,n,i){return Te(this,e,t,n,i)},one:function(e,t,n,i){return Te(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,_(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ie),this.each((function(){_.event.remove(this,e,n,t)}))}});var Ee=/<script|<style|<link/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function De(e,t){return E(e,"table")&&E(11!==t.nodeType?t:t.firstChild,"tr")&&_(e).children("tbody")[0]||e}function Ne(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Re(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ae(e,t){var n,i,r,l,s,o;if(1===t.nodeType){if(X.hasData(e)&&(o=X.get(e).events))for(r in X.remove(t,"handle events"),o)for(n=0,i=o[r].length;n<i;n++)_.event.add(t,r,o[r][n]);Y.hasData(e)&&(l=Y.access(e),s=_.extend({},l),Y.set(t,s))}}function Le(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ge.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Fe(e,t,n,i){t=a(t);var r,l,s,o,c,u,h=0,d=e.length,p=d-1,f=t[0],g=y(f);if(g||d>1&&"string"==typeof f&&!m.checkClone&&Pe.test(f))return e.each((function(r){var l=e.eq(r);g&&(t[0]=f.call(this,r,l.html())),Fe(l,t,n,i)}));if(d&&(l=(r=Se(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=l),l||i)){for(o=(s=_.map(ve(r,"script"),Ne)).length;h<d;h++)c=r,h!==p&&(c=_.clone(c,!0,!0),o&&_.merge(s,ve(c,"script"))),n.call(e[h],c,h);if(o)for(u=s[s.length-1].ownerDocument,_.map(s,Re),h=0;h<o;h++)ye.test((c=s[h]).type||"")&&!X.access(c,"globalEval")&&_.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?_._evalUrl&&!c.noModule&&_._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):C(c.textContent.replace(Oe,""),c,u))}return e}function $e(e,t,n){for(var i,r=t?_.filter(t,e):e,l=0;null!=(i=r[l]);l++)n||1!==i.nodeType||_.cleanData(ve(i)),i.parentNode&&(n&&se(i)&&we(ve(i,"script")),i.parentNode.removeChild(i));return e}_.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,l,s,o=e.cloneNode(!0),a=se(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_.isXMLDoc(e)))for(s=ve(o),i=0,r=(l=ve(e)).length;i<r;i++)Le(l[i],s[i]);if(t)if(n)for(l=l||ve(e),s=s||ve(o),i=0,r=l.length;i<r;i++)Ae(l[i],s[i]);else Ae(e,o);return(s=ve(o,"script")).length>0&&we(s,!a&&ve(e,"script")),o},cleanData:function(e){for(var t,n,i,r=_.event.special,l=0;void 0!==(n=e[l]);l++)if(Q(n)){if(t=n[X.expando]){if(t.events)for(i in t.events)r[i]?_.event.remove(n,i):_.removeEvent(n,i,t.handle);n[X.expando]=void 0}n[Y.expando]&&(n[Y.expando]=void 0)}}}),_.fn.extend({detach:function(e){return $e(this,e,!0)},remove:function(e){return $e(this,e)},text:function(e){return B(this,(function(e){return void 0===e?_.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Fe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)}))},prepend:function(){return Fe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(_.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return _.clone(this,e,t)}))},html:function(e){return B(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ee.test(e)&&!be[(me.exec(e)||["",""])[1].toLowerCase()]){e=_.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(_.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Fe(this,arguments,(function(t){var n=this.parentNode;_.inArray(this,e)<0&&(_.cleanData(ve(this)),n&&n.replaceChild(t,this))}),e)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){_.fn[e]=function(e){for(var n,i=[],r=_(e),l=r.length-1,s=0;s<=l;s++)n=s===l?this:this.clone(!0),_(r[s])[t](n),c.apply(i,n.get());return this.pushStack(i)}}));var Ve=new RegExp("^("+ne+")(?!px)[a-z%]+$","i"),Ue=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},je=function(e,t,n){var i,r,l={};for(r in t)l[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=l[r];return i},ze=new RegExp(re.join("|"),"i");function Ge(e,t,n){var i,r,l,s,o=e.style;return(n=n||Ue(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||se(e)||(s=_.style(e,t)),!m.pixelBoxStyles()&&Ve.test(s)&&ze.test(t)&&(i=o.width,r=o.minWidth,l=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=n.width,o.width=i,o.minWidth=r,o.maxWidth=l)),void 0!==s?s+"":s}function Be(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",le.appendChild(c).appendChild(u);var e=n.getComputedStyle(u);i="1%"!==e.top,a=12===t(e.marginLeft),u.style.right="60%",s=36===t(e.right),r=36===t(e.width),u.style.position="absolute",l=12===t(u.offsetWidth/3),le.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var i,r,l,s,o,a,c=v.createElement("div"),u=v.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===u.style.backgroundClip,_.extend(m,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),l},reliableTrDimensions:function(){var e,t,i,r;return null==o&&(e=v.createElement("table"),t=v.createElement("tr"),i=v.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",i.style.height="9px",i.style.display="block",le.appendChild(e).appendChild(t).appendChild(i),r=n.getComputedStyle(t),o=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,le.removeChild(e)),o}}))}();var He=["Webkit","Moz","ms"],qe=v.createElement("div").style,Ke={};function We(e){return _.cssProps[e]||Ke[e]||(e in qe?e:Ke[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=He.length;n--;)if((e=He[n]+t)in qe)return e}(e)||e)}var Qe=/^(none|table(?!-c[ea]).+)/,Ze=/^--/,Xe={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"};function Je(e,t,n){var i=ie.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function et(e,t,n,i,r,l){var s="width"===t?1:0,o=0,a=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(a+=_.css(e,n+re[s],!0,r)),i?("content"===n&&(a-=_.css(e,"padding"+re[s],!0,r)),"margin"!==n&&(a-=_.css(e,"border"+re[s]+"Width",!0,r))):(a+=_.css(e,"padding"+re[s],!0,r),"padding"!==n?a+=_.css(e,"border"+re[s]+"Width",!0,r):o+=_.css(e,"border"+re[s]+"Width",!0,r));return!i&&l>=0&&(a+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-l-a-o-.5))||0),a}function tt(e,t,n){var i=Ue(e),r=(!m.boxSizingReliable()||n)&&"border-box"===_.css(e,"boxSizing",!1,i),l=r,s=Ge(e,t,i),o="offset"+t[0].toUpperCase()+t.slice(1);if(Ve.test(s)){if(!n)return s;s="auto"}return(!m.boxSizingReliable()&&r||!m.reliableTrDimensions()&&E(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===_.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===_.css(e,"boxSizing",!1,i),(l=o in e)&&(s=e[o])),(s=parseFloat(s)||0)+et(e,t,n||(r?"border":"content"),l,i,s)+"px"}function nt(e,t,n,i,r){return new nt.prototype.init(e,t,n,i,r)}_.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,l,s,o=W(t),a=Ze.test(t),c=e.style;if(a||(t=We(o)),s=_.cssHooks[t]||_.cssHooks[o],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:c[t];"string"==(l=typeof n)&&(r=ie.exec(n))&&r[1]&&(n=ce(e,t,r),l="number"),null!=n&&n==n&&("number"!==l||a||(n+=r&&r[3]||(_.cssNumber[o]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(a?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,l,s,o=W(t);return Ze.test(t)||(t=We(o)),(s=_.cssHooks[t]||_.cssHooks[o])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=Ge(e,t,i)),"normal"===r&&t in Ye&&(r=Ye[t]),""===n||n?(l=parseFloat(r),!0===n||isFinite(l)?l||0:r):r}}),_.each(["height","width"],(function(e,t){_.cssHooks[t]={get:function(e,n,i){if(n)return!Qe.test(_.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?tt(e,t,i):je(e,Xe,(function(){return tt(e,t,i)}))},set:function(e,n,i){var r,l=Ue(e),s=!m.scrollboxSize()&&"absolute"===l.position,o=(s||i)&&"border-box"===_.css(e,"boxSizing",!1,l),a=i?et(e,t,i,o,l):0;return o&&s&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(l[t])-et(e,t,"border",!1,l)-.5)),a&&(r=ie.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=_.css(e,t)),Je(0,n,a)}}})),_.cssHooks.marginLeft=Be(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-je(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),_.each({margin:"",padding:"",border:"Width"},(function(e,t){_.cssHooks[e+t]={expand:function(n){for(var i=0,r={},l="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+re[i]+t]=l[i]||l[i-2]||l[0];return r}},"margin"!==e&&(_.cssHooks[e+t].set=Je)})),_.fn.extend({css:function(e,t){return B(this,(function(e,t,n){var i,r,l={},s=0;if(Array.isArray(t)){for(i=Ue(e),r=t.length;s<r;s++)l[t[s]]=_.css(e,t[s],!1,i);return l}return void 0!==n?_.style(e,t,n):_.css(e,t)}),e,t,arguments.length>1)}}),_.Tween=nt,(nt.prototype={constructor:nt,init:function(e,t,n,i,r,l){this.elem=e,this.prop=n,this.easing=r||_.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=l||(_.cssNumber[n]?"":"px")},cur:function(){var e=nt.propHooks[this.prop];return e&&e.get?e.get(this):nt.propHooks._default.get(this)},run:function(e){var t,n=nt.propHooks[this.prop];return this.pos=t=this.options.duration?_.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):nt.propHooks._default.set(this),this}}).init.prototype=nt.prototype,(nt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=_.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){_.fx.step[e.prop]?_.fx.step[e.prop](e):1!==e.elem.nodeType||!_.cssHooks[e.prop]&&null==e.elem.style[We(e.prop)]?e.elem[e.prop]=e.now:_.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=nt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},_.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},_.fx=nt.prototype.init,_.fx.step={};var it,rt,lt=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function ot(){rt&&(!1===v.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ot):n.setTimeout(ot,_.fx.interval),_.fx.tick())}function at(){return n.setTimeout((function(){it=void 0})),it=Date.now()}function ct(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=re[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function ut(e,t,n){for(var i,r=(ht.tweeners[t]||[]).concat(ht.tweeners["*"]),l=0,s=r.length;l<s;l++)if(i=r[l].call(n,t,e))return i}function ht(e,t,n){var i,r,l=0,s=ht.prefilters.length,o=_.Deferred().always((function(){delete a.elem})),a=function(){if(r)return!1;for(var t=it||at(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),l=0,s=c.tweens.length;l<s;l++)c.tweens[l].run(i);return o.notifyWith(e,[c,i,n]),i<1&&s?n:(s||o.notifyWith(e,[c,1,0]),o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:_.extend({},t),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||at(),duration:n.duration,tweens:[],createTween:function(t,n){var i=_.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(o.notifyWith(e,[c,1,0]),o.resolveWith(e,[c,t])):o.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var n,i,r,l,s;for(n in e)if(r=t[i=W(n)],l=e[n],Array.isArray(l)&&(r=l[1],l=e[n]=l[0]),n!==i&&(e[i]=l,delete e[n]),(s=_.cssHooks[i])&&"expand"in s)for(n in l=s.expand(l),delete e[i],l)n in e||(e[n]=l[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);l<s;l++)if(i=ht.prefilters[l].call(c,e,u,c.opts))return y(i.stop)&&(_._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return _.map(u,ut,c),y(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),_.fx.timer(_.extend(a,{elem:e,anim:c,queue:c.opts.queue})),c}_.Animation=_.extend(ht,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(F);for(var n,i=0,r=e.length;i<r;i++)(ht.tweeners[n=e[i]]=ht.tweeners[n]||[]).unshift(t)},prefilters:[function(e,t,n){var i,r,l,s,o,a,c,u,h="width"in t||"height"in t,d=this,p={},f=e.style,g=e.nodeType&&ae(e),m=X.get(e,"fxshow");for(i in n.queue||(null==(s=_._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,o=s.empty.fire,s.empty.fire=function(){s.unqueued||o()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,_.queue(e,"fx").length||s.empty.fire()}))}))),t)if(lt.test(r=t[i])){if(delete t[i],l=l||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}p[i]=m&&m[i]||_.style(e,i)}if((a=!_.isEmptyObject(t))||!_.isEmptyObject(p))for(i in h&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=m&&m.display)&&(c=X.get(e,"display")),"none"===(u=_.css(e,"display"))&&(c?u=c:(de([e],!0),c=e.style.display||c,u=_.css(e,"display"),de([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===_.css(e,"float")&&(a||(d.done((function(){f.display=c})),null==c&&(c="none"===(u=f.display)?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),a=!1,p)a||(m?"hidden"in m&&(g=m.hidden):m=X.access(e,"fxshow",{display:c}),l&&(m.hidden=!g),g&&de([e],!0),d.done((function(){for(i in g||de([e]),X.remove(e,"fxshow"),p)_.style(e,i,p[i])}))),a=ut(g?m[i]:0,i,d),i in m||(m[i]=a.start,g&&(a.end=a.start,a.start=0))}],prefilter:function(e,t){t?ht.prefilters.unshift(e):ht.prefilters.push(e)}}),_.speed=function(e,t,n){var i=e&&"object"==typeof e?_.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return _.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration=i.duration in _.fx.speeds?_.fx.speeds[i.duration]:_.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&_.dequeue(this,i.queue)},i},_.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=_.isEmptyObject(e),l=_.speed(t,n,i),s=function(){var t=ht(this,_.extend({},e),l);(r||X.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===l.queue?this.each(s):this.queue(l.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",l=_.timers,s=X.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&st.test(r)&&i(s[r]);for(r=l.length;r--;)l[r].elem!==this||null!=e&&l[r].queue!==e||(l[r].anim.stop(n),t=!1,l.splice(r,1));!t&&n||_.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=X.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],l=_.timers,s=i?i.length:0;for(n.finish=!0,_.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=l.length;t--;)l[t].elem===this&&l[t].queue===e&&(l[t].anim.stop(!0),l.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),_.each(["toggle","show","hide"],(function(e,t){var n=_.fn[t];_.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ct(t,!0),e,i,r)}})),_.each({slideDown:ct("show"),slideUp:ct("hide"),slideToggle:ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){_.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),_.timers=[],_.fx.tick=function(){var e,t=0,n=_.timers;for(it=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||_.fx.stop(),it=void 0},_.fx.timer=function(e){_.timers.push(e),_.fx.start()},_.fx.interval=13,_.fx.start=function(){rt||(rt=!0,ot())},_.fx.stop=function(){rt=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(e,t){return e=_.fx&&_.fx.speeds[e]||e,this.queue(t=t||"fx",(function(t,i){var r=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(r)}}))},function(){var e=v.createElement("input"),t=v.createElement("select").appendChild(v.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=v.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var dt,pt=_.expr.attrHandle;_.fn.extend({attr:function(e,t){return B(this,_.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){_.removeAttr(this,e)}))}}),_.extend({attr:function(e,t,n){var i,r,l=e.nodeType;if(3!==l&&8!==l&&2!==l)return void 0===e.getAttribute?_.prop(e,t,n):(1===l&&_.isXMLDoc(e)||(r=_.attrHooks[t.toLowerCase()]||(_.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void _.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=_.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&E(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(F);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?_.removeAttr(e,n):e.setAttribute(n,n),n}},_.each(_.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=pt[t]||_.find.attr;pt[t]=function(e,t,i){var r,l,s=t.toLowerCase();return i||(l=pt[s],pt[s]=r,r=null!=n(e,t,i)?s:null,pt[s]=l),r}}));var ft=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function mt(e){return(e.match(F)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(F)||[]}_.fn.extend({prop:function(e,t){return B(this,_.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[_.propFix[e]||e]}))}}),_.extend({prop:function(e,t,n){var i,r,l=e.nodeType;if(3!==l&&8!==l&&2!==l)return 1===l&&_.isXMLDoc(e)||(r=_.propHooks[t=_.propFix[t]||t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=_.find.attr(e,"tabindex");return t?parseInt(t,10):ft.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(_.propHooks.selected={get:function(e){return null},set:function(e){}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){_.propFix[this.toLowerCase()]=this})),_.fn.extend({addClass:function(e){var t,n,i,r,l,s,o,a=0;if(y(e))return this.each((function(t){_(this).addClass(e.call(this,t,yt(this)))}));if((t=bt(e)).length)for(;n=this[a++];)if(r=yt(n),i=1===n.nodeType&&" "+mt(r)+" "){for(s=0;l=t[s++];)i.indexOf(" "+l+" ")<0&&(i+=l+" ");r!==(o=mt(i))&&n.setAttribute("class",o)}return this},removeClass:function(e){var t,n,i,r,l,s,o,a=0;if(y(e))return this.each((function(t){_(this).removeClass(e.call(this,t,yt(this)))}));if(!arguments.length)return this.attr("class","");if((t=bt(e)).length)for(;n=this[a++];)if(r=yt(n),i=1===n.nodeType&&" "+mt(r)+" "){for(s=0;l=t[s++];)for(;i.indexOf(" "+l+" ")>-1;)i=i.replace(" "+l+" "," ");r!==(o=mt(i))&&n.setAttribute("class",o)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):y(e)?this.each((function(n){_(this).toggleClass(e.call(this,n,yt(this),t),t)})):this.each((function(){var t,r,l,s;if(i)for(r=0,l=_(this),s=bt(e);t=s[r++];)l.hasClass(t)?l.removeClass(t):l.addClass(t);else void 0!==e&&"boolean"!==n||((t=yt(this))&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":X.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+mt(yt(n))+" ").indexOf(t)>-1)return!0;return!1}});var vt=/\r/g;_.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=y(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,_(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=_.map(r,(function(e){return null==e?"":e+""}))),(t=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=_.valHooks[r.type]||_.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(vt,""):null==n?"":n:void 0}}),_.extend({valHooks:{option:{get:function(e){var t=_.find.attr(e,"value");return null!=t?t:mt(_.text(e))}},select:{get:function(e){var t,n,i,r=e.options,l=e.selectedIndex,s="select-one"===e.type,o=s?null:[],a=s?l+1:r.length;for(i=l<0?a:s?l:0;i<a;i++)if(((n=r[i]).selected||i===l)&&!n.disabled&&(!n.parentNode.disabled||!E(n.parentNode,"optgroup"))){if(t=_(n).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,l=_.makeArray(t),s=r.length;s--;)((i=r[s]).selected=_.inArray(_.valHooks.option.get(i),l)>-1)&&(n=!0);return n||(e.selectedIndex=-1),l}}}}),_.each(["radio","checkbox"],(function(){_.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=_.inArray(_(e).val(),t)>-1}},m.checkOn||(_.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),m.focusin="onfocusin"in n;var wt=/^(?:focusinfocus|focusoutblur)$/,Ct=function(e){e.stopPropagation()};_.extend(_.event,{trigger:function(e,t,i,r){var l,s,o,a,c,u,h,d,f=[i||v],g=p.call(e,"type")?e.type:e,m=p.call(e,"namespace")?e.namespace.split("."):[];if(s=d=o=i=i||v,3!==i.nodeType&&8!==i.nodeType&&!wt.test(g+_.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),c=g.indexOf(":")<0&&"on"+g,(e=e[_.expando]?e:new _.Event(g,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:_.makeArray(t,[e]),h=_.event.special[g]||{},r||!h.trigger||!1!==h.trigger.apply(i,t))){if(!r&&!h.noBubble&&!b(i)){for(wt.test((a=h.delegateType||g)+g)||(s=s.parentNode);s;s=s.parentNode)f.push(s),o=s;o===(i.ownerDocument||v)&&f.push(o.defaultView||o.parentWindow||n)}for(l=0;(s=f[l++])&&!e.isPropagationStopped();)d=s,e.type=l>1?a:h.bindType||g,(u=(X.get(s,"events")||Object.create(null))[e.type]&&X.get(s,"handle"))&&u.apply(s,t),(u=c&&s[c])&&u.apply&&Q(s)&&(e.result=u.apply(s,t),!1===e.result&&e.preventDefault());return e.type=g,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),t)||!Q(i)||c&&y(i[g])&&!b(i)&&((o=i[c])&&(i[c]=null),_.event.triggered=g,e.isPropagationStopped()&&d.addEventListener(g,Ct),i[g](),e.isPropagationStopped()&&d.removeEventListener(g,Ct),_.event.triggered=void 0,o&&(i[c]=o)),e.result}},simulate:function(e,t,n){var i=_.extend(new _.Event,n,{type:e,isSimulated:!0});_.event.trigger(i,null,t)}}),_.fn.extend({trigger:function(e,t){return this.each((function(){_.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return _.event.trigger(e,t,n,!0)}}),m.focusin||_.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){_.event.simulate(t,e.target,_.event.fix(e))};_.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=X.access(i,t);r||i.addEventListener(e,n,!0),X.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=X.access(i,t)-1;r?X.access(i,t,r):(i.removeEventListener(e,n,!0),X.remove(i,t))}}}));var St=n.location,_t={guid:Date.now()},xt=/\?/;_.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(r){}return i=t&&t.getElementsByTagName("parsererror")[0],t&&!i||_.error("Invalid XML: "+(i?_.map(i.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var It=/\[\]$/,kt=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;function Et(e,t,n,i){var r;if(Array.isArray(t))_.each(t,(function(t,r){n||It.test(e)?i(e,r):Et(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)}));else if(n||"object"!==S(t))i(e,t);else for(r in t)Et(e+"["+r+"]",t[r],n,i)}_.param=function(e,t){var n,i=[],r=function(e,t){var n=y(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!_.isPlainObject(e))_.each(e,(function(){r(this.name,this.value)}));else for(n in e)Et(n,e[n],t,r);return i.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=_.prop(this,"elements");return e?_.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!_(this).is(":disabled")&&Mt.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!ge.test(e))})).map((function(e,t){var n=_(this).val();return null==n?null:Array.isArray(n)?_.map(n,(function(e){return{name:t.name,value:e.replace(kt,"\r\n")}})):{name:t.name,value:n.replace(kt,"\r\n")}})).get()}});var Pt=/%20/g,Ot=/#.*$/,Dt=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,At=/^\/\//,Lt={},Ft={},$t="*/".concat("*"),Vt=v.createElement("a");function Ut(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,l=t.toLowerCase().match(F)||[];if(y(n))for(;i=l[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function jt(e,t,n,i){var r={},l=e===Ft;function s(o){var a;return r[o]=!0,_.each(e[o]||[],(function(e,o){var c=o(t,n,i);return"string"!=typeof c||l||r[c]?l?!(a=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),a}return s(t.dataTypes[0])||!r["*"]&&s("*")}function zt(e,t){var n,i,r=_.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&_.extend(!0,e,i),e}Vt.href=St.href,_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,_.ajaxSettings),t):zt(_.ajaxSettings,e)},ajaxPrefilter:Ut(Lt),ajaxTransport:Ut(Ft),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var i,r,l,s,o,a,c,u,h,d,p=_.ajaxSetup({},t=t||{}),f=p.context||p,g=p.context&&(f.nodeType||f.jquery)?_(f):_.event,m=_.Deferred(),y=_.Callbacks("once memory"),b=p.statusCode||{},w={},C={},S="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Nt.exec(l);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?l:null},setRequestHeader:function(e,t){return null==c&&(e=C[e.toLowerCase()]=C[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)x.always(e[x.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||S;return i&&i.abort(t),I(0,t),this}};if(m.promise(x),p.url=((e||p.url||St.href)+"").replace(At,St.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(F)||[""],null==p.crossDomain){a=v.createElement("a");try{a.href=p.url,a.href=a.href,p.crossDomain=Vt.protocol+"//"+Vt.host!=a.protocol+"//"+a.host}catch(k){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=_.param(p.data,p.traditional)),jt(Lt,p,t,x),c)return x;for(h in(u=_.event&&p.global)&&0==_.active++&&_.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Rt.test(p.type),r=p.url.replace(Ot,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Pt,"+")):(d=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(xt.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Dt,"$1"),d=(xt.test(r)?"&":"?")+"_="+_t.guid+++d),p.url=r+d),p.ifModified&&(_.lastModified[r]&&x.setRequestHeader("If-Modified-Since",_.lastModified[r]),_.etag[r]&&x.setRequestHeader("If-None-Match",_.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+$t+"; q=0.01":""):p.accepts["*"]),p.headers)x.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(f,x,p)||c))return x.abort();if(S="abort",y.add(p.complete),x.done(p.success),x.fail(p.error),i=jt(Ft,p,t,x)){if(x.readyState=1,u&&g.trigger("ajaxSend",[x,p]),c)return x;p.async&&p.timeout>0&&(o=n.setTimeout((function(){x.abort("timeout")}),p.timeout));try{c=!1,i.send(w,I)}catch(k){if(c)throw k;I(-1,k)}}else I(-1,"No Transport");function I(e,t,s,a){var h,d,v,w,C,S=t;c||(c=!0,o&&n.clearTimeout(o),i=void 0,l=a||"",x.readyState=e>0?4:0,h=e>=200&&e<300||304===e,s&&(w=function(e,t,n){for(var i,r,l,s,o=e.contents,a=e.dataTypes;"*"===a[0];)a.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in o)if(o[r]&&o[r].test(i)){a.unshift(r);break}if(a[0]in n)l=a[0];else{for(r in n){if(!a[0]||e.converters[r+" "+a[0]]){l=r;break}s||(s=r)}l=l||s}if(l)return l!==a[0]&&a.unshift(l),n[l]}(p,x,s)),!h&&_.inArray("script",p.dataTypes)>-1&&_.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),w=function(e,t,n,i){var r,l,s,o,a,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(l=u.shift();l;)if(e.responseFields[l]&&(n[e.responseFields[l]]=t),!a&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=l,l=u.shift())if("*"===l)l=a;else if("*"!==a&&a!==l){if(!(s=c[a+" "+l]||c["* "+l]))for(r in c)if((o=r.split(" "))[1]===l&&(s=c[a+" "+o[0]]||c["* "+o[0]])){!0===s?s=c[r]:!0!==c[r]&&(l=o[0],u.unshift(o[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(k){return{state:"parsererror",error:s?k:"No conversion from "+a+" to "+l}}}return{state:"success",data:t}}(p,w,x,h),h?(p.ifModified&&((C=x.getResponseHeader("Last-Modified"))&&(_.lastModified[r]=C),(C=x.getResponseHeader("etag"))&&(_.etag[r]=C)),204===e||"HEAD"===p.type?S="nocontent":304===e?S="notmodified":(S=w.state,d=w.data,h=!(v=w.error))):(v=S,!e&&S||(S="error",e<0&&(e=0))),x.status=e,x.statusText=(t||S)+"",h?m.resolveWith(f,[d,S,x]):m.rejectWith(f,[x,S,v]),x.statusCode(b),b=void 0,u&&g.trigger(h?"ajaxSuccess":"ajaxError",[x,p,h?d:v]),y.fireWith(f,[x,S]),u&&(g.trigger("ajaxComplete",[x,p]),--_.active||_.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return _.get(e,t,n,"json")},getScript:function(e,t){return _.get(e,void 0,t,"script")}}),_.each(["get","post"],(function(e,t){_[t]=function(e,n,i,r){return y(n)&&(r=r||i,i=n,n=void 0),_.ajax(_.extend({url:e,type:t,dataType:r,data:n,success:i},_.isPlainObject(e)&&e))}})),_.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),_._evalUrl=function(e,t,n){return _.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){_.globalEval(e,t,n)}})},_.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=_(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return y(e)?this.each((function(t){_(this).wrapInner(e.call(this,t))})):this.each((function(){var t=_(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=y(e);return this.each((function(n){_(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){_(this).replaceWith(this.childNodes)})),this}}),_.expr.pseudos.hidden=function(e){return!_.expr.pseudos.visible(e)},_.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Gt={0:200,1223:204},Bt=_.ajaxSettings.xhr();m.cors=!!Bt&&"withCredentials"in Bt,m.ajax=Bt=!!Bt,_.ajaxTransport((function(e){var t,i;if(m.cors||Bt&&!e.crossDomain)return{send:function(r,l){var s,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)o[s]=e.xhrFields[s];for(s in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)o.setRequestHeader(s,r[s]);t=function(e){return function(){t&&(t=i=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?l(0,"error"):l(o.status,o.statusText):l(Gt[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=t(),i=o.onerror=o.ontimeout=t("error"),void 0!==o.onabort?o.onabort=i:o.onreadystatechange=function(){4===o.readyState&&n.setTimeout((function(){t&&i()}))},t=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}})),_.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return _.globalEval(e),e}}}),_.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),_.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=_("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),v.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Ht,qt=[],Kt=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=qt.pop()||_.expando+"_"+_t.guid++;return this[e]=!0,e}}),_.ajaxPrefilter("json jsonp",(function(e,t,i){var r,l,s,o=!1!==e.jsonp&&(Kt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Kt,"$1"+r):!1!==e.jsonp&&(e.url+=(xt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||_.error(r+" was not called"),s[0]},e.dataTypes[0]="json",l=n[r],n[r]=function(){s=arguments},i.always((function(){void 0===l?_(n).removeProp(r):n[r]=l,e[r]&&(e.jsonpCallback=t.jsonpCallback,qt.push(r)),s&&y(l)&&l(s[0]),s=l=void 0})),"script"})),m.createHTMLDocument=((Ht=v.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ht.childNodes.length),_.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((i=(t=v.implementation.createHTMLDocument("")).createElement("base")).href=v.location.href,t.head.appendChild(i)):t=v),l=!n&&[],(r=P.exec(e))?[t.createElement(r[1])]:(r=Se([e],t,l),l&&l.length&&_(l).remove(),_.merge([],r.childNodes)));var i,r,l},_.fn.load=function(e,t,n){var i,r,l,s=this,o=e.indexOf(" ");return o>-1&&(i=mt(e.slice(o)),e=e.slice(0,o)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&_.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){l=arguments,s.html(i?_("<div>").append(_.parseHTML(e)).find(i):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,l||[e.responseText,t,e])}))}),this},_.expr.pseudos.animated=function(e){return _.grep(_.timers,(function(t){return e===t.elem})).length},_.offset={setOffset:function(e,t,n){var i,r,l,s,o,a,c=_.css(e,"position"),u=_(e),h={};"static"===c&&(e.style.position="relative"),o=u.offset(),l=_.css(e,"top"),a=_.css(e,"left"),("absolute"===c||"fixed"===c)&&(l+a).indexOf("auto")>-1?(s=(i=u.position()).top,r=i.left):(s=parseFloat(l)||0,r=parseFloat(a)||0),y(t)&&(t=t.call(e,n,_.extend({},o))),null!=t.top&&(h.top=t.top-o.top+s),null!=t.left&&(h.left=t.left-o.left+r),"using"in t?t.using.call(e,h):u.css(h)}},_.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){_.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?{top:(t=i.getBoundingClientRect()).top+(n=i.ownerDocument.defaultView).pageYOffset,left:t.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===_.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===_.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=_(e).offset()).top+=_.css(e,"borderTopWidth",!0),r.left+=_.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-_.css(i,"marginTop",!0),left:t.left-r.left-_.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===_.css(e,"position");)e=e.offsetParent;return e||le}))}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;_.fn[e]=function(i){return B(this,(function(e,i,r){var l;if(b(e)?l=e:9===e.nodeType&&(l=e.defaultView),void 0===r)return l?l[t]:e[i];l?l.scrollTo(n?l.pageXOffset:r,n?r:l.pageYOffset):e[i]=r}),e,i,arguments.length)}})),_.each(["top","left"],(function(e,t){_.cssHooks[t]=Be(m.pixelPosition,(function(e,n){if(n)return n=Ge(e,t),Ve.test(n)?_(e).position()[t]+"px":n}))})),_.each({Height:"height",Width:"width"},(function(e,t){_.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){_.fn[i]=function(r,l){var s=arguments.length&&(n||"boolean"!=typeof r),o=n||(!0===r||!0===l?"margin":"border");return B(this,(function(t,n,r){var l;return b(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(l=t.documentElement,Math.max(t.body["scroll"+e],l["scroll"+e],t.body["offset"+e],l["offset"+e],l["client"+e])):void 0===r?_.css(t,n,o):_.style(t,n,r,o)}),t,s?r:void 0,s)}}))})),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){_.fn[t]=function(e){return this.on(t,e)}})),_.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){_.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Wt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;_.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return i=o.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(o.call(arguments)))}).guid=e.guid=e.guid||_.guid++,r},_.holdReady=function(e){e?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=E,_.isFunction=y,_.isWindow=b,_.camelCase=W,_.type=S,_.now=Date.now,_.isNumeric=function(e){var t=_.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},_.trim=function(e){return null==e?"":(e+"").replace(Wt,"")},void 0===(i=(function(){return _}).apply(t,[]))||(e.exports=i);var Qt=n.jQuery,Zt=n.$;return _.noConflict=function(e){return n.$===_&&(n.$=Zt),e&&n.jQuery===_&&(n.jQuery=Qt),_},void 0===r&&(n.jQuery=n.$=_),_}))},FXxO:function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"j",(function(){return r})),n.d(t,"l",(function(){return l})),n.d(t,"k",(function(){return s})),n.d(t,"i",(function(){return o})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f}));var i="function",r="object",l="undefined",s="prototype",o="hasOwnProperty",a="default",c=Object,u=c[s],h=c.assign,d=c.create,p=c.defineProperty,f=u[o]},crnd:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},ltvU:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));var i=n("FXxO"),r=n("4El3"),l=(Object(r.a)(),Object(r.a)(),i.a||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])i.f[i.i].call(t,l)&&(e[l]=t[l]);return e}),s=function(e,t){return(s=i.b.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[i.i](n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}typeof t!==i.h&&null!==t&&Object(r.c)("Class extends value "+String(t)+" is not a constructor or null"),s(e,t),e[i.k]=null===t?Object(r.b)(t):(n[i.k]=t[i.k],new n)}function a(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e}},zUnb:function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.r(t),n.d(t,"getBaseUrl",(function(){return rV}));let r=!1;const l={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}};function s(e){setTimeout(()=>{throw e},0)}const o={closed:!0,next(e){},error(e){if(l.useDeprecatedSynchronousErrorHandling)throw e;s(e)},complete(){}},a=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function c(e){return null!==e&&"object"==typeof e}const u=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let h=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:r,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(i(r))try{r.call(this)}catch(s){t=s instanceof u?d(s.errors):[s]}if(a(l)){let e=-1,n=l.length;for(;++e<n;){const n=l[e];if(c(n))try{n.unsubscribe()}catch(s){t=t||[],s instanceof u?t=t.concat(d(s.errors)):t.push(s)}}}if(t)throw new u(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function d(e){return e.reduce((e,t)=>e.concat(t instanceof u?t.errors:t),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o;break;case 1:if(!e){this.destination=o;break}if("object"==typeof e){e instanceof f?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,e,t,n)}}[p](){return this}static create(e,t,n){const i=new f(e,t,n);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class g extends f{constructor(e,t,n,r){let l;super(),this._parentSubscriber=e;let s=this;i(t)?l=t:t&&(l=t.next,n=t.error,r=t.complete,t!==o&&(s=Object.create(t),i(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=l,this._error=n,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;l.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=l;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):s(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;s(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);l.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),l.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(e,t,n){if(!l.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return l.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(s(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(){}function b(...e){return v(e)}function v(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:y}let w=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:i}=this,r=function(e,t,n){if(e){if(e instanceof f)return e;if(e[p])return e[p]()}return e||t||n?new f(e,t,n):new f(o)}(e,t,n);if(r.add(i?i.call(r,this.source):this.source||l.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),l.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){l.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof f?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=C(t))((t,n)=>{let i;i=this.subscribe(t=>{try{e(t)}catch(r){n(r),i&&i.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[m](){return this}pipe(...e){return 0===e.length?this:v(e)(this)}toPromise(e){return new(e=C(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function C(e){if(e||(e=l.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const S=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class _ extends h{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class x extends f{constructor(e){super(e),this.destination=e}}let I=(()=>{class e extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new x(this)}lift(e){const t=new k(this,this);return t.operator=e,t}next(e){if(this.closed)throw new S;if(!this.isStopped){const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].next(e)}}error(e){if(this.closed)throw new S;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].error(e);this.observers.length=0}complete(){if(this.closed)throw new S;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let i=0;i<t;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new S;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new S;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new _(this,e))}asObservable(){const e=new w;return e.source=this,e}}return e.create=(e,t)=>new k(e,t),e})();class k extends I{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):h.EMPTY}}function T(e){return e&&"function"==typeof e.schedule}class M extends f{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const E=e=>t=>{for(let n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()};function P(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const O=P(),D=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function N(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const R=e=>{if(e&&"function"==typeof e[m])return i=e,e=>{const t=i[m]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(D(e))return E(e);if(N(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e);if(e&&"function"==typeof e[O])return t=e,e=>{const n=t[O]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=c(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,i};function A(e,t,n,i,r=new M(e,n,i)){if(!r.closed)return t instanceof w?t.subscribe(r):R(t)(r)}class L extends f{notifyNext(e,t,n,i,r){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function F(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new $(e,t))}}class ${constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new V(e,this.project,this.thisArg))}}class V extends f{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function U(e,t){return new w(n=>{const i=new h;let r=0;return i.add(t.schedule((function(){r!==e.length?(n.next(e[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i})}function j(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[m]}(e))return function(e,t){return new w(n=>{const i=new h;return i.add(t.schedule(()=>{const r=e[m]();i.add(r.subscribe({next(e){i.add(t.schedule(()=>n.next(e)))},error(e){i.add(t.schedule(()=>n.error(e)))},complete(){i.add(t.schedule(()=>n.complete()))}}))})),i})}(e,t);if(N(e))return function(e,t){return new w(n=>{const i=new h;return i.add(t.schedule(()=>e.then(e=>{i.add(t.schedule(()=>{n.next(e),i.add(t.schedule(()=>n.complete()))}))},e=>{i.add(t.schedule(()=>n.error(e)))}))),i})}(e,t);if(D(e))return U(e,t);if(function(e){return e&&"function"==typeof e[O]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new w(n=>{const i=new h;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(()=>{r=e[O](),i.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=r.next();e=n.value,t=n.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())})))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof w?e:new w(R(e))}function z(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(z((n,i)=>j(e(n,i)).pipe(F((e,r)=>t(n,e,i,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new G(e,n)))}class G{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new B(e,this.project,this.concurrent))}}class B extends L{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const i=new M(this,void 0,void 0);this.destination.add(i),A(this,e,t,n,i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,i,r){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(e){return e}function q(e=Number.POSITIVE_INFINITY){return z(H,e)}function K(e,t){return t?U(e,t):new w(E(e))}function W(...e){let t=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return T(i)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof i&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof w?e[0]:q(t)(K(e,n))}function Q(){return function(e){return e.lift(new Z(e))}}class Z{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const i=new X(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class X extends f{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class Y extends w{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new h,e.add(this.source.subscribe(new ee(this.getSubject(),this))),e.closed&&(this._connection=null,e=h.EMPTY)),e}refCount(){return Q()(this)}}const J=(()=>{const e=Y.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class ee extends x{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function te(){return new I}function ne(){return e=>{return Q()((t=te,function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,J);return i.source=e,i.subjectFactory=n,i})(e));var t}}function ie(e,t,n){const i=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function r(...e){if(this instanceof r)return i.apply(this,e),this;const t=new r(...e);return n.annotation=t,n;function n(e,n,i){const r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(t),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}const re=ie("Inject",e=>({token:e})),le=ie("Optional"),se=ie("Self"),oe=ie("SkipSelf");var ae=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function ce(e){for(let t in e)if(e[t]===ce)return t;throw Error("Could not find renamed property on target object.")}function ue(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}const he=ue;function de(e){const t=e[pe];return t&&t.token===e?t:null}const pe=ce({ngInjectableDef:ce});function fe(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(fe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const ge=ce({__forward_ref__:ce});function me(e){return e.__forward_ref__=me,e.toString=function(){return fe(this())},e}function ye(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(ge)&&t.__forward_ref__===me?t():e}const be="undefined"!=typeof globalThis&&globalThis,ve="undefined"!=typeof window&&window,we="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ce="undefined"!=typeof global&&global,Se=be||Ce||ve||we;class _e{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=ue({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const xe=new _e("INJECTOR",-1),Ie=new Object,ke=/\n/gm,Te=ce({provide:String,useValue:ce});let Me=void 0;function Ee(e){const t=Me;return Me=e,t}function Pe(e,t=ae.Default){return function(e,t=ae.Default){if(void 0===Me)throw new Error("inject() must be called from an injection context");return null===Me?function(e,t,n){const i=de(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&ae.Optional)return null;throw new Error(`Injector: NOT_FOUND [${fe(e)}]`)}(e,0,t):Me.get(e,t&ae.Optional?null:void 0,t)}(e,t)}const Oe=Pe;class De{get(e,t=Ie){if(t===Ie){const t=new Error(`NullInjectorError: No provider for ${fe(e)}!`);throw t.name="NullInjectorError",t}return t}}function Ne(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let r=fe(t);if(t instanceof Array)r=t.map(fe).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];e.push(n+":"+("string"==typeof i?JSON.stringify(i):fe(i)))}r=`{${e.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(ke,"\n  ")}`}class Re{}class Ae{}function Le(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Fe(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const $e=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Ve=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Se))();function Ue(e){return e.ngDebugContext}function je(e){return e.ngOriginalError}function ze(e,...t){e.error(...t)}class Ge{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||ze}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?Ue(e)?Ue(e):this._findContext(je(e)):null}_findOriginalError(e){let t=je(e);for(;t&&je(t);)t=je(t);return t}}let Be=!0,He=!1;function qe(){return He=!0,Be}class Ke{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(i){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const n=t.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const We=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Qe=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ze(e){return(e=String(e)).match(We)||e.match(Qe)?e:(qe()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function Xe(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Ye(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Je=Xe("area,br,col,hr,img,wbr"),et=Xe("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tt=Xe("rp,rt"),nt=Ye(tt,et),it=Ye(Je,Ye(et,Xe("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ye(tt,Xe("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nt),rt=Xe("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lt=Xe("srcset"),st=Ye(rt,lt,Xe("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xe("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ot=Xe("script,style,template");class at{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!it.hasOwnProperty(t))return this.sanitizedSomething=!0,!ot.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,l=t.toLowerCase();if(!st.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let s=e.value;rt[l]&&(s=Ze(s)),lt[l]&&(i=s,s=(i=String(i)).split(",").map(e=>Ze(e.trim())).join(", ")),this.buf.push(" ",t,'="',ht(s),'"')}var i;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();it.hasOwnProperty(t)&&!Je.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ht(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}const ct=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ut=/([^\#-~ |!])/g;function ht(e){return e.replace(/&/g,"&amp;").replace(ct,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(ut,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dt;function pt(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const ft=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class gt{}const mt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),yt=/^url\(([^)]+)\)$/,bt=/([A-Z])/g;function vt(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}let wt=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ct(),e})();const Ct=(...e)=>{},St=new _e("The presence of this token marks an injector as being the root injector."),_t=function(e,t,n){return new Et(e,t,n)};let xt=(()=>{class e{static create(e,t){return Array.isArray(e)?_t(e,t,""):_t(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Ie,e.NULL=new De,e.ngInjectableDef=ue({token:e,providedIn:"any",factory:()=>Pe(xe)}),e.__NG_ELEMENT_ID__=-1,e})();const It=function(e){return e},kt=[],Tt=It,Mt=function(){return Array.prototype.slice.call(arguments)};class Et{constructor(e,t=xt.NULL,n=null){this.parent=t,this.source=n;const i=this._records=new Map;i.set(xt,{token:xt,fn:It,deps:kt,value:this,useNew:!1}),i.set(xe,{token:xe,fn:It,deps:kt,value:this,useNew:!1}),function e(t,n){if(n)if((n=ye(n))instanceof Array)for(let i=0;i<n.length;i++)e(t,n[i]);else{if("function"==typeof n)throw Ot("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Ot("Unexpected provider",n);{let e=ye(n.provide);const i=function(e){const t=function(e){let t=kt;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let i=6,r=ye(n[e]);if(r instanceof Array)for(let e=0,t=r;e<t.length;e++){const n=t[e];n instanceof le||n==le?i|=1:n instanceof oe||n==oe?i&=-3:n instanceof se||n==se?i&=-5:r=n instanceof re?n.token:ye(n)}t.push({token:r,options:i})}}else if(e.useExisting)t=[{token:ye(e.useExisting),options:6}];else if(!n&&!(Te in e))throw Ot("'deps' required",e);return t}(e);let n=It,i=kt,r=!1,l=ye(e.provide);if(Te in e)i=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)r=!0,n=ye(e.useClass);else{if("function"!=typeof l)throw Ot("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);r=!0,n=l}return{deps:t,fn:n,useNew:r,value:i}}(n);if(!0===n.multi){let i=t.get(e);if(i){if(i.fn!==Mt)throw Pt(e)}else t.set(e,i={token:n.provide,deps:[],useNew:!1,fn:Mt,value:kt});e=n,i.deps.push({token:e,options:6})}const r=t.get(e);if(r&&r.fn==Mt)throw Pt(e);t.set(e,i)}}}(i,e)}get(e,t,n=ae.Default){const i=this._records.get(e);try{return function e(t,n,i,r,l,s){try{return function(t,n,i,r,l,s){let o;if(!n||s&ae.SkipSelf)s&ae.Self||(o=r.get(t,l,ae.Default));else{if(o=n.value,o==Tt)throw Error("\u0275Circular dependency");if(o===kt){n.value=Tt;let t=void 0,l=n.useNew,s=n.fn,a=n.deps,c=kt;if(a.length){c=[];for(let t=0;t<a.length;t++){const n=a[t],l=n.options,s=2&l?i.get(n.token):void 0;c.push(e(n.token,s,i,s||4&l?r:xt.NULL,1&l?null:xt.THROW_IF_NOT_FOUND,ae.Default))}}n.value=o=l?new s(...c):s.apply(t,c)}}return o}(t,n,i,r,l,s)}catch(o){throw o instanceof Error||(o=new Error(o)),(o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(t),n&&n.value==Tt&&(n.value=kt),o}}(e,i,this._records,this.parent,t,n)}catch(r){return function(e,t,n,i){const r=e.ngTempTokenPath;throw t.__source&&r.unshift(t.__source),e.message=Ne("\n"+e.message,r,"StaticInjectorError",i),e.ngTokenPath=r,e.ngTempTokenPath=null,e}(r,e,0,this.source)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(fe(n))),`StaticInjector[${e.join(", ")}]`}}function Pt(e){return Ot("Cannot mix multi providers and regular providers",e)}function Ot(e,t){return new Error(Ne(e,t,"StaticInjectorError"))}const Dt=new _e("AnalyzeForEntryComponents");let Nt=null;function Rt(){if(!Nt){const e=Se.Symbol;if(e&&e.iterator)Nt=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Nt=n)}}}return Nt}function At(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Lt(e,t){const n=$t(e),i=$t(t);if(n&&i)return function(e,t,n){const i=e[Rt()](),r=t[Rt()]();for(;;){const e=i.next(),t=r.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,Lt);{const r=e&&("object"==typeof e||"function"==typeof e),l=t&&("object"==typeof t||"function"==typeof t);return!(n||!r||i||!l)||At(e,t)}}class Ft{constructor(e){this.wrapped=e}static wrap(e){return new Ft(e)}static unwrap(e){return Ft.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Ft}}function $t(e){return!!Vt(e)&&(Array.isArray(e)||!(e instanceof Map)&&Rt()in e)}function Vt(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ut(e){return!!e&&"function"==typeof e.then}function jt(e){return!!e&&"function"==typeof e.subscribe}class zt{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}class Gt{}function Bt(e){const t=Error(`No component factory found for ${fe(e)}. Did you add it to @NgModule.entryComponents?`);return t[Ht]=e,t}const Ht="ngComponent";class qt{resolveComponentFactory(e){throw Bt(e)}}let Kt=(()=>{class e{}return e.NULL=new qt,e})();class Wt{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let i=0;i<e.length;i++){const t=e[i];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Bt(e);return new Qt(t,this._ngModule)}}class Qt extends Gt{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,i){return this.factory.create(e,t,n,i||this.ngModule)}}function Zt(...e){}let Xt=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>Yt(e),e})();const Yt=Zt;class Jt{}class en{}const tn=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let nn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>rn(),e})();const rn=Zt;class ln{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const sn=new ln("8.2.14");class on{constructor(){}supports(e){return $t(e)}create(e){return new cn(e)}}const an=(e,t)=>t;class cn{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||an}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,i=0,r=null;for(;t||n;){const l=!n||t&&t.currentIndex<pn(n,i,r)?t:n,s=pn(l,i,r),o=l.currentIndex;if(l===n)i--,n=n._nextRemoved;else if(t=t._next,null==l.previousIndex)i++;else{r||(r=[]);const e=s-i,t=o-i;if(e!=t){for(let n=0;n<e;n++){const i=n<r.length?r[n]:r[n]=0,l=i+n;t<=l&&l<e&&(r[n]=i+1)}r[l.previousIndex]=t-e}}s!==o&&e(l,s,o)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!$t(e))throw new Error(`Error trying to diff '${fe(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,i,r=this._itHead,l=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],i=this._trackByFn(t,n),null!==r&&At(r.trackById,i)?(l&&(r=this._verifyReinsertion(r,n,i,t)),At(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,t),l=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Rt()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(e,e=>{i=this._trackByFn(t,e),null!==r&&At(r.trackById,i)?(l&&(r=this._verifyReinsertion(r,e,i,t)),At(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,i,t),l=!0),r=r._next,t++}),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,i){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(At(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(At(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):e=this._addAfter(new un(t,n),r,i),e}_verifyReinsertion(e,t,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new dn),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dn),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class un{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hn{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&At(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class dn{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new hn,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pn(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class fn{constructor(){}supports(e){return e instanceof Map||Vt(e)}create(){return new gn}}class gn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Vt(e)))throw new Error(`Error trying to diff '${fe(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new mn(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){At(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class mn{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let yn=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new oe,new le]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.ngInjectableDef=ue({token:e,providedIn:"root",factory:()=>new e([new on])}),e})(),bn=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new oe,new le]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.ngInjectableDef=ue({token:e,providedIn:"root",factory:()=>new e([new fn])}),e})();const vn=[new fn],wn=new yn([new on]),Cn=new bn(vn);let Sn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>_n(e,Xt),e})();const _n=Zt;let xn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>In(e,Xt),e})();const In=Zt;function kn(e,t,n,i){let r=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return Tn(n,t),n}(r,e)}function Tn(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function Mn(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}function En(e,t,n){const i=e.state,r=1792&i;return r===t?(e.state=-1793&i|n,e.initIndex=-1,!0):r===n}function Pn(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function On(e,t){return e.nodes[t]}function Dn(e,t){return e.nodes[t]}function Nn(e,t){return e.nodes[t]}function Rn(e,t){return e.nodes[t]}function An(e,t){return e.nodes[t]}const Ln={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Fn=()=>{},$n=new Map;function Vn(e){let t=$n.get(e);return t||(t=fe(e)+"_"+$n.size,$n.set(e,t)),t}function Un(e,t,n,i){if(Ft.isWrapped(i)){i=Ft.unwrap(i);const r=e.def.nodes[t].bindingIndex+n,l=Ft.unwrap(e.oldValues[r]);e.oldValues[r]=new Ft(l)}return i}function jn(e){return{id:"$$undefined",styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let zn=0;function Gn(e,t,n,i){return!(!(2&e.state)&&At(e.oldValues[t.bindingIndex+n],i))}function Bn(e,t,n,i){return!!Gn(e,t,n,i)&&(e.oldValues[t.bindingIndex+n]=i,!0)}function Hn(e,t,n,i){const r=e.oldValues[t.bindingIndex+n];if(1&e.state||!Lt(r,i)){const l=t.bindings[n].name;throw kn(Ln.createDebugContext(e,t.nodeIndex),`${l}: ${r}`,`${l}: ${i}`,0!=(1&e.state))}}function qn(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Kn(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Wn(e,t,n,i){try{return qn(33554432&e.def.nodes[t].flags?Dn(e,t).componentView:e),Ln.handleEvent(e,t,n,i)}catch(r){e.root.errorHandler.handleError(r)}}function Qn(e){return e.parent?Dn(e.parent,e.parentNodeDef.nodeIndex):null}function Zn(e){return e.parent?e.parentNodeDef.parent:null}function Xn(e,t){switch(201347067&t.flags){case 1:return Dn(e,t.nodeIndex).renderElement;case 2:return On(e,t.nodeIndex).renderText}}function Yn(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Jn(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function ei(e){return 1<<e%32}function ti(e){const t={};let n=0;const i={};return e&&e.forEach(([e,r])=>{"number"==typeof e?(t[e]=r,n|=ei(e)):i[e]=r}),{matchedQueries:t,references:i,matchedQueryIds:n}}function ni(e,t){return e.map(e=>{let n,i;return Array.isArray(e)?[i,n]=e:(i=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,"__source",{value:t,configurable:!0}),{flags:i,token:n,tokenKey:Vn(n)}})}function ii(e,t,n){let i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===$e.Native?Dn(e,n.renderParent.nodeIndex).renderElement:void 0:t}const ri=new WeakMap;function li(e){let t=ri.get(e);return t||(t=e(()=>Fn),t.factory=e,ri.set(e,t)),t}function si(e,t,n,i,r){3===t&&(n=e.renderer.parentNode(Xn(e,e.def.lastRenderRootNode))),oi(e,t,0,e.def.nodes.length-1,n,i,r)}function oi(e,t,n,i,r,l,s){for(let o=n;o<=i;o++){const n=e.def.nodes[o];11&n.flags&&ci(e,n,t,r,l,s),o+=n.childCount}}function ai(e,t,n,i,r,l){let s=e;for(;s&&!Yn(s);)s=s.parent;const o=s.parent,a=Zn(s),c=a.nodeIndex+a.childCount;for(let u=a.nodeIndex+1;u<=c;u++){const e=o.def.nodes[u];e.ngContentIndex===t&&ci(o,e,n,i,r,l),u+=e.childCount}if(!o.parent){const s=e.root.projectableNodes[t];if(s)for(let t=0;t<s.length;t++)ui(e,s[t],n,i,r,l)}}function ci(e,t,n,i,r,l){if(8&t.flags)ai(e,t.ngContent.index,n,i,r,l);else{const s=Xn(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&ui(e,s,n,i,r,l),32&t.bindingFlags&&ui(Dn(e,t.nodeIndex).componentView,s,n,i,r,l)):ui(e,s,n,i,r,l),16777216&t.flags){const s=Dn(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<s.length;e++)si(s[e],n,i,r,l)}1&t.flags&&!t.element.name&&oi(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,i,r,l)}}function ui(e,t,n,i,r,l){const s=e.renderer;switch(n){case 1:s.appendChild(i,t);break;case 2:s.insertBefore(i,t,r);break;case 3:s.removeChild(i,t);break;case 0:l.push(t)}}const hi=/^:([^:]+):(.+)$/;function di(e){if(":"===e[0]){const t=e.match(hi);return[t[1],t[2]]}return["",e]}function pi(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function fi(e,t,n,i,r,l,s,o,a,c,u,h,d,p,f,g,m,y,b,v){switch(e){case 1:return t+gi(n)+i;case 2:return t+gi(n)+i+gi(r)+l;case 3:return t+gi(n)+i+gi(r)+l+gi(s)+o;case 4:return t+gi(n)+i+gi(r)+l+gi(s)+o+gi(a)+c;case 5:return t+gi(n)+i+gi(r)+l+gi(s)+o+gi(a)+c+gi(u)+h;case 6:return t+gi(n)+i+gi(r)+l+gi(s)+o+gi(a)+c+gi(u)+h+gi(d)+p;case 7:return t+gi(n)+i+gi(r)+l+gi(s)+o+gi(a)+c+gi(u)+h+gi(d)+p+gi(f)+g;case 8:return t+gi(n)+i+gi(r)+l+gi(s)+o+gi(a)+c+gi(u)+h+gi(d)+p+gi(f)+g+gi(m)+y;case 9:return t+gi(n)+i+gi(r)+l+gi(s)+o+gi(a)+c+gi(u)+h+gi(d)+p+gi(f)+g+gi(m)+y+gi(b)+v;default:throw new Error("Does not support more than 9 expressions")}}function gi(e){return null!=e?e.toString():""}const mi=[],yi=new Object,bi=Vn(xt),vi=Vn(xe),wi=Vn(Re);function Ci(e,t,n,i){return n=ye(n),{index:-1,deps:ni(i,fe(t)),flags:e,token:t,value:n}}function Si(e,t,n=xt.THROW_IF_NOT_FOUND){const i=Ee(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const s=t.tokenKey;switch(s){case bi:case vi:case wi:return e}const o=e._def.providersByKey[s];let a;if(o){let t=e._providers[o.index];return void 0===t&&(t=e._providers[o.index]=_i(e,o)),t===yi?void 0:t}if((a=de(t.token))&&(r=e,null!=(l=a).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(r,l.providedIn)||"root"===l.providedIn&&r._def.isRoot))){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:a.factory,deps:[],index:n,token:t.token},e._providers[n]=yi,e._providers[n]=_i(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{Ee(i)}var r,l}function _i(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const i=n.length;switch(i){case 0:return new t;case 1:return new t(Si(e,n[0]));case 2:return new t(Si(e,n[0]),Si(e,n[1]));case 3:return new t(Si(e,n[0]),Si(e,n[1]),Si(e,n[2]));default:const r=new Array(i);for(let t=0;t<i;t++)r[t]=Si(e,n[t]);return new t(...r)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const i=n.length;switch(i){case 0:return t();case 1:return t(Si(e,n[0]));case 2:return t(Si(e,n[0]),Si(e,n[1]));case 3:return t(Si(e,n[0]),Si(e,n[1]),Si(e,n[2]));default:const r=Array(i);for(let t=0;t<i;t++)r[t]=Si(e,n[t]);return t(...r)}}(e,t.value,t.deps);break;case 2048:n=Si(e,t.deps[0]);break;case 256:n=t.value}return n===yi||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?yi:n}function xi(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const i=n[t];return i.viewContainerParent=null,Fe(n,t),Ln.dirtyParentQueries(i),ki(i),i}function Ii(e,t,n){const i=t?Xn(t,t.def.lastRenderRootNode):e.renderElement,r=n.renderer.parentNode(i),l=n.renderer.nextSibling(i);si(n,2,r,l,void 0)}function ki(e){si(e,3,null,null,void 0)}const Ti=new Object;function Mi(e,t,n,i,r,l){return new Ei(e,t,n,i,r,l)}class Ei extends Gt{constructor(e,t,n,i,r,l){super(),this.selector=e,this.componentType=t,this._inputs=i,this._outputs=r,this.ngContentSelectors=l,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,i){if(!i)throw new Error("ngModule should be provided");const r=li(this.viewDefFactory),l=r.nodes[0].element.componentProvider.nodeIndex,s=Ln.createRootView(e,t||[],n,r,i,Ti),o=Nn(s,l).instance;return n&&s.renderer.setAttribute(Dn(s,0).renderElement,"ng-version",sn.full),new Pi(s,new Ri(s),o)}}class Pi extends class{}{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new Xt(Dn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new $i(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function Oi(e,t,n){return new Di(e,t,n)}class Di{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new Xt(this._data.renderElement)}get injector(){return new $i(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=Zn(e),e=e.parent;return e?new $i(e,t):new $i(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=xi(this._data,e);Ln.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new Ri(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const i=e.createEmbeddedView(t||{});return this.insert(i,n),i}createComponent(e,t,n,i,r){const l=n||this.parentInjector;r||e instanceof Qt||(r=l.get(Re));const s=e.create(l,i,void 0,r);return this.insert(s.hostView,t),s}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,i){let r=t.viewContainer._embeddedViews;null==n&&(n=r.length),i.viewContainerParent=e,Le(r,n,i),function(e,t){const n=Qn(t);if(!n||n===e||16&t.state)return;t.state|=16;let i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,i),Ln.dirtyParentQueries(i),Ii(t,n>0?r[n-1]:null,i)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const i=e.viewContainer._embeddedViews,r=i[t];Fe(i,t),null==n&&(n=i.length),Le(i,n,r),Ln.dirtyParentQueries(r),ki(r),Ii(e,n>0?i[n-1]:null,r)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=xi(this._data,e);t&&Ln.destroyView(t)}detach(e){const t=xi(this._data,e);return t?new Ri(t):null}}function Ni(e){return new Ri(e)}class Ri{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return si(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){qn(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{Ln.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){Ln.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Ln.destroyView(this._view)}detachFromAppRef(){this._appRef=null,ki(this._view),Ln.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function Ai(e,t){return new Li(e,t)}class Li extends Sn{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new Ri(Ln.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new Xt(Dn(this._parentView,this._def.nodeIndex).renderElement)}}function Fi(e,t){return new $i(e,t)}class $i{constructor(e,t){this.view=e,this.elDef=t}get(e,t=xt.THROW_IF_NOT_FOUND){return Ln.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Vn(e)},t)}}function Vi(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=Dn(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return On(e,n.nodeIndex).renderText;if(20240&n.flags)return Nn(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function Ui(e){return new ji(e.renderer)}class ji{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,i]=di(t),r=this.delegate.createElement(i,n);return e&&this.delegate.appendChild(e,r),r}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),i=this.delegate.nextSibling(e);for(let r=0;r<t.length;r++)this.delegate.insertBefore(n,t[r],i)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[i,r]=di(t);null!=n?this.delegate.setAttribute(e,r,n,i):this.delegate.removeAttribute(e,r,i)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function zi(e,t,n,i){return new Gi(e,t,n,i)}class Gi{constructor(e,t,n,i){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let i=0;i<t.providers.length;i++){const r=t.providers[i];4096&r.flags||void 0===n[i]&&(n[i]=_i(e,r))}}(this)}get(e,t=xt.THROW_IF_NOT_FOUND,n=ae.Default){let i=0;return n&ae.SkipSelf?i|=1:n&ae.Self&&(i|=4),Si(this,{token:e,tokenKey:Vn(e),flags:i},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Kt)}destroy(){if(this._destroyed)throw new Error(`The ng module ${fe(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,i=new Set;for(let r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){const t=e._providers[r];if(t&&t!==yi){const e=t.ngOnDestroy;"function"!=typeof e||i.has(t)||(e.apply(t),i.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const Bi=Vn(Jt),Hi=Vn(nn),qi=Vn(Xt),Ki=Vn(xn),Wi=Vn(Sn),Qi=Vn(wt),Zi=Vn(xt),Xi=Vn(xe);function Yi(e,t,n,i,r,l,s,o){const a=[];if(s)for(let u in s){const[e,t]=s[u];a[e]={flags:8,name:u,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const c=[];if(o)for(let u in o)c.push({type:1,propName:u,target:null,eventName:o[u]});return tr(e,t|=16384,n,i,r,r,l,a,c)}function Ji(e,t,n){return tr(-1,e|=16,null,0,t,t,n)}function er(e,t,n,i,r){return tr(-1,e,t,0,n,i,r)}function tr(e,t,n,i,r,l,s,o,a){const{matchedQueries:c,references:u,matchedQueryIds:h}=ti(n);a||(a=[]),o||(o=[]),l=ye(l);const d=ni(s,fe(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:u,ngContentIndex:-1,childCount:i,bindings:o,bindingFlags:pi(o),outputs:a,element:null,provider:{token:r,value:l,deps:d},text:null,query:null,ngContent:null}}function nr(e,t){return sr(e,t)}function ir(e,t){let n=e;for(;n.parent&&!Yn(n);)n=n.parent;return or(n.parent,Zn(n),!0,t.provider.value,t.provider.deps)}function rr(e,t){const n=or(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let i=0;i<t.outputs.length;i++){const r=t.outputs[i],l=n[r.propName];if(!jt(l))throw new Error(`@Output ${r.propName} not initialized in '${n.constructor.name}'.`);{const n=l.subscribe(lr(e,t.parent.nodeIndex,r.eventName));e.disposables[t.outputIndex+i]=n.unsubscribe.bind(n)}}return n}function lr(e,t,n){return i=>Wn(e,t,n,i)}function sr(e,t){const n=(8192&t.flags)>0,i=t.provider;switch(201347067&t.flags){case 512:return or(e,t.parent,n,i.value,i.deps);case 1024:return function(e,t,n,i,r){const l=r.length;switch(l){case 0:return i();case 1:return i(cr(e,t,n,r[0]));case 2:return i(cr(e,t,n,r[0]),cr(e,t,n,r[1]));case 3:return i(cr(e,t,n,r[0]),cr(e,t,n,r[1]),cr(e,t,n,r[2]));default:const s=Array(l);for(let i=0;i<l;i++)s[i]=cr(e,t,n,r[i]);return i(...s)}}(e,t.parent,n,i.value,i.deps);case 2048:return cr(e,t.parent,n,i.deps[0]);case 256:return i.value}}function or(e,t,n,i,r){const l=r.length;switch(l){case 0:return new i;case 1:return new i(cr(e,t,n,r[0]));case 2:return new i(cr(e,t,n,r[0]),cr(e,t,n,r[1]));case 3:return new i(cr(e,t,n,r[0]),cr(e,t,n,r[1]),cr(e,t,n,r[2]));default:const s=new Array(l);for(let i=0;i<l;i++)s[i]=cr(e,t,n,r[i]);return new i(...s)}}const ar={};function cr(e,t,n,i,r=xt.THROW_IF_NOT_FOUND){if(8&i.flags)return i.token;const l=e;2&i.flags&&(r=null);const s=i.tokenKey;s===Qi&&(n=!(!t||!t.element.componentView)),t&&1&i.flags&&(n=!1,t=t.parent);let o=e;for(;o;){if(t)switch(s){case Bi:return Ui(ur(o,t,n));case Hi:return ur(o,t,n).renderer;case qi:return new Xt(Dn(o,t.nodeIndex).renderElement);case Ki:return Dn(o,t.nodeIndex).viewContainer;case Wi:if(t.element.template)return Dn(o,t.nodeIndex).template;break;case Qi:return Ni(ur(o,t,n));case Zi:case Xi:return Fi(o,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[s];if(e){let t=Nn(o,e.nodeIndex);return t||(t={instance:sr(o,e)},o.nodes[e.nodeIndex]=t),t.instance}}n=Yn(o),t=Zn(o),o=o.parent,4&i.flags&&(o=null)}const a=l.root.injector.get(i.token,ar);return a!==ar||r===ar?a:l.root.ngModule.injector.get(i.token,r)}function ur(e,t,n){let i;if(n)i=Dn(e,t.nodeIndex).componentView;else for(i=e;i.parent&&!Yn(i);)i=i.parent;return i}function hr(e,t,n,i,r,l){if(32768&n.flags){const t=Dn(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[i].name]=r,524288&n.flags){l=l||{};const t=Ft.unwrap(e.oldValues[n.bindingIndex+i]);l[n.bindings[i].nonMinifiedName]=new zt(t,r,0!=(2&e.state))}return e.oldValues[n.bindingIndex+i]=r,l}function dr(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let i=0;for(let r=0;r<n.length;r++){const l=n[r];let s=l.parent;for(!s&&l.flags&t&&fr(e,r,l.flags&t,i++),0==(l.childFlags&t)&&(r+=l.childCount);s&&1&s.flags&&r===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(i=pr(e,s,t,i)),s=s.parent}}function pr(e,t,n,i){for(let r=t.nodeIndex+1;r<=t.nodeIndex+t.childCount;r++){const t=e.def.nodes[r];t.flags&n&&fr(e,r,t.flags&n,i++),r+=t.childCount}return i}function fr(e,t,n,i){const r=Nn(e,t);if(!r)return;const l=r.instance;l&&(Ln.setCurrentNode(e,t),1048576&n&&Pn(e,512,i)&&l.ngAfterContentInit(),2097152&n&&l.ngAfterContentChecked(),4194304&n&&Pn(e,768,i)&&l.ngAfterViewInit(),8388608&n&&l.ngAfterViewChecked(),131072&n&&l.ngOnDestroy())}const gr=new _e("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ve}),mr={},yr=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),br=void 0;var vr=["en",[["a","p"],["AM","PM"],br],[["AM","PM"],br,br],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],br,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],br,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",br,"{1} 'at' {0}",br],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function wr(e){const t=e.toLowerCase().replace(/_/g,"-");let n=mr[t];if(n)return n;const i=t.split("-")[0];if(n=mr[i],n)return n;if("en"===i)return vr;throw new Error(`Missing locale data for the locale "${e}".`)}class Cr extends I{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let i,r=e=>null,l=()=>null;e&&"object"==typeof e?(i=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(r=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(l=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(l=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(i,r,l);return e instanceof h&&e.add(s),s}}function Sr(){return this._results[Rt()]()}class _r{constructor(){this.dirty=!0,this._results=[],this.changes=new Cr,this.length=0;const e=Rt(),t=_r.prototype;t[e]||(t[e]=Sr)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?(n===t&&(n=t.slice(0,i)),e(r,n)):n!==t&&n.push(r)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const xr=new _e("Application Initializer");class Ir{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Ut(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}const kr=new _e("AppId"),Tr=new _e("Platform Initializer"),Mr=new _e("Platform ID"),Er=new _e("appBootstrapListener");class Pr{log(e){console.log(e)}warn(e){console.warn(e)}}const Or=new _e("LocaleId");function Dr(){throw new Error("Runtime compiler is not loaded")}const Nr=Dr,Rr=Dr,Ar=Dr,Lr=Dr;class Fr{constructor(){this.compileModuleSync=Nr,this.compileModuleAsync=Rr,this.compileModuleAndAllComponentsSync=Ar,this.compileModuleAndAllComponentsAsync=Lr}clearCache(){}clearCacheFor(e){}getModuleId(e){}}class $r{}let Vr,Ur;function jr(){const e=Se.wtf;return!(!e||(Vr=e.trace,!Vr)||(Ur=Vr.events,0))}const zr=jr();function Gr(e,t){return null}const Br=zr?function(e,t=null){return Ur.createScope(e,t)}:(e,t)=>Gr,Hr=zr?function(e,t){return Vr.leaveScope(e,t),t}:(e,t)=>t,qr=(()=>Promise.resolve(0))();function Kr(e){"undefined"==typeof Zone?qr.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Wr{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cr(!1),this.onMicrotaskEmpty=new Cr(!1),this.onStable=new Cr(!1),this.onError=new Cr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var t;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,i,r,l,s)=>{try{return Yr(t),e.invokeTask(i,r,l,s)}finally{Jr(t)}},onInvoke:(e,n,i,r,l,s,o)=>{try{return Yr(t),e.invoke(i,r,l,s,o)}finally{Jr(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t.hasPendingMicrotasks=r.microTask,Xr(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Wr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,i){const r=this._inner,l=r.scheduleEventTask("NgZoneEvent: "+i,e,Zr,Qr,Qr);try{return r.runTask(l,t,n)}finally{r.cancelTask(l)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function Qr(){}const Zr={};function Xr(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Yr(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Jr(e){e._nesting--,Xr(e)}class el{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cr,this.onMicrotaskEmpty=new Cr,this.onStable=new Cr,this.onError=new Cr}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class tl{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wr.assertNotInAngularZone(),Kr(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Kr(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let i=-1;t&&t>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==i),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}class nl{constructor(){this._applications=new Map,ll.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return ll.findTestabilityInTree(this,e,t)}}class il{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let rl,ll=new il;const sl=new _e("AllowMultipleToken");class ol{constructor(e,t){this.name=e,this.token=t}}function al(e,t,n=[]){const i="Platform: "+t,r=new _e(i);return(t=[])=>{let l=cl();if(!l||l.injector.get(sl,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{const e=n.concat(t).concat({provide:r,useValue:!0});!function(e){if(rl&&!rl.destroyed&&!rl.injector.get(sl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");rl=e.get(ul);const t=e.get(Tr,null);t&&t.forEach(e=>e())}(xt.create({providers:e,name:i}))}return function(e){const t=cl();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function cl(){return rl&&!rl.destroyed?rl:null}class ul{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e){let t;return t="noop"===e?new el:("zone.js"===e?void 0:e)||new Wr({enableLongStackTrace:qe()}),t}(t?t.ngZone:void 0),i=[{provide:Wr,useValue:n}];return n.run(()=>{const t=xt.create({providers:i,parent:this.injector,name:e.moduleType.name}),r=e.create(t),l=r.injector.get(Ge,null);if(!l)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>pl(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{l.handleError(e)}})),function(e,t,n){try{const i=n();return Ut(i)?i.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(l,n,()=>{const e=r.injector.get(Ir);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(r),r))})})}bootstrapModule(e,t=[]){const n=hl({},t);return function(e,t,n){return e.get($r).createCompiler([t]).compileModuleAsync(n)}(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(dl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${fe(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function hl(e,t){return Array.isArray(t)?t.reduce(hl,e):Object.assign({},e,t)}let dl=(()=>{class e{constructor(e,t,n,i,r,l){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=qe(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new w(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),o=new w(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Wr.assertNotInAngularZone(),Kr(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Wr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=W(s,o.pipe(ne()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Gt?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const i=n instanceof Qt?null:this._injector.get(Re),r=n.create(xt.NULL,[],t||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const l=r.injector.get(tl,null);return l&&r.injector.get(nl).registerApplication(r.location.nativeElement,l),this._loadComponent(r),qe()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=e._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Hr(t)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;pl(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Er,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),pl(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e._tickScope=Br("ApplicationRef#tick()"),e})();function pl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class fl{}class gl{}const ml={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class yl{constructor(e,t){this._compiler=e,this._config=t||ml}load(e){return this._compiler instanceof Fr?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,i]=e.split("#");return void 0===i&&(i="default"),n("crnd")(t).then(e=>e[i]).then(e=>bl(e,t,i)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,i]=e.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("crnd")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[i+r]).then(e=>bl(e,t,i))}}function bl(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class vl{constructor(e,t){this.name=e,this.callback=t}}class wl{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof Cl&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Cl extends wl{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,i){t.childNodes.forEach(t=>{t instanceof Cl&&(n(t)&&i.push(t),e(t,n,i))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,i){t instanceof Cl&&t.childNodes.forEach(t=>{n(t)&&i.push(t),t instanceof Cl&&e(t,n,i)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof Cl)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const Sl=new Map,_l=function(e){return Sl.get(e)||null};function xl(e){Sl.set(e.nativeNode,e)}const Il=al(null,"core",[{provide:Mr,useValue:"unknown"},{provide:ul,deps:[xt]},{provide:nl,deps:[]},{provide:Pr,deps:[]}]);function kl(){return wn}function Tl(){return Cn}function Ml(e){return e||"en-US"}function El(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}class Pl{constructor(e){}}function Ol(e,t,n,i,r,l){e|=1;const{matchedQueries:s,references:o,matchedQueryIds:a}=ti(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:a,references:o,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:l?li(l):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||Fn},provider:null,text:null,query:null,ngContent:null}}function Dl(e,t,n,i,r,l,s=[],o,a,c,u,h){c||(c=Fn);const{matchedQueries:d,references:p,matchedQueryIds:f}=ti(n);let g=null,m=null;l&&([g,m]=di(l)),o=o||[];const y=new Array(o.length);for(let w=0;w<o.length;w++){const[e,t,n]=o[w],[i,r]=di(t);let l=void 0,s=void 0;switch(15&e){case 4:s=n;break;case 1:case 8:l=n}y[w]={flags:e,ns:i,name:r,nonMinifiedName:r,securityContext:l,suffix:s}}a=a||[];const b=new Array(a.length);for(let w=0;w<a.length;w++){const[e,t]=a[w];b[w]={type:0,target:e,eventName:t,propName:null}}const v=(s=s||[]).map(([e,t])=>{const[n,i]=di(e);return[n,i,t]});return h=function(e){if(e&&"$$undefined"===e.id){const t=null!=e.encapsulation&&e.encapsulation!==$e.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+zn++:"$$empty"}return e&&"$$empty"===e.id&&(e=null),e||null}(h),u&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:i,childCount:r,bindings:y,bindingFlags:pi(y),outputs:b,element:{ns:g,name:m,attrs:v,template:null,componentProvider:null,componentView:u||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||Fn},provider:null,text:null,query:null,ngContent:null}}function Nl(e,t,n){const i=n.element,r=e.root.selectorOrNode,l=e.renderer;let s;if(e.parent||!r){s=i.name?l.createElement(i.name,i.ns):l.createComment("");const r=ii(e,t,n);r&&l.appendChild(r,s)}else s=l.selectRootElement(r,!!i.componentRendererType&&i.componentRendererType.encapsulation===$e.ShadowDom);if(i.attrs)for(let o=0;o<i.attrs.length;o++){const[e,t,n]=i.attrs[o];l.setAttribute(s,t,n,e)}return s}function Rl(e,t,n,i){for(let s=0;s<n.outputs.length;s++){const o=n.outputs[s],a=Al(e,n.nodeIndex,(l=o.eventName,(r=o.target)?`${r}:${l}`:l));let c=o.target,u=e;"component"===o.target&&(c=null,u=t);const h=u.renderer.listen(c||i,o.eventName,a);e.disposables[n.outputIndex+s]=h}var r,l}function Al(e,t,n){return i=>Wn(e,t,n,i)}function Ll(e,t,n,i){if(!Bn(e,t,n,i))return!1;const r=t.bindings[n],l=Dn(e,t.nodeIndex),s=l.renderElement,o=r.name;switch(15&r.flags){case 1:!function(e,t,n,i,r,l){const s=t.securityContext;let o=s?e.root.sanitizer.sanitize(s,l):l;o=null!=o?o.toString():null;const a=e.renderer;null!=l?a.setAttribute(n,r,o,i):a.removeAttribute(n,r,i)}(e,r,s,r.ns,o,i);break;case 2:!function(e,t,n,i){const r=e.renderer;i?r.addClass(t,n):r.removeClass(t,n)}(e,s,o,i);break;case 4:!function(e,t,n,i,r){let l=e.root.sanitizer.sanitize(ft.STYLE,r);if(null!=l){l=l.toString();const e=t.suffix;null!=e&&(l+=e)}else l=null;const s=e.renderer;null!=l?s.setStyle(n,i,l):s.removeStyle(n,i)}(e,r,s,o,i);break;case 8:!function(e,t,n,i,r){const l=t.securityContext;let s=l?e.root.sanitizer.sanitize(l,r):r;e.renderer.setProperty(n,i,s)}(33554432&t.flags&&32&r.flags?l.componentView:e,r,s,o,i)}return!0}function Fl(e,t,n){let i=[];for(let r in n)i.push({propName:r,bindingType:n[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:ei(t),bindings:i},ngContent:null}}function $l(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&Jn(e);){let n=e.parentNodeDef;e=e.parent;const i=n.nodeIndex+n.childCount;for(let r=0;r<=i;r++){const i=e.def.nodes[r];67108864&i.flags&&536870912&i.flags&&(i.query.filterId&t)===i.query.filterId&&An(e,r).setDirty(),!(1&i.flags&&r+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(r+=i.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&An(e,n).setDirty(),n+=t.childCount}}function Vl(e,t){const n=An(e,t.nodeIndex);if(!n.dirty)return;let i,r=void 0;if(67108864&t.flags){const n=t.parent.parent;r=Ul(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),i=Nn(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(r=Ul(e,0,e.def.nodes.length-1,t.query,[]),i=e.component);n.reset(r);const l=t.query.bindings;let s=!1;for(let o=0;o<l.length;o++){const e=l[o];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,s=!0}i[e.propName]=t}s&&n.notifyOnChanges()}function Ul(e,t,n,i,r){for(let l=t;l<=n;l++){const t=e.def.nodes[l],n=t.matchedQueries[i.id];if(null!=n&&r.push(jl(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&i.filterId)===i.filterId){const n=Dn(e,l);if((t.childMatchedQueries&i.filterId)===i.filterId&&(Ul(e,l+1,l+t.childCount,i,r),l+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const l=e[t],s=Qn(l);s&&s===n&&Ul(l,0,l.def.nodes.length-1,i,r)}}const s=n.template._projectedViews;if(s)for(let e=0;e<s.length;e++){const t=s[e];Ul(t,0,t.def.nodes.length-1,i,r)}}(t.childMatchedQueries&i.filterId)!==i.filterId&&(l+=t.childCount)}return r}function jl(e,t,n){if(null!=n)switch(n){case 1:return Dn(e,t.nodeIndex).renderElement;case 0:return new Xt(Dn(e,t.nodeIndex).renderElement);case 2:return Dn(e,t.nodeIndex).template;case 3:return Dn(e,t.nodeIndex).viewContainer;case 4:return Nn(e,t.nodeIndex).instance}}function zl(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function Gl(e,t,n){const i=ii(e,t,n);i&&ai(e,n.ngContent.index,1,i,null,void 0)}function Bl(e,t){return Kl(128,e,new Array(t+1))}function Hl(e,t){return Kl(32,e,new Array(t))}function ql(e,t){const n=Object.keys(t),i=n.length,r=new Array(i);for(let l=0;l<i;l++){const e=n[l];r[t[e]]=e}return Kl(64,e,r)}function Kl(e,t,n){const i=new Array(n.length);for(let r=0;r<n.length;r++){const e=n[r];i[r]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:pi(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Wl(e,t,n){const i=new Array(n.length-1);for(let r=1;r<n.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Ql(e,t,n){let i;const r=e.renderer;i=r.createText(n.text.prefix);const l=ii(e,t,n);return l&&r.appendChild(l,i),{renderText:i}}function Zl(e,t){return(null!=e?e.toString():"")+t.suffix}function Xl(e,t,n,i){let r=0,l=0,s=0,o=0,a=0,c=null,u=null,h=!1,d=!1,p=null;for(let f=0;f<t.length;f++){const e=t[f];if(e.nodeIndex=f,e.parent=c,e.bindingIndex=r,e.outputIndex=l,e.renderParent=u,s|=e.flags,a|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=c?c.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(a|=e.element.template.nodeMatchedQueries)}if(Jl(c,e,t.length),r+=e.bindings.length,l+=e.outputs.length,!u&&3&e.flags&&(p=e),20224&e.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?c.element.publicProviders[Vn(e.provider.token)]=e:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[Vn(e.provider.token)]=e),t&&(c.element.componentProvider=e)}if(c?(c.childFlags|=e.flags,c.directChildFlags|=e.flags,c.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(c.childMatchedQueries|=e.element.template.nodeMatchedQueries)):o|=e.flags,e.childCount>0)c=e,Yl(e)||(u=e);else for(;c&&f===c.nodeIndex+c.childCount;){const e=c.parent;e&&(e.childFlags|=c.childFlags,e.childMatchedQueries|=c.childMatchedQueries),c=e,u=c&&Yl(c)?c.renderParent:c}}return{factory:null,nodeFlags:s,rootNodeFlags:o,nodeMatchedQueries:a,flags:e,nodes:t,updateDirectives:n||Fn,updateRenderer:i||Fn,handleEvent:(e,n,i,r)=>t[n].element.handleEvent(e,i,r),bindingCount:r,outputCount:l,lastRenderRootNode:p}}function Yl(e){return 0!=(1&e.flags)&&null===e.element.name}function Jl(e,t,n){const i=t.element&&t.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function es(e,t,n,i){const r=is(e.root,e.renderer,e,t,n);return rs(r,e.component,i),ls(r),r}function ts(e,t,n){const i=is(e,e.renderer,null,null,t);return rs(i,n,n),ls(i),i}function ns(e,t,n,i){const r=t.element.componentRendererType;let l;return l=r?e.root.rendererFactory.createRenderer(i,r):e.root.renderer,is(e.root,l,e,t.element.componentProvider,n)}function is(e,t,n,i,r){const l=new Array(r.nodes.length),s=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:l,state:13,root:e,renderer:t,oldValues:new Array(r.bindingCount),disposables:s,initIndex:-1}}function rs(e,t,n){e.component=t,e.context=n}function ls(e){let t;Yn(e)&&(t=Dn(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,i=e.nodes;for(let r=0;r<n.nodes.length;r++){const l=n.nodes[r];let s;switch(Ln.setCurrentNode(e,r),201347067&l.flags){case 1:const n=Nl(e,t,l);let o=void 0;if(33554432&l.flags){const t=li(l.element.componentView);o=Ln.createComponentView(e,l,t,n)}Rl(e,o,l,n),s={renderElement:n,componentView:o,viewContainer:null,template:l.element.template?Ai(e,l):void 0},16777216&l.flags&&(s.viewContainer=Oi(e,l,s));break;case 2:s=Ql(e,t,l);break;case 512:case 1024:case 2048:case 256:s=i[r],s||4096&l.flags||(s={instance:nr(e,l)});break;case 16:s={instance:ir(e,l)};break;case 16384:s=i[r],s||(s={instance:rr(e,l)}),32768&l.flags&&rs(Dn(e,l.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new _r;break;case 8:Gl(e,t,l),s=void 0}i[r]=s}fs(e,ps.CreateViewNodes),bs(e,201326592,268435456,0)}function ss(e){cs(e),Ln.updateDirectives(e,1),gs(e,ps.CheckNoChanges),Ln.updateRenderer(e,1),fs(e,ps.CheckNoChanges),e.state&=-97}function os(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,En(e,0,256),cs(e),Ln.updateDirectives(e,0),gs(e,ps.CheckAndUpdate),bs(e,67108864,536870912,0);let t=En(e,256,512);dr(e,2097152|(t?1048576:0)),Ln.updateRenderer(e,0),fs(e,ps.CheckAndUpdate),bs(e,134217728,536870912,0),t=En(e,512,768),dr(e,8388608|(t?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,En(e,768,1024)}function as(e,t,n,i,r,l,s,o,a,c,u,h,d){return 0===n?function(e,t,n,i,r,l,s,o,a,c,u,h){switch(201347067&t.flags){case 1:return function(e,t,n,i,r,l,s,o,a,c,u,h){const d=t.bindings.length;let p=!1;return d>0&&Ll(e,t,0,n)&&(p=!0),d>1&&Ll(e,t,1,i)&&(p=!0),d>2&&Ll(e,t,2,r)&&(p=!0),d>3&&Ll(e,t,3,l)&&(p=!0),d>4&&Ll(e,t,4,s)&&(p=!0),d>5&&Ll(e,t,5,o)&&(p=!0),d>6&&Ll(e,t,6,a)&&(p=!0),d>7&&Ll(e,t,7,c)&&(p=!0),d>8&&Ll(e,t,8,u)&&(p=!0),d>9&&Ll(e,t,9,h)&&(p=!0),p}(e,t,n,i,r,l,s,o,a,c,u,h);case 2:return function(e,t,n,i,r,l,s,o,a,c,u,h){let d=!1;const p=t.bindings,f=p.length;if(f>0&&Bn(e,t,0,n)&&(d=!0),f>1&&Bn(e,t,1,i)&&(d=!0),f>2&&Bn(e,t,2,r)&&(d=!0),f>3&&Bn(e,t,3,l)&&(d=!0),f>4&&Bn(e,t,4,s)&&(d=!0),f>5&&Bn(e,t,5,o)&&(d=!0),f>6&&Bn(e,t,6,a)&&(d=!0),f>7&&Bn(e,t,7,c)&&(d=!0),f>8&&Bn(e,t,8,u)&&(d=!0),f>9&&Bn(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;f>0&&(d+=Zl(n,p[0])),f>1&&(d+=Zl(i,p[1])),f>2&&(d+=Zl(r,p[2])),f>3&&(d+=Zl(l,p[3])),f>4&&(d+=Zl(s,p[4])),f>5&&(d+=Zl(o,p[5])),f>6&&(d+=Zl(a,p[6])),f>7&&(d+=Zl(c,p[7])),f>8&&(d+=Zl(u,p[8])),f>9&&(d+=Zl(h,p[9]));const g=On(e,t.nodeIndex).renderText;e.renderer.setValue(g,d)}return d}(e,t,n,i,r,l,s,o,a,c,u,h);case 16384:return function(e,t,n,i,r,l,s,o,a,c,u,h){const d=Nn(e,t.nodeIndex),p=d.instance;let f=!1,g=void 0;const m=t.bindings.length;return m>0&&Gn(e,t,0,n)&&(f=!0,g=hr(e,d,t,0,n,g)),m>1&&Gn(e,t,1,i)&&(f=!0,g=hr(e,d,t,1,i,g)),m>2&&Gn(e,t,2,r)&&(f=!0,g=hr(e,d,t,2,r,g)),m>3&&Gn(e,t,3,l)&&(f=!0,g=hr(e,d,t,3,l,g)),m>4&&Gn(e,t,4,s)&&(f=!0,g=hr(e,d,t,4,s,g)),m>5&&Gn(e,t,5,o)&&(f=!0,g=hr(e,d,t,5,o,g)),m>6&&Gn(e,t,6,a)&&(f=!0,g=hr(e,d,t,6,a,g)),m>7&&Gn(e,t,7,c)&&(f=!0,g=hr(e,d,t,7,c,g)),m>8&&Gn(e,t,8,u)&&(f=!0,g=hr(e,d,t,8,u,g)),m>9&&Gn(e,t,9,h)&&(f=!0,g=hr(e,d,t,9,h,g)),g&&p.ngOnChanges(g),65536&t.flags&&Pn(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),f}(e,t,n,i,r,l,s,o,a,c,u,h);case 32:case 64:case 128:return function(e,t,n,i,r,l,s,o,a,c,u,h){const d=t.bindings;let p=!1;const f=d.length;if(f>0&&Bn(e,t,0,n)&&(p=!0),f>1&&Bn(e,t,1,i)&&(p=!0),f>2&&Bn(e,t,2,r)&&(p=!0),f>3&&Bn(e,t,3,l)&&(p=!0),f>4&&Bn(e,t,4,s)&&(p=!0),f>5&&Bn(e,t,5,o)&&(p=!0),f>6&&Bn(e,t,6,a)&&(p=!0),f>7&&Bn(e,t,7,c)&&(p=!0),f>8&&Bn(e,t,8,u)&&(p=!0),f>9&&Bn(e,t,9,h)&&(p=!0),p){const p=Rn(e,t.nodeIndex);let g;switch(201347067&t.flags){case 32:g=new Array(d.length),f>0&&(g[0]=n),f>1&&(g[1]=i),f>2&&(g[2]=r),f>3&&(g[3]=l),f>4&&(g[4]=s),f>5&&(g[5]=o),f>6&&(g[6]=a),f>7&&(g[7]=c),f>8&&(g[8]=u),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=i),f>2&&(g[d[2].name]=r),f>3&&(g[d[3].name]=l),f>4&&(g[d[4].name]=s),f>5&&(g[d[5].name]=o),f>6&&(g[d[6].name]=a),f>7&&(g[d[7].name]=c),f>8&&(g[d[8].name]=u),f>9&&(g[d[9].name]=h);break;case 128:const e=n;switch(f){case 1:g=e.transform(n);break;case 2:g=e.transform(i);break;case 3:g=e.transform(i,r);break;case 4:g=e.transform(i,r,l);break;case 5:g=e.transform(i,r,l,s);break;case 6:g=e.transform(i,r,l,s,o);break;case 7:g=e.transform(i,r,l,s,o,a);break;case 8:g=e.transform(i,r,l,s,o,a,c);break;case 9:g=e.transform(i,r,l,s,o,a,c,u);break;case 10:g=e.transform(i,r,l,s,o,a,c,u,h)}}p.value=g}return p}(e,t,n,i,r,l,s,o,a,c,u,h);default:throw"unreachable"}}(e,t,i,r,l,s,o,a,c,u,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let i=!1;for(let r=0;r<n.length;r++)Ll(e,t,r,n[r])&&(i=!0);return i}(e,t,n);case 2:return function(e,t,n){const i=t.bindings;let r=!1;for(let l=0;l<n.length;l++)Bn(e,t,l,n[l])&&(r=!0);if(r){let r="";for(let e=0;e<n.length;e++)r+=Zl(n[e],i[e]);r=t.text.prefix+r;const l=On(e,t.nodeIndex).renderText;e.renderer.setValue(l,r)}return r}(e,t,n);case 16384:return function(e,t,n){const i=Nn(e,t.nodeIndex),r=i.instance;let l=!1,s=void 0;for(let o=0;o<n.length;o++)Gn(e,t,o,n[o])&&(l=!0,s=hr(e,i,t,o,n[o],s));return s&&r.ngOnChanges(s),65536&t.flags&&Pn(e,256,t.nodeIndex)&&r.ngOnInit(),262144&t.flags&&r.ngDoCheck(),l}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const i=t.bindings;let r=!1;for(let l=0;l<n.length;l++)Bn(e,t,l,n[l])&&(r=!0);if(r){const r=Rn(e,t.nodeIndex);let l;switch(201347067&t.flags){case 32:l=n;break;case 64:l={};for(let r=0;r<n.length;r++)l[i[r].name]=n[r];break;case 128:const e=n[0],t=n.slice(1);l=e.transform(...t)}r.value=l}return r}(e,t,n);default:throw"unreachable"}}(e,t,i)}function cs(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const i=t.nodes[n];if(4&i.flags){const t=Dn(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const i=t[n];i.state|=32,Kn(i,e)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function us(e,t,n,i,r,l,s,o,a,c,u,h,d){return 0===n?function(e,t,n,i,r,l,s,o,a,c,u,h){const d=t.bindings.length;d>0&&Hn(e,t,0,n),d>1&&Hn(e,t,1,i),d>2&&Hn(e,t,2,r),d>3&&Hn(e,t,3,l),d>4&&Hn(e,t,4,s),d>5&&Hn(e,t,5,o),d>6&&Hn(e,t,6,a),d>7&&Hn(e,t,7,c),d>8&&Hn(e,t,8,u),d>9&&Hn(e,t,9,h)}(e,t,i,r,l,s,o,a,c,u,h,d):function(e,t,n){for(let i=0;i<n.length;i++)Hn(e,t,i,n[i])}(e,t,i),!1}function hs(e,t){if(An(e,t.nodeIndex).dirty)throw kn(Ln.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function ds(e){if(!(128&e.state)){if(gs(e,ps.Destroy),fs(e,ps.Destroy),dr(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=Qn(e);if(t){const n=t.template._projectedViews;n&&(Fe(n,n.indexOf(e)),Ln.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(Dn(e,n).renderElement):2&t.flags?e.renderer.destroyNode(On(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&An(e,n).destroy()}}(e),Yn(e)&&e.renderer.destroy(),e.state|=128}}const ps=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function fs(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];33554432&r.flags?ms(Dn(e,i).componentView,t):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function gs(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];if(16777216&r.flags){const n=Dn(e,i).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)ms(n[e],t)}else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function ms(e,t){const n=e.state;switch(t){case ps.CheckNoChanges:0==(128&n)&&(12==(12&n)?ss(e):64&n&&ys(e,ps.CheckNoChangesProjectedViews));break;case ps.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ss(e):64&n&&ys(e,t));break;case ps.CheckAndUpdate:0==(128&n)&&(12==(12&n)?os(e):64&n&&ys(e,ps.CheckAndUpdateProjectedViews));break;case ps.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?os(e):64&n&&ys(e,t));break;case ps.Destroy:ds(e);break;case ps.CreateViewNodes:ls(e)}}function ys(e,t){gs(e,t),fs(e,t)}function bs(e,t,n,i){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const r=e.def.nodes.length;for(let l=0;l<r;l++){const r=e.def.nodes[l];if(r.flags&t&&r.flags&n)switch(Ln.setCurrentNode(e,r.nodeIndex),i){case 0:Vl(e,r);break;case 1:hs(e,r)}r.childFlags&t&&r.childFlags&n||(l+=r.childCount)}}let vs=!1;function ws(e,t,n,i,r,l){const s=r.injector.get(en);return ts(Ss(e,r,s,t,n),i,l)}function Cs(e,t,n,i,r,l){const s=r.injector.get(en),o=Ss(e,r,new eo(s),t,n),a=Ds(i);return Ys($s.create,ts,null,[o,a,l])}function Ss(e,t,n,i,r){const l=t.injector.get(gt),s=t.injector.get(Ge),o=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:i,selectorOrNode:r,sanitizer:l,rendererFactory:n,renderer:o,errorHandler:s}}function _s(e,t,n,i){const r=Ds(n);return Ys($s.create,es,null,[e,t,r,i])}function xs(e,t,n,i){return n=Ms.get(t.element.componentProvider.provider.token)||Ds(n),Ys($s.create,ns,null,[e,t,n,i])}function Is(e,t,n,i){return zi(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===ks.size||(e.providers.forEach(e=>{const i=ks.get(e.token);3840&e.flags&&i&&(t=!0,n=n||i.deprecatedBehavior)}),e.modules.forEach(e=>{Ts.forEach((i,r)=>{de(r).providedIn===e&&(t=!0,n=n||i.deprecatedBehavior)})})),{hasOverrides:t,hasDeprecatedOverrides:n}}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const i=e.providers[t];n&&(i.flags|=4096);const r=ks.get(i.token);r&&(i.flags=-3841&i.flags|r.flags,i.deps=ni(r.deps),i.value=r.value)}if(Ts.size>0){let t=new Set(e.modules);Ts.forEach((i,r)=>{if(t.has(de(r).providedIn)){let t={token:r,flags:i.flags|(n?4096:0),deps:ni(i.deps),value:i.value,index:e.providers.length};e.providers.push(t),e.providersByKey[Vn(r)]=t}})}}(e=e.factory(()=>Fn)),e):e}(i))}const ks=new Map,Ts=new Map,Ms=new Map;function Es(e){let t;ks.set(e.token,e),"function"==typeof e.token&&(t=de(e.token))&&"function"==typeof t.providedIn&&Ts.set(e.token,e)}function Ps(e,t){const n=li(t.viewDefFactory),i=li(n.nodes[0].element.componentView);Ms.set(e,i)}function Os(){ks.clear(),Ts.clear(),Ms.clear()}function Ds(e){if(0===ks.size)return e;const t=function(e){const t=[];let n=null;for(let i=0;i<e.nodes.length;i++){const r=e.nodes[i];1&r.flags&&(n=r),n&&3840&r.flags&&ks.has(r.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>Fn);for(let i=0;i<t.length;i++)n(e,t[i]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=ks.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=ni(n.deps),e.value=n.value)}}}}function Ns(e,t,n,i,r,l,s,o,a,c,u,h,d){const p=e.def.nodes[t];return as(e,p,n,i,r,l,s,o,a,c,u,h,d),224&p.flags?Rn(e,t).value:void 0}function Rs(e,t,n,i,r,l,s,o,a,c,u,h,d){const p=e.def.nodes[t];return us(e,p,n,i,r,l,s,o,a,c,u,h,d),224&p.flags?Rn(e,t).value:void 0}function As(e){return Ys($s.detectChanges,os,null,[e])}function Ls(e){return Ys($s.checkNoChanges,ss,null,[e])}function Fs(e){return Ys($s.destroy,ds,null,[e])}const $s=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let Vs,Us,js;function zs(e,t){Us=e,js=t}function Gs(e,t,n,i){return zs(e,t),Ys($s.handleEvent,e.def.handleEvent,null,[e,t,n,i])}function Bs(e,t){if(128&e.state)throw Mn($s[Vs]);return zs(e,Ws(e,0)),e.def.updateDirectives((function(e,n,i,...r){const l=e.def.nodes[n];return 0===t?qs(e,l,i,r):Ks(e,l,i,r),16384&l.flags&&zs(e,Ws(e,n)),224&l.flags?Rn(e,l.nodeIndex).value:void 0}),e)}function Hs(e,t){if(128&e.state)throw Mn($s[Vs]);return zs(e,Qs(e,0)),e.def.updateRenderer((function(e,n,i,...r){const l=e.def.nodes[n];return 0===t?qs(e,l,i,r):Ks(e,l,i,r),3&l.flags&&zs(e,Qs(e,n)),224&l.flags?Rn(e,l.nodeIndex).value:void 0}),e)}function qs(e,t,n,i){if(as(e,t,n,...i)){const l=1===n?i[0]:i;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const i=t.bindings[e],s=l[e];8&i.flags&&(n[(r=i.nonMinifiedName,"ng-reflect-"+r.replace(/[$@]/g,"_").replace(bt,(...e)=>"-"+e[1].toLowerCase()))]=vt(s))}const i=t.parent,s=Dn(e,i.nodeIndex).renderElement;if(i.element.name)for(let t in n){const i=n[t];null!=i?e.renderer.setAttribute(s,t,i):e.renderer.removeAttribute(s,t)}else e.renderer.setValue(s,"bindings="+JSON.stringify(n,null,2))}}var r}function Ks(e,t,n,i){us(e,t,n,...i)}function Ws(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function Qs(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class Zs{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,i=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=Zn(i),i=i.parent;this.elDef=n,this.elView=i}get elOrCompView(){return Dn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Fi(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){Xs(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&Xs(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!Yn(e);)e=e.parent;return e.parent?Dn(e.parent,Zn(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Xn(this.view,this.nodeDef):Xn(this.elView,this.elDef)}logError(e,...t){let n,i;2&this.nodeDef.flags?(n=this.view.def,i=this.nodeDef.nodeIndex):(n=this.elView.def,i=this.elDef.nodeIndex);const r=function(e,t){let n=-1;for(let i=0;i<=t;i++)3&e.nodes[i].flags&&n++;return n}(n,i);let l=-1;n.factory(()=>(l++,l===r?e.error.bind(e,...t):Fn)),l<r&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function Xs(e,t,n){for(let i in t.references)n[i]=jl(e,t,t.references[i])}function Ys(e,t,n,i){const r=Vs,l=Us,s=js;try{Vs=e;const o=t.apply(n,i);return Us=l,js=s,Vs=r,o}catch(o){if(Ue(o)||!Us)throw o;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),Tn(e,t),e}(o,Js())}}function Js(){return Us?new Zs(Us,js):null}class eo{constructor(e){this.delegate=e}createRenderer(e,t){return new to(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class to{constructor(e){this.delegate=e,this.debugContextFactory=Js,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=_l(e);!function(e){Sl.delete(e.nativeNode)}(t),t instanceof wl&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),i=this.createDebugContext(n);if(i){const t=new Cl(n,null,i);t.name=e,xl(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&xl(new wl(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&xl(new wl(t,null,n)),t}appendChild(e,t){const n=_l(e),i=_l(t);n&&i&&n instanceof Cl&&n.addChild(i),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const i=_l(e),r=_l(t),l=_l(n);i&&r&&i instanceof Cl&&i.insertBefore(l,r),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=_l(e),i=_l(t);n&&i&&n instanceof Cl&&n.removeChild(i),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),i=Js();return i&&xl(new Cl(n,null,i)),n}setAttribute(e,t,n,i){const r=_l(e);r&&r instanceof Cl&&(r.attributes[i?i+":"+t:t]=n),this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){const i=_l(e);i&&i instanceof Cl&&(i.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=_l(e);n&&n instanceof Cl&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=_l(e);n&&n instanceof Cl&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,i){const r=_l(e);r&&r instanceof Cl&&(r.styles[t]=n),this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){const i=_l(e);i&&i instanceof Cl&&(i.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const i=_l(e);i&&i instanceof Cl&&(i.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const i=_l(e);i&&i.listeners.push(new vl(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function no(e,t,n){return new io(e,t,n)}class io extends Ae{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){!function(){if(vs)return;vs=!0;const e=qe()?{setCurrentNode:zs,createRootView:Cs,createEmbeddedView:_s,createComponentView:xs,createNgModuleRef:Is,overrideProvider:Es,overrideComponentView:Ps,clearOverrides:Os,checkAndUpdateView:As,checkNoChangesView:Ls,destroyView:Fs,createDebugContext:(e,t)=>new Zs(e,t),handleEvent:Gs,updateDirectives:Bs,updateRenderer:Hs}:{setCurrentNode:()=>{},createRootView:ws,createEmbeddedView:es,createComponentView:ns,createNgModuleRef:zi,overrideProvider:Fn,overrideComponentView:Fn,clearOverrides:Fn,checkAndUpdateView:os,checkNoChangesView:ss,destroyView:ds,createDebugContext:(e,t)=>new Zs(e,t),handleEvent:(e,t,n,i)=>e.def.handleEvent(e,t,n,i),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?Ns:Rs,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?Ns:Rs,e)};Ln.setCurrentNode=e.setCurrentNode,Ln.createRootView=e.createRootView,Ln.createEmbeddedView=e.createEmbeddedView,Ln.createComponentView=e.createComponentView,Ln.createNgModuleRef=e.createNgModuleRef,Ln.overrideProvider=e.overrideProvider,Ln.overrideComponentView=e.overrideComponentView,Ln.clearOverrides=e.clearOverrides,Ln.checkAndUpdateView=e.checkAndUpdateView,Ln.checkNoChangesView=e.checkNoChangesView,Ln.destroyView=e.destroyView,Ln.resolveDep=cr,Ln.createDebugContext=e.createDebugContext,Ln.handleEvent=e.handleEvent,Ln.updateDirectives=e.updateDirectives,Ln.updateRenderer=e.updateRenderer,Ln.dirtyParentQueries=$l}();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),i={};for(const r in e.providersByKey)i[r]=e.providersByKey[r];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:i}}(li(this._ngModuleDefFactory));return Ln.createNgModuleRef(this.moduleType,e||xt.NULL,this._bootstrapComponents,t)}}const ro={config:{instrumentationKey:"2ee546c1-d9d3-4fa5-a57b-578fe0a22651"},enabled:!0,includeUserContext:!0,isDebugMode:!1};function lo(e,t,n,i){var r,l=arguments.length,s=l<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(l<3?r(s):l>3?r(t,n,s):r(t,n))||s);return l>3&&s&&Object.defineProperty(t,n,s),s}function so(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function oo(e,t,n,i){return new(n||(n=Promise))((function(r,l){function s(e){try{a(i.next(e))}catch(t){l(t)}}function o(e){try{a(i.throw(e))}catch(t){l(t)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}a((i=i.apply(e,t||[])).next())}))}function ao(e,t=null,n=null,i=!1,r=100,l=10,s=1.1,o=1.1){return oo(this,void 0,void 0,(function*(){setTimeout(()=>oo(this,void 0,void 0,(function*(){if(l<=0)return i&&console.warn("retry() : retry attempts exhausted"),void(n&&(yield n()));i&&console.log(`retry() : {delay: ${r}, attempts:${l})}`),(yield e())?t&&(yield t()):yield ao(e,t,n,i,r*s,l-1,s*o)})),r)}))}function co(e){return null==e}function uo(e){return 0===e.length}function ho(e){return co(e)||uo(e)}function po(e){return ho(e)||function(e){return uo(e.trim())}(e)}const fo=e=>function(e){return()=>new Promise((t,n)=>oo(this,void 0,void 0,(function*(){yield ao(()=>oo(this,void 0,void 0,(function*(){const t=mo();let n=!1;return yield e.get(t+"api/iconlibraryfont/masterfontinfos").toPromise().then(e=>{ho(e)||(n=!0)}),n})),()=>{t(null)},()=>{n()})})))}(e);class go{}function mo(){return document.getElementsByTagName("base")[0].href}class yo extends I{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}next(e){super.next(this._value=e)}}class bo{}const vo=new _e("Location Initialized");class wo{}const Co=new _e("appBaseHref");class So{constructor(e,t){this._subject=new Cr,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=So.stripTrailingSlash(_o(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+So.normalizeQueryParams(t))}normalize(e){return So.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,_o(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+So.normalizeQueryParams(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+So.normalizeQueryParams(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}function _o(e){return e.replace(/\/index.html$/,"")}class xo extends wo{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=So.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,i){let r=this.prepareExternalUrl(n+So.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,i){let r=this.prepareExternalUrl(n+So.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class Io extends wo{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return So.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+So.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,i){const r=this.prepareExternalUrl(n+So.normalizeQueryParams(i));this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,i){const r=this.prepareExternalUrl(n+So.normalizeQueryParams(i));this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const ko=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),To=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),Mo=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),Eo=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),Po=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function Oo(e,t,n){const i=wr(e),r=$o([i[yr.DaysFormat],i[yr.DaysStandalone]],t);return $o(r,n)}function Do(e,t,n){const i=wr(e),r=$o([i[yr.MonthsFormat],i[yr.MonthsStandalone]],t);return $o(r,n)}function No(e,t){return $o(wr(e)[yr.DateFormat],t)}function Ro(e,t){return $o(wr(e)[yr.TimeFormat],t)}function Ao(e,t){return $o(wr(e)[yr.DateTimeFormat],t)}function Lo(e,t){const n=wr(e),i=n[yr.NumberSymbols][t];if(void 0===i){if(t===Po.CurrencyDecimal)return n[yr.NumberSymbols][Po.Decimal];if(t===Po.CurrencyGroup)return n[yr.NumberSymbols][Po.Group]}return i}function Fo(e){if(!e[yr.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[yr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function $o(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function Vo(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const Uo=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,jo={},zo=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Go=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),Bo=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),Ho=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function qo(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function Ko(e,t,n="-",i,r){let l="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,l=n));let s=String(e);for(;s.length<t;)s="0"+s;return i&&(s=s.substr(s.length-t)),l+s}function Wo(e,t,n=0,i=!1,r=!1){return function(l,s){let o=function(e,t){switch(e){case Bo.FullYear:return t.getFullYear();case Bo.Month:return t.getMonth();case Bo.Date:return t.getDate();case Bo.Hours:return t.getHours();case Bo.Minutes:return t.getMinutes();case Bo.Seconds:return t.getSeconds();case Bo.FractionalSeconds:return t.getMilliseconds();case Bo.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,l);if((n>0||o>-n)&&(o+=n),e===Bo.Hours)0===o&&-12===n&&(o=12);else if(e===Bo.FractionalSeconds)return a=t,Ko(o,3).substr(0,a);var a;const c=Lo(s,Po.MinusSign);return Ko(o,t,c,i,r)}}function Qo(e,t,n=To.Format,i=!1){return function(r,l){return function(e,t,n,i,r,l){switch(n){case Ho.Months:return Do(t,r,i)[e.getMonth()];case Ho.Days:return Oo(t,r,i)[e.getDay()];case Ho.DayPeriods:const s=e.getHours(),o=e.getMinutes();if(l){const e=function(e){const t=wr(e);return Fo(t),(t[yr.ExtraData][2]||[]).map(e=>"string"==typeof e?Vo(e):[Vo(e[0]),Vo(e[1])])}(t),n=function(e,t,n){const i=wr(e);Fo(i);const r=$o([i[yr.ExtraData][0],i[yr.ExtraData][1]],t)||[];return $o(r,n)||[]}(t,r,i);let l;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:i,minutes:r}=e[0],{hours:a,minutes:c}=e[1];s>=i&&o>=r&&(s<a||s===a&&o<c)&&(l=n[t])}else{const{hours:i,minutes:r}=e;i===s&&r===o&&(l=n[t])}}),l)return l}return function(e,t,n){const i=wr(e),r=$o([i[yr.DayPeriodsFormat],i[yr.DayPeriodsStandalone]],t);return $o(r,n)}(t,r,i)[s<12?0:1];case Ho.Eras:return function(e,t){return $o(wr(e)[yr.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(r,l,e,t,n,i)}}function Zo(e){return function(t,n,i){const r=-1*i,l=Lo(n,Po.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case Go.Short:return(r>=0?"+":"")+Ko(s,2,l)+Ko(Math.abs(r%60),2,l);case Go.ShortGMT:return"GMT"+(r>=0?"+":"")+Ko(s,1,l);case Go.Long:return"GMT"+(r>=0?"+":"")+Ko(s,2,l)+":"+Ko(Math.abs(r%60),2,l);case Go.Extended:return 0===i?"Z":(r>=0?"+":"")+Ko(s,2,l)+":"+Ko(Math.abs(r%60),2,l);default:throw new Error(`Unknown zone width "${e}"`)}}}function Xo(e,t=!1){return function(n,i){let r;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();r=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,0,1).getDay();return new Date(e,0,1+(t<=4?4:11)-t)}(n.getFullYear()),t=(l=n,new Date(l.getFullYear(),l.getMonth(),l.getDate()+(4-l.getDay()))).getTime()-e.getTime();r=1+Math.round(t/6048e5)}var l;return Ko(r,e,Lo(i,Po.MinusSign))}}const Yo={};function Jo(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ea(e){return e instanceof Date&&!isNaN(e.valueOf())}const ta=new _e("UseV4Plurals");class na{}class ia extends na{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return wr(e)[yr.PluralCase]}(t||this.locale)(e)){case ko.Zero:return"zero";case ko.One:return"one";case ko.Two:return"two";case ko.Few:return"few";case ko.Many:return"many";default:return"other"}}}function ra(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[i,r]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(i.trim()===t)return decodeURIComponent(r)}return null}class la{}class sa{constructor(e,t,n,i){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=i,this._initialClasses=[]}getValue(){return null}setClass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&($t(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+fe(e.item));this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}let oa=(()=>{class e{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}return e.ngDirectiveDef=void 0,e})();class aa extends oa{constructor(e){super(e)}set klass(e){this._delegate.setClass(e)}set ngClass(e){this._delegate.setNgClass(e)}ngDoCheck(){this._delegate.applyChanges()}}class ca{constructor(e,t,n,i){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class ua{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){qe()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.`),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,i)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ca(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new ha(e,n);t.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const l=new ha(e,r);t.push(l)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=i,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}class ha{constructor(e,t){this.record=e,this.view=t}}class da{constructor(e,t){this._viewContainer=e,this._context=new pa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){fa("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){fa("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class pa{constructor(){this.$implicit=null,this.ngIf=null}}function fa(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${fe(t)}'.`)}class ga{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}class ma{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}class ya{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new ga(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class ba{}class va{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n}getValue(){return null}setNgStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}applyChanges(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}_setStyle(e,t){const[n,i]=e.split(".");null!=(t=null!=t&&i?`${t}${i}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}let wa=(()=>{class e{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}return e.ngDirectiveDef=void 0,e})();class Ca extends wa{constructor(e){super(e)}set ngStyle(e){this._delegate.setNgStyle(e)}ngDoCheck(){this._delegate.applyChanges()}}class Sa{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){this._shouldRecreateView(e)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}function _a(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${fe(e)}'`)}class xa{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Ia{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const ka=new Ia,Ta=new xa;class Ma{constructor(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):At(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Ft.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(e){if(Ut(e))return ka;if(jt(e))return Ta;throw _a(Ma,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}class Ea{transform(e,t,n){if(null==e)return e;if(!this.supports(e))throw _a(Ea,e);return e.slice(t,n)}supports(e){return"string"==typeof e||Array.isArray(e)}}class Pa{}const Oa=new _e("DocumentToken");let Da=(()=>{class e{}return e.ngInjectableDef=ue({token:e,providedIn:"root",factory:()=>new Na(Pe(Oa),window,Pe(Ge))}),e})();class Na{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}function Ra(...e){let t=e[e.length-1];return T(t)?(e.pop(),U(e,t)):K(e)}const Aa=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})(),La={};class Fa{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new $a(e,this.resultSelector))}}class $a extends L{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(La),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(A(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,i,r){const l=this.values,s=this.toRespond?l[n]===La?--this.toRespond:this.toRespond:0;l[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const Va=new w(e=>e.complete());function Ua(e){return e?function(e){return new w(t=>e.schedule(()=>t.complete()))}(e):Va}function ja(e){return new w(t=>{let n;try{n=e()}catch(i){return void t.error(i)}return(n?j(n):Ua()).subscribe(t)})}function za(){return q(1)}function Ga(e,t){return function(n){return n.lift(new Ba(e,t))}}class Ba{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Ha(e,this.predicate,this.thisArg))}}class Ha extends f{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}const qa=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function Ka(e){return function(t){return 0===e?Ua():t.lift(new Wa(e))}}class Wa{constructor(e){if(this.total=e,this.total<0)throw new qa}call(e,t){return t.subscribe(new Qa(e,this.total))}}class Qa extends f{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=t++%n;e.next(i[r])}}e.complete()}}function Za(e=Ja){return t=>t.lift(new Xa(e))}class Xa{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Ya(e,this.errorFactory))}}class Ya extends f{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Ja(){return new Aa}function ec(e=null){return t=>t.lift(new tc(e))}class tc{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new nc(e,this.defaultValue))}}class nc extends f{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function ic(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Ga((t,n)=>e(t,n,i)):H,Ka(1),n?ec(t):Za(()=>new Aa))}function rc(e){return function(t){const n=new lc(e),i=t.lift(n);return n.caught=i}}class lc{constructor(e){this.selector=e}call(e,t){return t.subscribe(new sc(e,this.selector,this.caught))}}class sc extends L{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const i=new M(this,void 0,void 0);this.add(i),A(this,n,void 0,void 0,i)}}}function oc(e){return t=>0===e?Ua():t.lift(new ac(e))}class ac{constructor(e){if(this.total=e,this.total<0)throw new qa}call(e,t){return t.subscribe(new cc(e,this.total))}}class cc extends f{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function uc(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Ga((t,n)=>e(t,n,i)):H,oc(1),n?ec(t):Za(()=>new Aa))}class hc{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new dc(e,this.predicate,this.thisArg,this.source))}}class dc extends f{constructor(e,t,n,i){super(e),this.predicate=t,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function pc(e,t){return"function"==typeof t?n=>n.pipe(pc((n,i)=>j(e(n,i)).pipe(F((e,r)=>t(n,e,i,r))))):t=>t.lift(new fc(e))}class fc{constructor(e){this.project=e}call(e,t){return t.subscribe(new gc(e,this.project))}}class gc extends L{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t,e,n)}_innerSub(e,t,n){const i=this.innerSubscription;i&&i.unsubscribe();const r=new M(this,void 0,void 0);this.destination.add(r),this.innerSubscription=A(this,e,t,n,r)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,i,r){this.destination.next(t)}}function mc(...e){return za()(Ra(...e))}function yc(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new bc(e,t,n))}}class bc{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new vc(e,this.accumulator,this.seed,this.hasSeed))}}class vc extends f{constructor(e,t,n,i){super(e),this.accumulator=t,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function wc(e,t){return z(e,t,1)}function Cc(e,t,n){return function(i){return i.lift(new Sc(e,t,n))}}class Sc{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new _c(e,this.nextOrObserver,this.error,this.complete))}}class _c extends f{constructor(e,t,n,r){super(e),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=n||y,this._tapComplete=r||y,i(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||y,this._tapError=t.error||y,this._tapComplete=t.complete||y)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class xc{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Ic(e,this.callback))}}class Ic extends f{constructor(e,t){super(e),this.add(new h(t))}}let kc=null;function Tc(){return kc}const Mc={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Ec={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Oc=(()=>{if(Se.Node)return Se.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class Dc extends class extends class{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(t).forEach(n=>{null!=this.getStyle(e,n)&&(this._transitionEnd=t[n])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new Dc,kc||(kc=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return Mc}contains(e,t){return Oc.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=t[i];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(e,t),i}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const i=this.getStyle(e,t)||"";return n?i==n:i.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,i){e.setAttributeNS(t,n,i)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Pc.hasOwnProperty(t)&&(t=Pc[t]))}return Ec[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Rc||(Rc=document.querySelector("base"),Rc)?Rc.getAttribute("href"):null;return null==t?null:(n=t,Nc||(Nc=document.createElement("a")),Nc.setAttribute("href",n),"/"===Nc.pathname.charAt(0)?Nc.pathname:"/"+Nc.pathname);var n}resetBaseElement(){Rc=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return ra(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let Nc,Rc=null;function Ac(){return!!window.history.pushState}const Lc=new _e("TRANSITION_ID");function Fc(e,t,n){return()=>{n.get(Ir).donePromise.then(()=>{const n=Tc();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}}const $c=[{provide:xr,useFactory:Fc,deps:[Lc,Oa,xt],multi:!0}];class Vc{static init(){var e;e=new Vc,ll=e}addToWindow(e){Se.getAngularTestability=(t,n=!0)=>{const i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},Se.getAllAngularTestabilities=()=>e.getAllTestabilities(),Se.getAllAngularRootElements=()=>e.getAllRootElements(),Se.frameworkStabilizers||(Se.frameworkStabilizers=[]),Se.frameworkStabilizers.push(e=>{const t=Se.getAllAngularTestabilities();let n=t.length,i=!1;const r=function(t){i=i||t,n--,0==n&&e(i)};t.forEach((function(e){e.whenStable(r)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?Tc().isShadowRoot(t)?this.findTestabilityInTree(e,Tc().getHost(t),!0):this.findTestabilityInTree(e,Tc().parentElement(t),!0):null}}function Uc(e,t){"undefined"!=typeof COMPILED&&COMPILED||((Se.ng=Se.ng||{})[e]=t)}const jc=(()=>({ApplicationRef:dl,NgZone:Wr}))();function zc(e){return _l(e)}const Gc=new _e("EventManagerPlugins");class Bc{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let i=0;i<n.length;i++){const t=n[i];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}class Hc{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=Tc().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}class qc{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}class Kc extends qc{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>Tc().remove(e))}}const Wc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Qc=/%COMP%/g;function Zc(e,t,n){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Zc(e,r,n):(r=r.replace(Qc,e),n.push(r))}return n}function Xc(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class Yc{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Jc(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case $e.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new nu(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case $e.Native:case $e.ShadowDom:return new iu(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Zc(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Jc{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Wc[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,i){if(i){t=i+":"+t;const r=Wc[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const i=Wc[n];i?e.removeAttributeNS(i,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&tn.DashCase?e.style.setProperty(t,n,i&tn.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&tn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){tu(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return tu(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Xc(n)):this.eventManager.addEventListener(e,t,Xc(n))}}const eu=(()=>"@".charCodeAt(0))();function tu(e,t){if(e.charCodeAt(0)===eu)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class nu extends Jc{constructor(e,t,n,i){super(e),this.component=n;const r=Zc(i+"-"+n.id,n.styles,[]);t.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(Qc,i+"-"+n.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(Qc,e)}(i+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class iu extends Jc{constructor(e,t,n,i){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===$e.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=Zc(i.id,i.styles,[]);for(let l=0;l<r.length;l++){const e=document.createElement("style");e.textContent=r[l],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const ru=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),lu=ru("addEventListener"),su=ru("removeEventListener"),ou={},au="__zone_symbol__propagationStopped",cu=(()=>{const e="undefined"!=typeof Zone&&Zone[ru("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),uu=function(e){return!!cu&&cu.hasOwnProperty(e)},hu=function(e){const t=ou[e.type];if(!t)return;const n=this[t];if(!n)return;const i=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,i):e.handler.apply(this,i)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[au];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,i):e.handler.apply(this,i)}}};class du extends Hc{constructor(e,t,n){super(e),this.ngZone=t,n&&function(e){return"server"===e}(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[au]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){let i=n;if(!e[lu]||Wr.isInAngularZone()&&!uu(t))e.addEventListener(t,i,!1);else{let n=ou[t];n||(n=ou[t]=ru("ANGULAR"+t+"FALSE"));let r=e[n];const l=r&&r.length>0;r||(r=e[n]=[]);const s=uu(t)?Zone.root:Zone.current;if(0===r.length)r.push({zone:s,handler:i});else{let e=!1;for(let t=0;t<r.length;t++)if(r[t].handler===i){e=!0;break}e||r.push({zone:s,handler:i})}l||e[lu](t,hu,!1)}return()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,n){let i=e[su];if(!i)return e.removeEventListener.apply(e,[t,n,!1]);let r=ou[t],l=r&&e[r];if(!l)return e.removeEventListener.apply(e,[t,n,!1]);let s=!1;for(let o=0;o<l.length;o++)if(l[o].handler===n){s=!0,l.splice(o,1);break}s?0===l.length&&i.apply(e,[t,hu,!1]):e.removeEventListener.apply(e,[t,n,!1])}}const pu={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},fu=new _e("HammerGestureConfig"),gu=new _e("HammerLoader");class mu{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}class yu extends Hc{constructor(e,t,n,i){super(e),this._config=t,this.console=n,this.loader=i}supports(e){return!(!pu.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(e,t,n){const i=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let i=!1,r=()=>{i=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(r=()=>{});i||(r=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom Hammer.JS loader failed.`),r=()=>{}}),()=>{r()}}return i.runOutsideAngular(()=>{const r=this._config.buildHammer(e),l=function(e){i.runGuarded((function(){n(e)}))};return r.on(t,l),()=>{r.off(t,l),"function"==typeof r.destroy&&r.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}const bu=["alt","control","meta","shift"],vu={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class wu extends Hc{constructor(e){super(e)}supports(e){return null!=wu.parseEventName(e)}addEventListener(e,t,n){const i=wu.parseEventName(t),r=wu.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tc().onAndCancel(e,i.domEventName,r))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const i=wu._normalizeKey(t.pop());let r="";if(bu.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),r+=e+".")}),r+=i,0!=t.length||0===i.length)return null;const l={};return l.domEventName=n,l.fullKey=r,l}static getEventFullKey(e){let t="",n=Tc().getEventKey(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),bu.forEach(i=>{i!=n&&(0,vu[i])(e)&&(t+=i+".")}),t+=n,t}static eventCallback(e,t,n){return i=>{wu.getEventFullKey(i)===e&&n.runGuarded(()=>t(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}class Cu{}class Su extends Cu{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case ft.NONE:return t;case ft.HTML:return t instanceof xu?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){let n=null;try{dt=dt||new Ke(e);let i=t?String(t):"";n=dt.getInertBodyElement(i);let r=5,l=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=l,l=n.innerHTML,n=dt.getInertBodyElement(i)}while(i!==l);const s=new at,o=s.sanitizeChildren(pt(n)||n);return qe()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),o}finally{if(n){const e=pt(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(this._doc,String(t)));case ft.STYLE:return t instanceof Iu?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";const t=e.match(yt);return t&&Ze(t[1])===t[1]||e.match(mt)&&function(e){let t=!0,n=!0;for(let i=0;i<e.length;i++){const r=e.charAt(i);"'"===r&&n?t=!t:'"'===r&&t&&(n=!n)}return t&&n}(e)?e:(qe()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(t));case ft.SCRIPT:if(t instanceof ku)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case ft.URL:return t instanceof Mu||t instanceof Tu?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),Ze(String(t)));case ft.RESOURCE_URL:if(t instanceof Mu)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof _u)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} (see http://g.co/ng/security#xss)`)}bypassSecurityTrustHtml(e){return new xu(e)}bypassSecurityTrustStyle(e){return new Iu(e)}bypassSecurityTrustScript(e){return new ku(e)}bypassSecurityTrustUrl(e){return new Tu(e)}bypassSecurityTrustResourceUrl(e){return new Mu(e)}}class _u{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class xu extends _u{getTypeName(){return"HTML"}}class Iu extends _u{getTypeName(){return"Style"}}class ku extends _u{getTypeName(){return"Script"}}class Tu extends _u{getTypeName(){return"URL"}}class Mu extends _u{getTypeName(){return"ResourceURL"}}const Eu=al(Il,"browser",[{provide:Mr,useValue:"browser"},{provide:Tr,useValue:function(){Dc.makeCurrent(),Vc.init()},multi:!0},{provide:bo,useClass:class extends bo{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=Tc().getLocation(),this._history=Tc().getHistory()}getBaseHrefFromDOM(){return Tc().getBaseHref(this._doc)}onPopState(e){Tc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){Tc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){Ac()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){Ac()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[Oa]},{provide:Oa,useFactory:function(){return document},deps:[]}]);function Pu(){return new Ge}class Ou{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:Ou,providers:[{provide:kr,useValue:e.appId},{provide:Lc,useExisting:kr},$c]}}}function Du(){return new Nu(Pe(Oa))}let Nu=(()=>{class e{constructor(e){this._doc=e}getTitle(){return Tc().getTitle(this._doc)}setTitle(e){Tc().setTitle(this._doc,e)}}return e.ngInjectableDef=ue({factory:Du,token:e,providedIn:"root"}),e})();"undefined"!=typeof window&&window;class Ru{constructor(e,t){this.id=e,this.url=t}}class Au extends Ru{constructor(e,t,n="imperative",i=null){super(e,t),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Lu extends Ru{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fu extends Ru{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $u extends Ru{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vu extends Ru{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uu extends Ru{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ju extends Ru{constructor(e,t,n,i,r){super(e,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zu extends Ru{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gu extends Ru{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bu{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hu{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qu{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ku{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wu{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qu{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zu{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Xu{}class Yu{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ju(e){return new Yu(e)}function eh(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function th(e,t,n){const i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let l=0;l<i.length;l++){const t=i[l],n=e[l];if(t.startsWith(":"))r[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}class nh{constructor(e,t){this.routes=e,this.module=t}}function ih(e,t=""){for(let n=0;n<e.length;n++){const i=e[n];rh(i,lh(t,i))}}function rh(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&ih(e.children,t)}function lh(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function sh(e){const t=e.children&&e.children.map(sh),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Xu),n}function oh(e,t){const n=Object.keys(e),i=Object.keys(t);if(!n||!i||n.length!=i.length)return!1;let r;for(let l=0;l<n.length;l++)if(r=n[l],e[r]!==t[r])return!1;return!0}function ah(e){return Array.prototype.concat.apply([],e)}function ch(e){return e.length>0?e[e.length-1]:null}function uh(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function hh(e){return jt(e)?e:Ut(e)?j(Promise.resolve(e)):Ra(e)}function dh(e,t,n){return n?function(e,t){return oh(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!mh(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,i,r){if(n.segments.length>r.length)return!!mh(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!mh(n.segments,r))return!1;for(const t in i.children){if(!n.children[t])return!1;if(!e(n.children[t],i.children[t]))return!1}return!0}{const e=r.slice(0,n.segments.length),l=r.slice(n.segments.length);return!!mh(n.segments,e)&&!!n.children.primary&&t(n.children.primary,i,l)}}(t,n,n.segments)}(e.root,t.root)}class ph{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ju(this.queryParams)),this._queryParamMap}toString(){return wh.serialize(this)}}class fh{constructor(e,t){this.segments=e,this.children=t,this.parent=null,uh(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ch(this)}}class gh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ju(this.parameters)),this._parameterMap}toString(){return Th(this)}}function mh(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function yh(e,t){let n=[];return uh(e.children,(e,i)=>{"primary"===i&&(n=n.concat(t(e,i)))}),uh(e.children,(e,i)=>{"primary"!==i&&(n=n.concat(t(e,i)))}),n}class bh{}class vh{parse(e){const t=new Dh(e);return new ph(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+function e(t,n){if(!t.hasChildren())return Ch(t);if(n){const n=t.children.primary?e(t.children.primary,!1):"",i=[];return uh(t.children,(t,n)=>{"primary"!==n&&i.push(`${n}:${e(t,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=yh(t,(n,i)=>"primary"===i?[e(t.children.primary,!1)]:[`${i}:${e(n,!1)}`]);return`${Ch(t)}/(${n.join("//")})`}}(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${_h(t)}=${_h(e)}`).join("&"):`${_h(t)}=${_h(n)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const wh=new vh;function Ch(e){return e.segments.map(e=>Th(e)).join("/")}function Sh(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _h(e){return Sh(e).replace(/%3B/gi,";")}function xh(e){return Sh(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ih(e){return decodeURIComponent(e)}function kh(e){return Ih(e.replace(/\+/g,"%20"))}function Th(e){return`${xh(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${xh(e)}=${xh(t[e])}`).join("")}`;var t}const Mh=/^[^\/()?;=#]+/;function Eh(e){const t=e.match(Mh);return t?t[0]:""}const Ph=/^[^=?&#]+/,Oh=/^[^?&#]+/;class Dh{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fh([],{}):new fh([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new fh(e,t)),n}parseSegment(){const e=Eh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new gh(Ih(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Eh(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Eh(this.remaining);e&&(n=e,this.capture(n))}e[Ih(t)]=Ih(n)}parseQueryParam(e){const t=function(e){const t=e.match(Ph);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Oh);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const i=kh(t),r=kh(n);if(e.hasOwnProperty(i)){let t=e[i];Array.isArray(t)||(t=[t],e[i]=t),t.push(r)}else e[i]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Eh(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r="primary");const l=this.parseChildren();t[r]=1===Object.keys(l).length?l.primary:new fh([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Nh{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Rh(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Rh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ah(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Ah(e,this._root).map(e=>e.value)}}function Rh(e,t){if(e===t.value)return t;for(const n of t.children){const t=Rh(e,n);if(t)return t}return null}function Ah(e,t){if(e===t.value)return[t];for(const n of t.children){const i=Ah(e,n);if(i.length)return i.unshift(t),i}return[]}class Lh{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Fh(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class $h extends Nh{constructor(e,t){super(e),this.snapshot=t,Bh(this,e)}toString(){return this.snapshot.toString()}}function Vh(e,t){const n=function(e,t){const n=new zh([],{},{},"",{},"primary",t,null,e.root,-1,{});return new Gh("",new Lh(n,[]))}(e,t),i=new yo([new gh("",{})]),r=new yo({}),l=new yo({}),s=new yo({}),o=new yo(""),a=new Uh(i,r,s,o,l,"primary",t,n.root);return a.snapshot=n.root,new $h(new Lh(a,[]),n)}class Uh{constructor(e,t,n,i,r,l,s,o){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=l,this.component=s,this._futureSnapshot=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(F(e=>Ju(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(F(e=>Ju(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jh(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const e=n[i],t=n[i-1];if(e.routeConfig&&""===e.routeConfig.path)i--;else{if(t.component)break;i--}}return function(e){return e.reduce((e,t)=>({params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class zh{constructor(e,t,n,i,r,l,s,o,a,c,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=l,this.component=s,this.routeConfig=o,this._urlSegment=a,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ju(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ju(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Gh extends Nh{constructor(e,t){super(t),this.url=e,Bh(this,t)}toString(){return Hh(this._root)}}function Bh(e,t){t.value._routerState=e,t.children.forEach(t=>Bh(e,t))}function Hh(e){const t=e.children.length>0?` { ${e.children.map(Hh).join(", ")} } `:"";return`${e.value}${t}`}function qh(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,oh(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),oh(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!oh(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),oh(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Kh(e,t){var n,i;return oh(e.params,t.params)&&mh(n=e.url,i=t.url)&&n.every((e,t)=>oh(e.parameters,i[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||Kh(e.parent,t.parent))}function Wh(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Qh(e,t,n,i,r){let l={};return i&&uh(i,(e,t)=>{l[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new ph(n.root===e?t:function e(t,n,i){const r={};return uh(t.children,(t,l)=>{r[l]=t===n?i:e(t,n,i)}),new fh(t.segments,r)}(n.root,e,t),l,r)}class Zh{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Wh(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(i&&i!==ch(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xh{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Yh(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function Jh(e,t,n){if(e||(e=new fh([],{})),0===e.segments.length&&e.hasChildren())return ed(e,t,n);const i=function(e,t,n){let i=0,r=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return l;const t=e.segments[r],s=Yh(n[i]),o=i<n.length-1?n[i+1]:null;if(r>0&&void 0===s)break;if(s&&o&&"object"==typeof o&&void 0===o.outlets){if(!rd(s,o,t))return l;i+=2}else{if(!rd(s,{},t))return l;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const t=new fh(e.segments.slice(0,i.pathIndex),{});return t.children.primary=new fh(e.segments.slice(i.pathIndex),e.children),ed(t,0,r)}return i.match&&0===r.length?new fh(e.segments,{}):i.match&&!e.hasChildren()?td(e,t,n):i.match?ed(e,0,r):td(e,t,n)}function ed(e,t,n){if(0===n.length)return new fh(e.segments,{});{const i=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),r={};return uh(i,(n,i)=>{null!==n&&(r[i]=Jh(e.children[i],t,n))}),uh(e.children,(e,t)=>{void 0===i[t]&&(r[t]=e)}),new fh(e.segments,r)}}function td(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){const e=nd(n[r].outlets);return new fh(i,e)}if(0===r&&Wh(n[0])){i.push(new gh(e.segments[t].path,n[0])),r++;continue}const l=Yh(n[r]),s=r<n.length-1?n[r+1]:null;l&&s&&Wh(s)?(i.push(new gh(l,id(s))),r+=2):(i.push(new gh(l,{})),r++)}return new fh(i,{})}function nd(e){const t={};return uh(e,(e,n)=>{null!==e&&(t[n]=td(new fh([],{}),0,e))}),t}function id(e){const t={};return uh(e,(e,n)=>t[n]=""+e),t}function rd(e,t,n){return e==n.path&&oh(t,n.parameters)}class ld{constructor(e,t,n,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=i}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),qh(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const i=Fh(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,i[t],n),delete i[t]}),uh(i,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const i=e.value,r=t?t.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(e,t,r.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:i})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const i=Fh(e),r=e.value.component?n.children:t;uh(i,(e,t)=>this.deactivateRouteAndItsChildren(e,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const i=Fh(t);e.children.forEach(e=>{this.activateRoutes(e,i[e.value.outlet],n),this.forwardEvent(new Qu(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Ku(e.value.snapshot))}activateRoutes(e,t,n){const i=e.value,r=t?t.value:null;if(qh(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,r.children)}else this.activateChildRoutes(e,t,n);else if(i.component){const t=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const e=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),sd(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=i,t.resolver=r,t.outlet&&t.outlet.activateWith(i,r),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function sd(e){qh(e.value),e.children.forEach(sd)}function od(e){return"function"==typeof e}function ad(e){return e instanceof ph}class cd{constructor(e){this.segmentGroup=e||null}}class ud{constructor(e){this.urlTree=e}}function hd(e){return new w(t=>t.error(new cd(e)))}function dd(e){return new w(t=>t.error(new ud(e)))}function pd(e){return new w(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class fd{constructor(e,t,n,i,r){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(Re)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(F(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(rc(e=>{if(e instanceof ud)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof cd)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(F(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(rc(e=>{if(e instanceof cd)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const i=e.segments.length>0?new fh([],{primary:e}):e;return new ph(i,t,n)}expandSegmentGroup(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(F(e=>new fh([],e))):this.expandSegment(e,n,t,n.segments,i,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return Ra({});const n=[],i=[],r={};return uh(e,(e,l)=>{const s=t(l,e).pipe(F(e=>r[l]=e));"primary"===l?n.push(s):i.push(s)}),Ra.apply(null,n.concat(i)).pipe(za(),ic(),F(()=>r))}(n.children,(n,i)=>this.expandSegmentGroup(e,t,i,n))}expandSegment(e,t,n,i,r,l){return Ra(...n).pipe(F(s=>this.expandSegmentAgainstRoute(e,t,n,s,i,r,l).pipe(rc(e=>{if(e instanceof cd)return Ra(null);throw e}))),za(),uc(e=>!!e),rc((e,n)=>{if(e instanceof Aa||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,i,r))return Ra(new fh([],{}));throw new cd(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,i,r,l,s){return bd(i)!==l?hd(t):void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,l):hd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?dd(r):this.lineralizeSegments(n,r).pipe(z(n=>{const r=new fh(n,{});return this.expandSegment(e,r,t,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,l){const{matched:s,consumedSegments:o,lastChild:a,positionalParamSegments:c}=gd(t,i,r);if(!s)return hd(t);const u=this.applyRedirectCommands(o,i.redirectTo,c);return i.redirectTo.startsWith("/")?dd(u):this.lineralizeSegments(i,u).pipe(z(i=>this.expandSegment(e,t,n,i.concat(r.slice(a)),l,!1)))}matchSegmentAgainstRoute(e,t,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(F(e=>(n._loadedConfig=e,new fh(i,{})))):Ra(new fh(i,{}));const{matched:r,consumedSegments:l,lastChild:s}=gd(t,n,i);if(!r)return hd(t);const o=i.slice(s);return this.getChildConfig(e,n,i).pipe(z(e=>{const n=e.module,i=e.routes,{segmentGroup:r,slicedSegments:s}=function(e,t,n,i){return n.length>0&&function(e,t,n){return n.some(n=>yd(e,t,n)&&"primary"!==bd(n))}(e,n,i)?{segmentGroup:md(new fh(t,function(e,t){const n={};n.primary=t;for(const i of e)""===i.path&&"primary"!==bd(i)&&(n[bd(i)]=new fh([],{}));return n}(i,new fh(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>yd(e,t,n))}(e,n,i)?{segmentGroup:md(new fh(e.segments,function(e,t,n,i){const r={};for(const l of n)yd(e,t,l)&&!i[bd(l)]&&(r[bd(l)]=new fh([],{}));return Object.assign({},i,r)}(e,n,i,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,l,o,i);return 0===s.length&&r.hasChildren()?this.expandChildren(n,i,r).pipe(F(e=>new fh(l,e))):0===i.length&&0===s.length?Ra(new fh(l,{})):this.expandSegment(n,r,i,s,"primary",!0).pipe(F(e=>new fh(l.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?Ra(new nh(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Ra(t._loadedConfig):function(e,t,n){const i=t.canLoad;return i&&0!==i.length?j(i).pipe(F(i=>{const r=e.get(i);let l;if(function(e){return e&&od(e.canLoad)}(r))l=r.canLoad(t,n);else{if(!od(r))throw new Error("Invalid CanLoad guard");l=r(t,n)}return hh(l)})).pipe(za(),(r=e=>!0===e,e=>e.lift(new hc(r,void 0,e)))):Ra(!0);var r}(e.injector,t,n).pipe(z(n=>n?this.configLoader.load(e.injector,t).pipe(F(e=>(t._loadedConfig=e,e))):function(e){return new w(t=>t.error(eh(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):Ra(new nh([],e))}lineralizeSegments(e,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Ra(n);if(i.numberOfChildren>1||!i.children.primary)return pd(e.redirectTo);i=i.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,i){const r=this.createSegmentGroup(e,t.root,n,i);return new ph(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return uh(e,(e,i)=>{if("string"==typeof e&&e.startsWith(":")){const r=e.substring(1);n[i]=t[r]}else n[i]=e}),n}createSegmentGroup(e,t,n,i){const r=this.createSegments(e,t.segments,n,i);let l={};return uh(t.children,(t,r)=>{l[r]=this.createSegmentGroup(e,t,n,i)}),new fh(r,l)}createSegments(e,t,n,i){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,i):this.findOrReturn(t,n))}findPosParam(e,t,n){const i=n[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let n=0;for(const i of t){if(i.path===e.path)return t.splice(n),i;n++}return e}}function gd(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(t.matcher||th)(n,e,t);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function md(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new fh(e.segments.concat(t.segments),t.children)}return e}function yd(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function bd(e){return e.outlet||"primary"}class vd{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class wd{constructor(e,t){this.component=e,this.route=t}}function Cd(e,t,n){const i=e._root;return function e(t,n,i,r,l={canDeactivateChecks:[],canActivateChecks:[]}){const s=Fh(n);return t.children.forEach(t=>{!function(t,n,i,r,l={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=n?n.value:null,a=i?i.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!mh(e.url,t.url);case"pathParamsOrQueryParamsChange":return!mh(e.url,t.url)||!oh(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kh(e,t)||!oh(e.queryParams,t.queryParams);case"paramsChange":default:return!Kh(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?l.canActivateChecks.push(new vd(r)):(s.data=o.data,s._resolvedData=o._resolvedData),e(t,n,s.component?a?a.children:null:i,r,l),c&&l.canDeactivateChecks.push(new wd(a&&a.outlet&&a.outlet.component||null,o))}else o&&_d(n,a,l),l.canActivateChecks.push(new vd(r)),e(t,null,s.component?a?a.children:null:i,r,l)}(t,s[t.value.outlet],i,r.concat([t.value]),l),delete s[t.value.outlet]}),uh(s,(e,t)=>_d(e,i.getContext(t),l)),l}(i,t?t._root:null,n,[i.value])}function Sd(e,t,n){const i=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function _d(e,t,n){const i=Fh(e),r=e.value;uh(i,(e,i)=>{_d(e,r.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new wd(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}const xd=Symbol("INITIAL_VALUE");function Id(){return pc(e=>function(...e){let t=null,n=null;return T(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&a(e[0])&&(e=e[0]),K(e,n).lift(new Fa(t))}(...e.map(e=>e.pipe(oc(1),function(...e){const t=e[e.length-1];return T(t)?(e.pop(),n=>mc(e,n,t)):t=>mc(e,t)}(xd)))).pipe(yc((e,t)=>{let n=!1;return t.reduce((e,i,r)=>{if(e!==xd)return e;if(i===xd&&(n=!0),!n){if(!1===i)return i;if(r===t.length-1||ad(i))return i}return e},e)},xd),Ga(e=>e!==xd),F(e=>ad(e)?e:!0===e),oc(1)))}function kd(e,t){return null!==e&&t&&t(new Wu(e)),Ra(!0)}function Td(e,t){return null!==e&&t&&t(new qu(e)),Ra(!0)}function Md(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;return i&&0!==i.length?Ra(i.map(i=>ja(()=>{const r=Sd(i,t,n);let l;if(function(e){return e&&od(e.canActivate)}(r))l=hh(r.canActivate(t,e));else{if(!od(r))throw new Error("Invalid CanActivate guard");l=hh(r(t,e))}return l.pipe(uc())}))).pipe(Id()):Ra(!0)}function Ed(e,t,n){const i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>ja(()=>Ra(t.guards.map(r=>{const l=Sd(r,t.node,n);let s;if(function(e){return e&&od(e.canActivateChild)}(l))s=hh(l.canActivateChild(i,e));else{if(!od(l))throw new Error("Invalid CanActivateChild guard");s=hh(l(i,e))}return s.pipe(uc())})).pipe(Id())));return Ra(r).pipe(Id())}class Pd{}class Od{constructor(e,t,n,i,r,l){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=l}recognize(){try{const e=Rd(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new zh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Lh(n,t),r=new Gh(this.url,i);return this.inheritParamsAndData(r._root),Ra(r)}catch(e){return new w(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=jh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=yh(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),i=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${i}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,i){for(const l of e)try{return this.processSegmentAgainstRoute(l,t,n,i)}catch(r){if(!(r instanceof Pd))throw r}if(this.noLeftoversInUrl(t,n,i))return[];throw new Pd}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,i){if(e.redirectTo)throw new Pd;if((e.outlet||"primary")!==i)throw new Pd;let r,l=[],s=[];if("**"===e.path){const l=n.length>0?ch(n).parameters:{};r=new zh(n,l,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fd(e),i,e.component,e,Dd(t),Nd(t)+n.length,$d(e))}else{const o=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Pd;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(t.matcher||th)(n,e,t);if(!i)throw new Pd;const r={};uh(i.posParams,(e,t)=>{r[t]=e.path});const l=i.consumed.length>0?Object.assign({},r,i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:l}}(t,e,n);l=o.consumedSegments,s=n.slice(o.lastChild),r=new zh(l,o.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fd(e),i,e.component,e,Dd(t),Nd(t)+l.length,$d(e))}const o=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:a,slicedSegments:c}=Rd(t,l,s,o,this.relativeLinkResolution);if(0===c.length&&a.hasChildren()){const e=this.processChildren(o,a);return[new Lh(r,e)]}if(0===o.length&&0===c.length)return[new Lh(r,[])];const u=this.processSegment(o,a,c,"primary");return[new Lh(r,u)]}}function Dd(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Nd(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Rd(e,t,n,i,r){if(n.length>0&&function(e,t,n){return n.some(n=>Ad(e,t,n)&&"primary"!==Ld(n))}(e,n,i)){const r=new fh(t,function(e,t,n,i){const r={};r.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const l of n)if(""===l.path&&"primary"!==Ld(l)){const n=new fh([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,r[Ld(l)]=n}return r}(e,t,i,new fh(n,e.children)));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>Ad(e,t,n))}(e,n,i)){const l=new fh(e.segments,function(e,t,n,i,r,l){const s={};for(const o of i)if(Ad(e,n,o)&&!r[Ld(o)]){const n=new fh([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===l?e.segments.length:t.length,s[Ld(o)]=n}return Object.assign({},r,s)}(e,t,n,i,e.children,r));return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:n}}const l=new fh(e.segments,e.children);return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:n}}function Ad(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ld(e){return e.outlet||"primary"}function Fd(e){return e.data||{}}function $d(e){return e.resolve||{}}function Vd(e,t,n,i){const r=Sd(e,t,i);return hh(r.resolve?r.resolve(t,n):r(t,n))}function Ud(e){return function(t){return t.pipe(pc(t=>{const n=e(t);return n?j(n).pipe(F(()=>t)):j([t])}))}}class jd{}class zd{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const Gd=new _e("ROUTES");class Bd{constructor(e,t,n,i){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=i}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(F(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new nh(ah(i.injector.get(Gd)).map(sh),i)}))}loadModuleFactory(e){return"string"==typeof e?j(this.loader.load(e)):hh(e()).pipe(z(e=>e instanceof Ae?Ra(e):j(this.compiler.compileModuleAsync(e))))}}class Hd{}class qd{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Kd(e){throw e}function Wd(e,t,n){return t.parse("/")}function Qd(e,t){return Ra(null)}class Zd{constructor(e,t,n,i,r,l,s,o){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=o,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new I,this.errorHandler=Kd,this.malformedUriErrorHandler=Wd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qd,afterPreactivation:Qd},this.urlHandlingStrategy=new qd,this.routeReuseStrategy=new zd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(Re),this.console=r.get(Pr);const a=r.get(Wr);this.isNgZoneEnabled=a instanceof Wr,this.resetConfig(o),this.currentUrlTree=new ph(new fh([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Bd(l,s,e=>this.triggerEvent(new Bu(e)),e=>this.triggerEvent(new Hu(e))),this.routerState=Vh(this.currentUrlTree,this.rootComponentType),this.transitions=new yo({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Ga(e=>0!==e.id),F(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),pc(e=>{let n=!1,i=!1;return Ra(e).pipe(Cc(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),pc(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Ra(e).pipe(pc(e=>{const n=this.transitions.getValue();return t.next(new Au(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?Va:[e]}),pc(e=>Promise.resolve(e)),(i=this.ngModule.injector,r=this.configLoader,l=this.urlSerializer,s=this.config,function(e){return e.pipe(pc(e=>function(e,t,n,i,r){return new fd(e,t,n,i,r).apply()}(i,r,l,e.extractedUrl,s).pipe(F(t=>Object.assign({},e,{urlAfterRedirects:t})))))}),Cc(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,t,n,i,r){return function(l){return l.pipe(z(l=>function(e,t,n,i,r="emptyOnly",l="legacy"){return new Od(e,t,n,i,r,l).recognize()}(e,t,l.urlAfterRedirects,n(l.urlAfterRedirects),i,r).pipe(F(e=>Object.assign({},l,{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Cc(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Cc(e=>{const n=new Vu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var i,r,l,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:l,extras:s}=e,o=new Au(n,this.serializeUrl(i),r,l);t.next(o);const a=Vh(i,this.rootComponentType).snapshot;return Ra(Object.assign({},e,{targetSnapshot:a,urlAfterRedirects:i,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Va}),Ud(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:l,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!l,replaceUrl:!!s})}),Cc(e=>{const t=new Uu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),F(e=>Object.assign({},e,{guards:Cd(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(z(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:l,canDeactivateChecks:s}}=n;return 0===s.length&&0===l.length?Ra(Object.assign({},n,{guardsResult:!0})):function(e,t,n,i){return j(e).pipe(z(e=>function(e,t,n,i,r){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?Ra(l.map(l=>{const s=Sd(l,t,r);let o;if(function(e){return e&&od(e.canDeactivate)}(s))o=hh(s.canDeactivate(e,t,n,i));else{if(!od(s))throw new Error("Invalid CanDeactivate guard");o=hh(s(e,t,n,i))}return o.pipe(uc())})).pipe(Id()):Ra(!0)}(e.component,e.route,n,t,i)),uc(e=>!0!==e,!0))}(s,i,r,e).pipe(z(n=>n&&"boolean"==typeof n?function(e,t,n,i){return j(t).pipe(wc(t=>j([Td(t.route.parent,i),kd(t.route,i),Ed(e,t.path,n),Md(e,t.route,n)]).pipe(za(),uc(e=>!0!==e,!0))),uc(e=>!0!==e,!0))}(i,l,e,t):Ra(n)),F(e=>Object.assign({},n,{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),Cc(e=>{if(ad(e.guardsResult)){const t=eh(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),Cc(e=>{const t=new ju(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Ga(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Fu(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),Ud(e=>{if(e.guards.canActivateChecks.length)return Ra(e).pipe(Cc(e=>{const t=new zu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(t=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(e){return e.pipe(z(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;return r.length?j(r).pipe(wc(e=>function(e,t,n,i){return function(e,t,n,i){const r=Object.keys(e);if(0===r.length)return Ra({});if(1===r.length){const l=r[0];return Vd(e[l],t,n,i).pipe(F(e=>({[l]:e})))}const l={};return j(r).pipe(z(r=>Vd(e[r],t,n,i).pipe(F(e=>(l[r]=e,e))))).pipe(ic(),F(()=>l))}(e._resolve,e,t,i).pipe(F(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,jh(e,n).resolve),null)))}(e.route,i,t,n)),function(e,t){return arguments.length>=2?function(n){return b(yc(e,t),Ka(1),ec(t))(n)}:function(t){return b(yc((t,n,i)=>e(t,n,i+1)),Ka(1))(t)}}((e,t)=>e),F(t=>e)):Ra(e)}))}),Cc(e=>{const t=new Gu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}));var t,n}),Ud(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:l,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!l,replaceUrl:!!s})}),F(e=>{const t=function(e,t,n){const i=function e(t,n,i){if(i&&t.shouldReuseRoute(n.value,i.value.snapshot)){const r=i.value;r._futureSnapshot=n.value;const l=function(t,n,i){return n.children.map(n=>{for(const r of i.children)if(t.shouldReuseRoute(r.value.snapshot,n.value))return e(t,n,r);return e(t,n)})}(t,n,i);return new Lh(r,l)}{const i=t.retrieve(n.value);if(i){const e=i.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let i=0;i<t.children.length;++i)e(t.children[i],n.children[i])}(n,e),e}{const i=new Uh(new yo((r=n.value).url),new yo(r.params),new yo(r.queryParams),new yo(r.fragment),new yo(r.data),r.outlet,r.component,r),l=n.children.map(n=>e(t,n));return new Lh(i,l)}}var r}(e,t._root,n?n._root:void 0);return new $h(i,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),Cc(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(l=this.rootContexts,s=this.routeReuseStrategy,o=e=>this.triggerEvent(e),F(e=>(new ld(s,e.targetRouterState,e.currentRouterState,o).activate(l),e))),Cc({next(){n=!0},complete(){n=!0}}),(r=()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Fu(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null},e=>e.lift(new xc(r))),rc(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=ad(n.url);i||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const r=new Fu(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(r),e.resolve(!1),i&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const i=new $u(e.id,this.serializeUrl(e.extractedUrl),n);t.next(i);try{e.resolve(this.errorHandler(n))}catch(l){e.reject(l)}}var r;return Va}));var r,l,s,o}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){ih(e),this.config=e.map(sh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:i,fragment:r,preserveQueryParams:l,queryParamsHandling:s,preserveFragment:o}=t;qe()&&l&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:r;let u=null;if(s)switch(s){case"merge":u=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}else u=l?this.currentUrlTree.queryParams:i||null;return null!==u&&(u=this.removeEmptyProps(u)),function(e,t,n,i,r){if(0===n.length)return Qh(t.root,t.root,t,i,r);const l=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Zh(!0,0,e);let t=0,n=!1;const i=e.reduce((e,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const t={};return uh(i.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(i.segmentPath)return[...e,i.segmentPath]}return"string"!=typeof i?[...e,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))}),e):[...e,i]},[]);return new Zh(n,t,i)}(n);if(l.toRoot())return Qh(t.root,new fh([],{}),t,i,r);const s=function(e,t,n){if(e.isAbsolute)return new Xh(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Xh(n.snapshot._urlSegment,!0,0);const i=Wh(e.commands[0])?0:1;return function(e,t,n){let i=e,r=t,l=n;for(;l>r;){if(l-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Xh(i,!1,r-l)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(l,t,e),o=s.processChildren?ed(s.segmentGroup,s.index,l.commands):Jh(s.segmentGroup,s.index,l.commands);return Qh(s.segmentGroup,o,t,i,r)}(a,this.currentUrlTree,e,u,c)}navigateByUrl(e,t={skipLocationChange:!1}){qe()&&this.isNgZoneEnabled&&!Wr.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ad(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(ad(e))return dh(this.currentUrlTree,e,t);const n=this.parseUrl(e);return dh(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const i=e[n];return null!=i&&(t[n]=i),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Lu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,i){const r=this.getTransition();if(r&&"imperative"!==t&&"imperative"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"hashchange"==t&&"popstate"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"popstate"==t&&"hashchange"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);let l=null,s=null;const o=new Promise((e,t)=>{l=e,s=t}),a=++this.navigationId;return this.setTransition({id:a,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:l,reject:s,promise:o,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),o.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,i){const r=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(r)||t?this.location.replaceState(r,"",Object.assign({},i,{navigationId:n})):this.location.go(r,"",Object.assign({},i,{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Xd{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof Lu&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){qe()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,i){if(0!==e||t||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:Yd(this.skipLocationChange),replaceUrl:Yd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Yd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Yd(this.preserveFragment)})}}function Yd(e){return""===e||!!e}class Jd{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ep,this.attachRef=null}}class ep{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Jd,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class tp{constructor(e,t,n,i,r){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new Cr,this.deactivateEvents=new Cr,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new np(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class np{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Uh?this.route:e===ep?this.childContexts:this.parent.get(e,t)}}class ip{}class rp{preload(e,t){return t().pipe(rc(()=>Ra(null)))}}class lp{preload(e,t){return Ra(null)}}class sp{constructor(e,t,n,i,r){this.router=e,this.injector=i,this.preloadingStrategy=r,this.loader=new Bd(t,n,t=>e.triggerEvent(new Bu(t)),t=>e.triggerEvent(new Hu(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ga(e=>e instanceof Lu),wc(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Re);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const i of t)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const e=i._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(e,i)):i.children&&n.push(this.processRoutes(e,i.children));return j(n).pipe(q(),F(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(z(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}class op{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Au?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Lu&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Zu&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Zu(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const ap=new _e("ROUTER_CONFIGURATION"),cp=new _e("ROUTER_FORROOT_GUARD"),up=[So,{provide:bh,useClass:vh},{provide:Zd,useFactory:yp,deps:[dl,bh,ep,So,xt,fl,Fr,Gd,ap,[Hd,new le],[jd,new le]]},ep,{provide:Uh,useFactory:bp,deps:[Zd]},{provide:fl,useClass:yl},sp,lp,rp,{provide:ap,useValue:{enableTracing:!1}}];function hp(){return new ol("Router",Zd)}class dp{constructor(e,t){}static forRoot(e,t){return{ngModule:dp,providers:[up,mp(e),{provide:cp,useFactory:gp,deps:[[Zd,new le,new oe]]},{provide:ap,useValue:t||{}},{provide:wo,useFactory:fp,deps:[bo,[new re(Co),new le],ap]},{provide:op,useFactory:pp,deps:[Zd,Da,ap]},{provide:ip,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:lp},{provide:ol,multi:!0,useFactory:hp},[vp,{provide:xr,multi:!0,useFactory:wp,deps:[vp]},{provide:Sp,useFactory:Cp,deps:[vp]},{provide:Er,multi:!0,useExisting:Sp}]]}}static forChild(e){return{ngModule:dp,providers:[mp(e)]}}}function pp(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new op(e,t,n)}function fp(e,t,n={}){return n.useHash?new xo(e,t):new Io(e,t)}function gp(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function mp(e){return[{provide:Dt,multi:!0,useValue:e},{provide:Gd,multi:!0,useValue:e}]}function yp(e,t,n,i,r,l,s,o,a={},c,u){const h=new Zd(null,t,n,i,r,l,s,ah(o));if(c&&(h.urlHandlingStrategy=c),u&&(h.routeReuseStrategy=u),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const e=Tc();h.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h}function bp(e){return e.routerState.root}class vp{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new I}appInitializer(){return this.injector.get(vo,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Zd),i=this.injector.get(ap);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Ra(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(ap),n=this.injector.get(sp),i=this.injector.get(op),r=this.injector.get(Zd),l=this.injector.get(dl);e===l.components[0]&&(this.isLegacyEnabled(t)?r.initialNavigation():this.isLegacyDisabled(t)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(l.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}function wp(e){return e.appInitializer.bind(e)}function Cp(e){return e.bootstrapListener.bind(e)}const Sp=new _e("Router Initializer");var _p=n("ltvU"),xp=n("4El3"),Ip=Object,kp=Ip.getPrototypeOf,Tp=0;function Mp(e,t){return e&&Ip.prototype.hasOwnProperty.call(e,t)}function Ep(e){return e&&(e===Ip.prototype||e===Array.prototype)}function Pp(e){return Ep(e)||e===Function.prototype}function Op(e){if(e){if(kp)return kp(e);var t=e.__proto__||e.prototype||(e.constructor?e.constructor.prototype:null);if(t)return t}return null}function Dp(e,t){var n=[],i=Ip.getOwnPropertyNames;if(i)n=i(e);else for(var r in e)"string"==typeof r&&Mp(e,r)&&n.push(r);if(n&&n.length>0)for(var l=0;l<n.length;l++)t(n[l])}function Np(e,t,n){return"constructor"!==t&&"function"==typeof e[t]&&(n||Mp(e,t))}function Rp(e){throw new TypeError("DynamicProto: "+e)}function Ap(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function Lp(e,t,n,i){var r=null;if(e&&Mp(n,"_dynClass")){var l=e._dynInstFuncs||{};if((r=(l[n._dynClass]||{})[t])||Rp("Missing ["+t+"] function"),!r._dynInstChk&&!1!==l._dynInstChk){for(var s=!Mp(e,t),o=Op(e),a=[];s&&o&&!Pp(o)&&!Ap(a,o);){var c=o[t];if(c){s=c===i;break}a.push(o),o=Op(o)}try{s&&(e[t]=r),r._dynInstChk=1}catch(u){l._dynInstChk=!1}}}return r}function Fp(e,t,n){var i=t[e];return i===n&&(i=Op(t)[e]),"function"!=typeof i&&Rp("["+e+"] is not a function"),i}function $p(e,t){return Mp(e,"prototype")?e.name||t||"_unknown_":((e||{}).constructor||{}).name||t||"_unknown_"}function Vp(e,t,n,i){Mp(e,"prototype")||Rp("theClass is an invalid class definition.");var r=e.prototype;(function(e,t){if(kp)for(var n=[],i=Op(t);i&&!Pp(i)&&!Ap(n,i);){if(i===e)return!0;n.push(i),i=Op(i)}return!1})(r,t)||Rp("["+$p(e)+"] is not in class hierarchy of ["+$p(t)+"]");var l=null;Mp(r,"_dynClass")?l=r._dynClass:(l="_dynCls$"+$p(e,"_")+"$"+Tp,Tp++,r._dynClass=l);var s=Vp._dfOpts,o=!!s.useBaseInst;o&&i&&void 0!==i.useBaseInst&&(o=!!i.useBaseInst);var a=function(e){var t={};return Dp(e,(function(n){!t[n]&&Np(e,n,!1)&&(t[n]=e[n])})),t}(t);n(t,function(e,t,n,i){function r(e,t,n){var r=t[n];if(r._isDynProxy&&i){var l=e._dynInstFuncs||{};!1!==l._dynInstChk&&(r=(l[t._dynClass]||{})[n]||r)}return function(){return r.apply(e,arguments)}}var l={};Dp(n,(function(e){l[e]=r(t,n,e)}));for(var s=Op(e),o=[];s&&!Pp(s)&&!Ap(o,s);)Dp(s,(function(e){!l[e]&&Np(s,e,!kp)&&(l[e]=r(t,s,e))})),o.push(s),s=Op(s);return l}(r,t,a,o));var c=!!kp&&!!s.setInstFuncs;c&&i&&(c=!!i.setInstFuncs),function(e,t,n,i,r){if(!Ep(e)){var l=n._dynInstFuncs=n._dynInstFuncs||{},s=l[t]=l[t]||{};!1!==l._dynInstChk&&(l._dynInstChk=!!r),Dp(n,(function(t){Np(n,t,!1)&&n[t]!==i[t]&&(s[t]=n[t],delete n[t],(!Mp(e,t)||e[t]&&!e[t]._isDynProxy)&&(e[t]=function(e,t){var n=function(){var i=Lp(this,t,e,n)||Fp(t,e,n);return i.apply(this,arguments)};return n._isDynProxy=1,n}(e,t)))}))}}(r,l,t,a,!1!==c)}Vp._dfOpts={setInstFuncs:!0,useBaseInst:!0};var Up,jp=Vp;!function(e){e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING"}(Up||(Up={}));var zp=n("FXxO"),Gp=zp.d,Bp=zp.b.keys,Hp=String[zp.k],qp=Hp.trim,Kp=Hp.endsWith,Wp=Date[zp.k].toISOString,Qp=Array.isArray,Zp=zp.f.toString,Xp=(zp.e.toString.call(zp.b),/-([a-z])/g),Yp=/([^\w\d_$])/g,Jp=/^(\d+[\w\d_$])/,ef=Object.getPrototypeOf;function tf(e){return void 0===e||typeof e===zp.l}function nf(e){return null===e||tf(e)}function rf(e){return!nf(e)}function lf(e,t){return!(!e||!zp.e.call(e,t))}function sf(e){return!(!e||typeof e!==zp.j)}function of(e){return!(!e||typeof e!==zp.h)}function af(e,t,n,i){void 0===i&&(i=!1);var r=!1;if(!nf(e))try{nf(e.addEventListener)?nf(e.attachEvent)||(e.attachEvent("on"+t,n),r=!0):(e.addEventListener(t,n,i),r=!0)}catch(l){}return r}function cf(e,t){if(e)for(var n in e)zp.e.call(e,n)&&t.call(e,n,e[n])}function uf(e,t){return!(!e||!t)&&-1!==e.indexOf(t)}var hf=Qp||function(e){return!(!e||"[object Array]"!==Zp.call(e))};function df(e){return!(!e||"[object Error]"!==Zp.call(e))}function pf(e){return"string"==typeof e}function ff(e){return"number"==typeof e}function gf(e){if(e)return Wp?e.toISOString():function(e){if(e&&e.getUTCFullYear){var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(e)}function mf(e,t,n){var i=e.length;try{for(var r=0;r<i&&(!(r in e)||-1!==t.call(n||e,e[r],r,e));r++);}catch(l){}}function yf(e,t,n){if(e){if(e.indexOf)return e.indexOf(t,n);var i=e.length,r=n||0;try{for(var l=Math.max(r>=0?r:i-Math.abs(r),0);l<i;l++)if(l in e&&e[l]===t)return l}catch(s){}}return-1}function bf(e,t,n){var i;if(e){if(e.map)return e.map(t,n);var r=e.length,l=n||e;i=new Array(r);try{for(var s=0;s<r;s++)s in e&&(i[s]=t.call(l,e[s],e))}catch(o){}}return i}function vf(e){return e&&(e=qp&&e.trim?e.trim():e.replace?e.replace(/^\s+|\s+$/g,""):e),e}var wf=!{toString:null}.propertyIsEnumerable("toString"),Cf=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Sf(e){var t=typeof e;if(t===zp.h||t===zp.j&&null!==e||Object(xp.c)("objKeys called on non-object"),!wf&&Bp)return Bp(e);var n=[];for(var i in e)e&&zp.e.call(e,i)&&n.push(i);if(wf)for(var r=Cf.length,l=0;l<r;l++)e&&zp.e.call(e,Cf[l])&&n.push(Cf[l]);return n}function _f(e,t,n,i){if(Gp)try{var r={enumerable:!0,configurable:!0};return n&&(r.get=n),i&&(r.set=i),Gp(e,t,r),!0}catch(l){}return!1}function xf(){var e=Date;return e.now?e.now():(new e).getTime()}function If(e){return df(e)?e.name:""}function kf(e,t,n,i,r){var l=n;return e&&((l=e[t])===n||r&&!r(l)||i&&!i(n)||(e[t]=l=n)),l}function Tf(e,t,n){var i;return e?!(i=e[t])&&nf(i)&&(i=tf(n)?{}:n,e[t]=i):i=tf(n)?{}:n,i}function Mf(e){return!e}function Ef(e){return!!e}function Pf(e){throw new Error(e)}function Of(e){return e&&zp.a&&(e=Object(zp.b)(Object(zp.a)({},e))),e}var Df=null,Nf=null,Rf=null,Af=null;function Lf(e,t){var n=!1;if(e){try{if(!(n=t in e)){var i=e[zp.k];i&&(n=t in i)}}catch(r){}if(!n)try{n=!tf((new e)[t])}catch(r){}}return n}function Ff(e){var t=Object(xp.a)();return t&&t[e]?t[e]:"window"===e&&$f()?window:null}function $f(){return Boolean(typeof window===zp.j&&window)}function Vf(){return $f()?window:Ff("window")}function Uf(){return Boolean(typeof document===zp.j&&document)}function jf(){return Uf()?document:Ff("document")}function zf(){return Boolean(typeof navigator===zp.j&&navigator)}function Gf(){return zf()?navigator:Ff("navigator")}function Bf(e){return typeof location===zp.j&&location?location:Ff("location")}function Hf(){return Ff("performance")}function qf(){return Boolean(typeof JSON===zp.j&&JSON||null!==Ff("JSON"))}function Kf(){return qf()?JSON||Ff("JSON"):null}function Wf(){var e=Gf();if(e&&(e.userAgent!==Nf||null===Df)){var t=((Nf=e.userAgent)||"").toLowerCase();Df=uf(t,"msie")||uf(t,"trident/")}return Df}function Qf(e){if(void 0===e&&(e=null),!e){var t=Gf()||{};e=t?(t.userAgent||"").toLowerCase():""}var n=(e||"").toLowerCase();if(uf(n,"msie")){var i=jf()||{};return Math.max(parseInt(n.split("msie")[1]),i.documentMode||0)}if(uf(n,"trident/")){var r=parseInt(n.split("trident/")[1]);if(r)return r+4}return null}function Zf(e){var t=Object[zp.k].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":qf()&&(n=Kf().stringify(e)),t+n}function Xf(){return null===Af&&(Af=zf()&&Boolean(Gf().sendBeacon)),Af}function Yf(e){var t=!1;try{t=!!Ff("fetch");var n=Ff("Request");t&&e&&n&&(t=Lf(n,"keepalive"))}catch(i){}return t}function Jf(){return null===Rf&&(Rf="undefined"!=typeof XDomainRequest)&&eg()&&(Rf=Rf&&!Lf(Ff("XMLHttpRequest"),"withCredentials")),Rf}function eg(){var e=!1;try{e=!!Ff("XMLHttpRequest")}catch(t){}return e}var tg,ng=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],ig=null;function rg(e,t){return function(){var n=arguments,i=lg(t);if(i){var r=i.listener;r&&r[e]&&r[e].apply(r,n)}}}function lg(e){var t,n=ig;return n||!0===e.disableDbgExt||(n=ig||((t=Ff("Microsoft"))&&(ig=t.ApplicationInsights),ig)),n?n.ChromeDbgExt:null}function sg(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function og(e,t){var n=typeof console!==zp.l?console:Ff("console");if(n){var i="log";n[e]&&(i=e),of(n[i])&&n[i](t)}}var ag=function(){function e(e,t,n,i){void 0===n&&(n=!1),this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e;var r="";qf()&&(r=Kf().stringify(i));var l=(t?" message:"+sg(t):"")+(i?" props:"+sg(r):"");this.message+=l}return e.dataType="MessageData",e}();function cg(e,t){return(e||{}).logger||new ug(t)}var ug=function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,i={};jp(e,this,(function(e){function r(e,n){var i=t[e];return nf(i)?n:i}function l(e,n){var i=lg(t);i&&i.diagLog&&i.diagLog(e,n)}nf(t)&&(t={}),e.consoleLoggingLevel=function(){return r("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return r("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return r("maxMessageLimit",25)},e.enableDebugExceptions=function(){return r("enableDebugExceptions",!1)},e.throwInternal=function(t,n,r,s,o){void 0===o&&(o=!1);var a=new ag(n,r,o,s);if(e.enableDebugExceptions())throw a;var c=t===Up.CRITICAL?"errorToConsole":"warnToConsole";if(tf(a.message))l("throw"+(t===Up.CRITICAL?"Critical":"Warning"),a);else{var u=e.consoleLoggingLevel();if(o){var h=+a.messageId;!i[h]&&u>=t&&(e[c](a.message),i[h]=!0)}else u>=t&&e[c](a.message);e.logInternalMessage(t,a)}},e.warnToConsole=function(e){og("warn",e),l("warning",e)},e.errorToConsole=function(e){og("error",e),l("error",e)},e.resetInternalMessageCount=function(){n=0,i={}},e.logInternalMessage=function(t,r){if(!(n>=e.maxInternalMessageLimit())){var s=!0,o="AITR_"+r.messageId;if(i[o]?s=!1:i[o]=!0,s&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(r),n++,l(t===Up.CRITICAL?"error":"warn",r)),n===e.maxInternalMessageLimit())){var a="Internal events throttle limit per PageView reached for this app.",c=new ag(23,a,!1);e.queue.push(c),t===Up.CRITICAL?e.errorToConsole(a):e.warnToConsole(a)}}}}))},hg=function(){function e(t,n,i){var r,l=this,s=!1;l.start=xf(),l.name=t,l.isAsync=i,l.isChildEvt=function(){return!1},of(n)&&(s=_f(l,"payload",(function(){return!r&&of(n)&&(r=n(),n=null),r}))),l.getCtx=function(t){return t?t===e.ParentContextKey||t===e.ChildrenContextKey?l[t]:(l.ctx||{})[t]:null},l.setCtx=function(t,n){t&&(t===e.ParentContextKey?(l[t]||(l.isChildEvt=function(){return!0}),l[t]=n):t===e.ChildrenContextKey?l[t]=n:(l.ctx=l.ctx||{})[t]=n)},l.complete=function(){var t=0,i=l.getCtx(e.ChildrenContextKey);if(hf(i))for(var r=0;r<i.length;r++){var o=i[r];o&&(t+=o.time)}l.time=xf()-l.start,l.exTime=l.time-t,l.complete=function(){},!s&&of(n)&&(l.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),dg=function e(t){this.ctx={},jp(e,this,(function(e){e.create=function(e,t,n){return new hg(e,t,n)},e.fire=function(e){e&&(e.complete(),t&&of(t.perfEvent)&&t.perfEvent(e))},e.setCtx=function(t,n){t&&((e.ctx=e.ctx||{})[t]=n)},e.getCtx=function(t){return(e.ctx||{})[t]}}))};function pg(e,t,n,i,r){if(e){var l=e;if(of(l.getPerfMgr)&&(l=l.getPerfMgr()),l){var s=void 0,o=l.getCtx("CoreUtils.doPerf");try{if(s=l.create(t(),i,r)){if(o&&s.setCtx&&(s.setCtx(hg.ParentContextKey,o),o.getCtx&&o.setCtx)){var a=o.getCtx(hg.ChildrenContextKey);a||o.setCtx(hg.ChildrenContextKey,a=[]),a.push(s)}return l.setCtx("CoreUtils.doPerf",s),n(s)}}catch(c){s&&s.setCtx&&s.setCtx("exception",c)}finally{s&&l.fire(s),l.setCtx("CoreUtils.doPerf",o)}}}return n()}var fg=function(e,t){var n=this,i=null,r=of(e.processTelemetry),l=of(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return i},n.setNext=function(e){i=e},n.processTelemetry=function(s,o){o||(o=t);var a=e?e.identifier:"TelemetryPluginChain";pg(o?o.core():null,(function(){return a+":processTelemetry"}),(function(){if(e&&r){n._hasRun=!0;try{o.setNext(i),l&&e.setNextPlugin(i),i&&(i._hasRun=!1),e.processTelemetry(s,o)}catch(a){var t=i&&i._hasRun;i&&t||o.diagLog().throwInternal(Up.CRITICAL,73,"Plugin ["+e.identifier+"] failed during processTelemetry - "+Zf(a)),i&&!t&&i.processTelemetry(s,o)}}else i&&(n._hasRun=!0,i.processTelemetry(s,o))}),(function(){return{item:s}}),!s.sync)}};function gg(e,t){var n=[];if(e&&e.length>0)for(var i=null,r=0;r<e.length;r++){var l=e[r];if(l&&of(l.processTelemetry)){var s=new fg(l,t);n.push(s),i&&i.setNext(s),i=s}}return n.length>0?n[0]:null}var mg=function e(t,n,i,r){var l=this,s=null;null!==r&&(t&&of(t.getPlugin)?s=function(e,t,n){var i=[],r=!n;if(e)for(;e;){var l=e.getPlugin();(r||l===n)&&(r=!0,i.push(l)),e=e.getNext()}return r||i.push(n),gg(i,t)}(t,l,r||t.getPlugin()):r?s=function(e,t,n){var i=e,r=!1;return n&&e&&(i=[],mf(e,(function(e){(r||e===n)&&(r=!0,i.push(e))}))),n&&!r&&(i||(i=[]),i.push(n)),gg(i,t)}(t,l,r):tf(r)&&(s=gg(t,l))),l.core=function(){return i},l.diagLog=function(){return cg(i,n)},l.getCfg=function(){return n},l.getExtCfg=function(e,t){var i;if(void 0===t&&(t={}),n){var r=n.extensionConfig;r&&e&&(i=r[e])}return i||t},l.getConfig=function(e,t,i){var r;void 0===i&&(i=!1);var s=l.getExtCfg(e,null);return s&&!nf(s[t])?r=s[t]:n&&!nf(n[t])&&(r=n[t]),nf(r)?i:r},l.hasNext=function(){return null!=s},l.getNext=function(){return s},l.setNext=function(e){s=e},l.processNext=function(e){var t=s;t&&(s=t.getNext(),t.processTelemetry(e,l))},l.createNew=function(t,r){return void 0===t&&(t=null),new e(t||s,n,i,r)}},yg=function(){function e(){var e=this,t=!1,n=null,i=null;e.core=null,e.diagLog=function(t){return e._getTelCtx(t).diagLog()},e.isInitialized=function(){return t},e.setInitialized=function(e){t=e},e.setNextPlugin=function(e){i=e},e.processNext=function(e,t){t?t.processNext(e):i&&of(i.processTelemetry)&&i.processTelemetry(e,null)},e._getTelCtx=function(t){void 0===t&&(t=null);var r=t;return r||(r=(n||new mg(null,{},e.core)).createNew(null,i&&i.getPlugin?i.getPlugin:i)),r},e._baseTelInit=function(r,l,s,o){r&&kf(r,"extensionConfig",[],null,nf),!o&&l&&(o=l.getProcessTelContext().getNext());var a=i;i&&i.getPlugin&&(a=i.getPlugin()),e.core=l,n=new mg(o,r,l,a),t=!0}}return e.prototype.initialize=function(e,t,n,i){this._baseTelInit(e,t,n,i)},e}();function bg(e,t){for(var n=[],i=null,r=e.getNext();r;){var l=r.getPlugin();l&&(i&&of(i.setNextPlugin)&&of(l.processTelemetry)&&i.setNextPlugin(l),of(l.isInitialized)&&l.isInitialized()||n.push(l),i=l,r=r.getNext())}mf(n,(function(n){n.initialize(e.getCfg(),e.core(),t,e.getNext())}))}function vg(e){return e.sort((function(e,t){var n=0,i=of(t.processTelemetry);return of(e.processTelemetry)?n=i?e.priority-t.priority:1:i&&(n=-1),n}))}var wg=function(e){function t(){var n,i=e.call(this)||this;function r(e){e&&e.length>0&&(function(e){mf(e,(function(e){e.priority<500&&Pf("Channel has invalid priority"+e.identifier)}))}(e=e.sort((function(e,t){return e.priority-t.priority}))),n.push(e))}return i.identifier="ChannelControllerPlugin",i.priority=500,jp(t,i,(function(e,t){e.setNextPlugin=function(e){},e.processTelemetry=function(e,t){n&&mf(n,(function(n){n.length>0&&i._getTelCtx(t).createNew(n).processNext(e)}))},e.getChannelControls=function(){return n},e.initialize=function(i,l,s){e.isInitialized()||(t.initialize(i,l,s),function(e,t){if(n=[],e&&mf(e,(function(e){return r(e)})),t){var i=[];mf(t,(function(e){e.priority>500&&i.push(e)})),r(i)}}((i||{}).channels,s),mf(n,(function(e){return bg(new mg(e,i,l),s)})))}})),i}var n;return Object(_p.b)(t,e),t._staticInit=(_f(n=t.prototype,"ChannelControls",n.getChannelControls),void _f(n,"channelQueue",n.getChannelControls)),t}(yg),Cg=null,Sg=null,_g=null,xg=jf(),Ig={},kg={};function Tg(e){return!e||e.isEnabled()}function Mg(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var i=t.cookieCfg;n=i._ckMgr?i._ckMgr:Eg(t)}return n||(n=function(e,t){var n=Eg._ckMgr||kg._ckMgr;return n||(n=Eg._ckMgr=Eg(e,t),kg._ckMgr=n),n}(t,(e||{}).logger)),n}function Eg(e,t){var n=function(e){var t=e.cookieCfg=e.cookieCfg||{};if(kf(t,"domain",e.cookieDomain,rf,nf),kf(t,"path",e.cookiePath||"/",null,nf),nf(t.enabled)){var n=void 0;tf(e.isCookieUseDisabled)||(n=!e.isCookieUseDisabled),tf(e.disableCookiesUsage)||(n=!e.disableCookiesUsage),t.enabled=n}return t}(e||kg),i=n.path||"/",r=n.domain,l=!1!==n.enabled,s={isEnabled:function(){var e=l&&Pg(t),n=kg._ckMgr;return e&&n&&s!==n&&(e=Tg(n)),e},setEnabled:function(e){l=!1!==e},set:function(e,t,l,o,a){var c=!1;if(Tg(s)){var u={},h=vf(t||""),d=h.indexOf(";");if(-1!==d&&(h=vf(t.substring(0,d)),u=Og(t.substring(d+1))),kf(u,"domain",o||r,Ef,tf),!nf(l)){var p=Wf();if(tf(u.expires)){var f=xf()+1e3*l;if(f>0){var g=new Date;g.setTime(f),kf(u,"expires",Dg(g,p?"toGMTString":"toUTCString")||Dg(g,p?"toGMTString":"toUTCString")||"",Ef)}}p||kf(u,"max-age",""+l,null,tf)}var m=Bf();m&&"https:"===m.protocol&&(kf(u,"secure",null,null,tf),null===Sg&&(Sg=!function(e){return!(!pf(e)||!uf(e,"CPU iPhone OS 12")&&!uf(e,"iPad; CPU OS 12")&&!(uf(e,"Macintosh; Intel Mac OS X 10_14")&&uf(e,"Version/")&&uf(e,"Safari"))&&(!uf(e,"Macintosh; Intel Mac OS X 10_14")||(t=e,n="AppleWebKit/605.1.15 (KHTML, like Gecko)",i=!1,t&&!(i=t===n)&&(i=Kp?t.endsWith(n):function(e,t){var n=!1,i=t.length,r=e?e.length:0;if(i&&r&&r>=i&&!(n=e===t)){for(var l=r-1,s=i-1;s>=0;s--){if(e[l]!=t[s])return!1;l--}n=!0}return n}(t,n)),!i))&&!uf(e,"Chrome/5")&&!uf(e,"Chrome/6")&&(!uf(e,"UnrealEngine")||uf(e,"Chrome"))&&!uf(e,"UCBrowser/12")&&!uf(e,"UCBrowser/11"));var t,n,i}((Gf()||{}).userAgent)),Sg&&kf(u,"SameSite","None",null,tf)),kf(u,"path",a||i,null,tf),(n.setCookie||Ag)(e,Ng(h,u)),c=!0}return c},get:function(e){var t="";return Tg(s)&&(t=(n.getCookie||Rg)(e)),t},del:function(e,t){var n=!1;return Tg(s)&&(n=s.purge(e,t)),n},purge:function(e,i){var r,l=!1;if(Pg(t)){var s=((r={}).path=i||"/",r.expires="Thu, 01 Jan 1970 00:00:01 GMT",r);Wf()||(s["max-age"]="0"),(n.delCookie||Ag)(e,Ng("",s)),l=!0}return l}};return s._ckMgr=s,s}function Pg(e){if(null===Cg){Cg=!1;try{Cg=void 0!==(xg||{}).cookie}catch(t){e&&e.throwInternal(Up.WARNING,68,"Cannot access document.cookie - "+If(t),{exception:Zf(t)})}}return Cg}function Og(e){var t={};return e&&e.length&&mf(vf(e).split(";"),(function(e){if(e=vf(e||"")){var n=e.indexOf("=");-1===n?t[e]=null:t[vf(e.substring(0,n))]=vf(e.substring(n+1))}})),t}function Dg(e,t){return of(e[t])?e[t]():null}function Ng(e,t){var n=e||"";return cf(t,(function(e,t){n+="; "+e+(nf(t)?"":"="+t)})),n}function Rg(e){var t="";if(xg){var n=xg.cookie||"";_g!==n&&(Ig=Og(n),_g=n),t=vf(Ig[e]||"")}return t}function Ag(e,t){xg&&(xg.cookie=e+"="+t)}function Lg(e,t){return new dg(t)}var Fg=function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;jp(e,this,(function(e){e.addNotificationListener=function(t){e.listeners.push(t)},e.removeNotificationListener=function(t){for(var n=yf(e.listeners,t);n>-1;)e.listeners.splice(n,1),n=yf(e.listeners,t)},e.eventsSent=function(t){mf(e.listeners,(function(e){e&&e.eventsSent&&setTimeout((function(){return e.eventsSent(t)}),0)}))},e.eventsDiscarded=function(t,n){mf(e.listeners,(function(e){e&&e.eventsDiscarded&&setTimeout((function(){return e.eventsDiscarded(t,n)}),0)}))},e.eventsSendRequest=function(t,n){mf(e.listeners,(function(e){if(e&&e.eventsSendRequest)if(n)setTimeout((function(){return e.eventsSendRequest(t,n)}),0);else try{e.eventsSendRequest(t,n)}catch(i){}}))},e.perfEvent=function(t){t&&(!n&&t.isChildEvt()||mf(e.listeners,(function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout((function(){return e.perfEvent(t)}),0);else try{e.perfEvent(t)}catch(n){}})))}}))},$g=function(e){function t(){var n=e.call(this)||this,i=0;return jp(t,n,(function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],2)}e.initialize=function(e,n,i,r){t.initialize(e,n,i||new ug(e),r||new Fg(e))},e.track=function(i){pg(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){null===i&&(n(i),Pf("Invalid telemetry item")),function(e){if(nf(e.name))throw n(e),Error("telemetry name required")}(i),t.track(i)}),(function(){return{item:i}}),!i.sync)},e.addNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.addNotificationListener(t)},e.removeNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.removeNotificationListener(t)},e.pollInternalLogs=function(t){var n=e.config.diagnosticLogInterval;return n&&n>0||(n=1e4),i&&e.stopPollingInternalLogs(),i=setInterval((function(){var n=e.logger?e.logger.queue:[];mf(n,(function(n){var i={name:t||"InternalMessageId: "+n.messageId,iKey:e.config.instrumentationKey,time:gf(new Date),baseType:ag.dataType,baseData:{message:n.message}};e.track(i)})),n.length=0}),n)},e.stopPollingInternalLogs=function(){i&&(clearInterval(i),i=0)}})),n}return Object(_p.b)(t,e),t}((function e(){var t,n,i,r,l,s=!1;jp(e,this,(function(e){e._extensions=new Array,n=new wg,e.logger=new ug({loggingLevelConsole:Up.CRITICAL}),t=[],e.isInitialized=function(){return s},e.initialize=function(t,r,l,o){e.isInitialized()&&Pf("Core should not be initialized more than once"),t&&!nf(t.instrumentationKey)||Pf("Please provide instrumentation key"),i=o,e._notificationManager=o,e.config=t||{},o&&!0!==e.config.disableDbgExt&&o.addNotificationListener(function(e){if(!tg){tg={};for(var t=0;t<ng.length;t++)tg[ng[t]]=rg(ng[t],e)}return tg}(t)),e.config.enablePerfMgr&&kf(e.config,"createPerfMgr",Lg),t.extensions=nf(t.extensions)?[]:t.extensions,Tf(t,"extensionConfig").NotificationManager=o,l&&(e.logger=l);var a=[];a.push.apply(a,Object(_p.c)(Object(_p.c)([],r,!1),t.extensions,!1)),a=vg(a);var c=[],u=[],h={};mf(a,(function(e){(nf(e)||nf(e.initialize))&&Pf("Extensions must provide callback to initialize");var t=e.priority,i=e.identifier;e&&t&&(nf(h[t])?h[t]=i:l.warnToConsole("Two extensions have same priority #"+t+" - "+h[t]+", "+i)),!t||t<n.priority?c.push(e):u.push(e)})),a.push(n),c.push(n),a=vg(a),e._extensions=a,bg(new mg([n],t,e),a),bg(new mg(c,t,e),a),e._extensions=c,0===e.getTransmissionControls().length&&Pf("No channels available"),s=!0,e.releaseQueue()},e.getTransmissionControls=function(){return n.getChannelControls()},e.track=function(n){kf(n,"iKey",e.config.instrumentationKey,null,Mf),kf(n,"time",gf(new Date),null,Mf),kf(n,"ver","4.0",null,nf),e.isInitialized()?e.getProcessTelContext().processNext(n):t.push(n)},e.getProcessTelContext=function(){var t=e._extensions,i=t;return t&&0!==t.length||(i=[n]),new mg(i,e.config,e)},e.getNotifyMgr=function(){return i||(i=Object(xp.b)({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),e._notificationManager=i),i},e.getCookieMgr=function(){return l||(l=Eg(e.config,e.logger)),l},e.setCookieMgr=function(e){l=e},e.getPerfMgr=function(){return r||e.config&&e.config.enablePerfMgr&&of(e.config.createPerfMgr)&&(r=e.config.createPerfMgr(e,e.getNotifyMgr())),r||null},e.setPerfMgr=function(e){r=e},e.eventCnt=function(){return t.length},e.releaseQueue=function(){t.length>0&&(mf(t,(function(t){e.getProcessTelContext().processNext(t)})),t=[])}}))})),Vg=!1,Ug=123456789,jg=987654321;function zg(e){var t,n=Ff("crypto")||Ff("msCrypto");return n&&n.getRandomValues?t=4294967295&n.getRandomValues(new Uint32Array(1))[0]:Wf()?(Vg||function(){try{var e=2147483647&xf();(t=(4294967296*Math.random()^e)+e)<0&&(t>>>=0),Ug=123456789+t&4294967295,jg=987654321-t&4294967295,Vg=!0}catch(n){}var t}(),t=4294967295&function(e){var t=((jg=36969*(65535&jg)+(jg>>16)&4294967295)<<16)+(65535&(Ug=18e3*(65535&Ug)+(Ug>>16)&4294967295))>>>0&4294967295|0;return t>>>=0}()):t=Math.floor(4294967296*Math.random()|0),e||(t>>>=0),t}function Gg(e,t){var n=!1,i=Vf();i&&(n=af(i,e,t),n=af(i.body,e,t)||n);var r=jf();return r&&(n=af(r,e,t)||n),n}function Bg(e,t){var n=!1;return t&&-1!==yf(t,"pagehide")||(n=Gg("pagehide",e)),t&&-1!==yf(t,"visibilitychange")||(n=Gg("visibilitychange",(function(t){var n=jf();e&&n&&"hidden"===n.visibilityState&&e(t)}))||n),!n&&t&&(n=Bg(e)),n}function Hg(e){void 0===e&&(e=22);for(var t=zg()>>>0,n=0,i="";i.length<e;)n++,i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(zg()<<2&4294967295|3&t)>>>0,n=0);return i}function qg(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",i=0;i<4;i++)n+=t[15&(e=zg())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var r=t[8+(3&zg())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+r+n.substr(16,3)+n.substr(19,12)}function Kg(e,t,n){var i,r=t.length,l=function(e,t){var n;return t&&(t=vf(t.toString())).length>150&&(n=t.substring(0,150),e&&e.throwInternal(Up.WARNING,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),n||t}(e,t);if(l.length!==r){for(var s=0,o=l;void 0!==n[o];)s++,o=l.substring(0,147)+(i=void 0,(i="00"+s).substr(i.length-3));l=o}return l}function Wg(e,t,n){var i;return void 0===n&&(n=1024),t&&(n=n||1024,(t=vf(t)).toString().length>n&&(i=t.toString().substring(0,n),e&&e.throwInternal(Up.WARNING,61,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),i||t}function Qg(e,t){return Jg(e,t,2048,66)}function Zg(e,t){var n;return t&&t.length>32768&&(n=t.substring(0,32768),e&&e.throwInternal(Up.WARNING,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function Xg(e,t){if(t){var n={};cf(t,(function(t,i){if(sf(i)&&qf())try{i=Kf().stringify(i)}catch(r){e&&e.throwInternal(Up.WARNING,49,"custom property is not valid",{exception:r},!0)}i=Wg(e,i,8192),t=Kg(e,t,n),n[t]=i})),t=n}return t}function Yg(e,t){if(t){var n={};cf(t,(function(t,i){t=Kg(e,t,n),n[t]=i})),t=n}return t}function Jg(e,t,n,i){var r;return t&&(t=vf(t)).length>n&&(r=t.substring(0,n),e&&e.throwInternal(Up.WARNING,i,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),r||t}var em,tm="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",nm=function(){function e(){}return e.create=function(e,t,n,i,r,l){if(n=Wg(i,n)||"not_specified",nf(e)||nf(t)||nf(n))throw Error("Input doesn't contain all required fields");var s="";e.iKey&&(s=e.iKey,delete e.iKey);var o={name:n,time:gf(new Date),iKey:s,ext:l||{},tags:[],data:{},baseType:t,baseData:e};return nf(r)||cf(r,(function(e,t){o.data[e]=t})),o},e}(),im=function(){this.ver=2,this.properties={},this.measurements={}},rm=function(e){function t(t,n,i,r){var l=e.call(this)||this;return l.aiDataContract={ver:1,name:1,properties:0,measurements:0},l.name=Wg(t,n)||"not_specified",l.properties=Xg(t,i),l.measurements=Yg(t,r),l}return Object(_p.b)(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(im),lm=function(e){function t(t,n,i,r,l){var s=e.call(this)||this;return s.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},s.message=Zg(t,n=n||"not_specified"),s.properties=Xg(t,r),s.measurements=Yg(t,l),i&&(s.severityLevel=i),s}return Object(_p.b)(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}((function(){this.ver=2,this.properties={},this.measurements={}}));!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(em||(em={}));var sm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},t}return Object(_p.b)(t,e),t}((function(){this.kind=em.Measurement})),om=function(e){function t(t,n,i,r,l,s,o,a,c){var u=e.call(this)||this;u.aiDataContract={ver:1,metrics:1,properties:0};var h=new sm;return h.count=r>0?r:void 0,h.max=isNaN(s)||null===s?void 0:s,h.min=isNaN(l)||null===l?void 0:l,h.name=Wg(t,n)||"not_specified",h.value=i,h.stdDev=isNaN(o)||null===o?void 0:o,u.metrics=[h],u.properties=Xg(t,a),u.measurements=Yg(t,c),u}return Object(_p.b)(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}((function(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}})),am=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return Object(_p.b)(t,e),t}(im);function cm(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString().toLowerCase()}function um(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,i=""+Math.floor(e/6e4)%60,r=""+Math.floor(e/36e5)%24,l=Math.floor(e/864e5);return(l>0?l+".":"")+(r=r.length<2?"0"+r:r)+":"+(i=i.length<2?"0"+i:i)+":"+(n=n.length<2?"0"+n:n)+"."+(1===t.length?"00"+t:2===t.length?"0"+t:t)}var hm=function(e){function t(t,n,i,r,l,s,o){var a=e.call(this)||this;return a.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},a.id=function(e,t){return t?Jg(e,t,128,69).toString():t}(t,o),a.url=Qg(t,i),a.name=Wg(t,n)||"not_specified",isNaN(r)||(a.duration=um(r)),a.properties=Xg(t,l),a.measurements=Yg(t,s),a}return Object(_p.b)(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(am),dm=function(e){function t(t,n,i,r,l,s,o){var a=e.call(this)||this;return a.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},a.url=Qg(t,i),a.name=Wg(t,n)||"not_specified",a.properties=Xg(t,l),a.measurements=Yg(t,s),o&&(a.domProcessing=o.domProcessing,a.duration=o.duration,a.networkConnect=o.networkConnect,a.perfTotal=o.perfTotal,a.receivedResponse=o.receivedResponse,a.sentRequest=o.sentRequest),a}return Object(_p.b)(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return Object(_p.b)(t,e),t}(am));function pm(e,t){var n=e;return n&&!pf(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),!t||n&&"{}"!==n||(n=of(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function fm(e,t){var n=e;return e&&(n&&!pf(n)&&(n=e.message||e.description||n),n&&!pf(n)&&(n=pm(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(n||"").indexOf(t)&&(n=t+": "+n),n||""}function gm(e){return e&&e.src&&pf(e.src)&&e.obj&&hf(e.obj)}function mm(e){var t=e||"";pf(t)||(t=pf(t.stack)?t.stack:""+t);var n=t.split("\n");return{src:t,obj:n}}function ym(e){var t=null;if(e)try{if(e.stack)t=mm(e.stack);else if(e.error&&e.error.stack)t=mm(e.error.stack);else if(e.exception&&e.exception.stack)t=mm(e.exception.stack);else if(gm(e))t=e;else if(gm(e.stackDetails))t=e.stackDetails;else if(window&&window.opera&&e.message)t=function(e){for(var t=[],n=e.split("\n"),i=0;i<n.length;i++){var r=n[i];n[i+1]&&(r+="@"+n[i+1],i++),t.push(r)}return{src:e,obj:t}}(e.message);else if(pf(e))t=mm(e);else{var n=e.message||e.description||"";pf(e.errorSrc)&&(n&&(n+="\n"),n+=" from "+e.errorSrc),n&&(t=mm(n))}}catch(i){t=mm(i)}return t||{src:"",obj:null}}function bm(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString());t=n&&n.length>1?n[1]:""}catch(i){}return t}function vm(e){if(e)try{if(!pf(e)){var t=bm(e),n=pm(e,!1);return n&&"{}"!==n||(e.error&&(t=bm(e=e.error)),n=pm(e,!0)),0!==n.indexOf(t)&&"String"!==t?t+":"+n:n}}catch(i){}return""+(e||"")}var wm,Cm,Sm,_m=function(e){function t(t,n,i,r,l,s){var o=e.call(this)||this;return o.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},function(e){try{if(sf(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(t){}return!1}(n)?(o.exceptions=n.exceptions,o.properties=n.properties,o.measurements=n.measurements,n.severityLevel&&(o.severityLevel=n.severityLevel),n.id&&(o.id=n.id),n.problemGroup&&(o.problemGroup=n.problemGroup),o.ver=2,nf(n.isManual)||(o.isManual=n.isManual)):(i||(i={}),o.exceptions=[new xm(t,n,i)],o.properties=Xg(t,i),o.measurements=Yg(t,r),l&&(o.severityLevel=l),s&&(o.id=s)),o}return Object(_p.b)(t,e),t.CreateAutoException=function(e,t,n,i,r,l,s,o){var a=bm(r||l||e);return{message:fm(e,a),url:t,lineNumber:n,columnNumber:i,error:vm(r||l||e),evt:vm(l||e),typeName:a,stackDetails:ym(s||r||l),errorSrc:o}},t.CreateFromInterface=function(e,n,i,r){var l=n.exceptions&&bf(n.exceptions,(function(t){return xm.CreateFromInterface(e,t)}));return new t(e,Object(_p.a)(Object(_p.a)({},n),{exceptions:l}),i,r)},t.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,i=e.measurements,r=e.severityLevel,l=e.problemGroup,s=e.id,o=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&bf(t,(function(e){return e.toInterface()}))||void 0,severityLevel:r,properties:n,measurements:i,problemGroup:l,id:s,isManual:o}},t.CreateSimpleException=function(e,t,n,i,r,l){return{exceptions:[{hasFullStack:!0,message:e,stack:r,typeName:t}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=vm,t}((function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}})),xm=function(e){function t(t,n,i){var r=e.call(this)||this;if(r.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},function(e){try{if(sf(e))return"hasFullStack"in e&&"typeName"in e}catch(t){}return!1}(n))r.typeName=n.typeName,r.message=n.message,r.stack=n.stack,r.parsedStack=n.parsedStack,r.hasFullStack=n.hasFullStack;else{var l=n,s=l&&l.evt;df(l)||(l=l.error||s||l),r.typeName=Wg(t,bm(l))||"not_specified",r.message=Zg(t,fm(n||l,r.typeName))||"not_specified";var o=n.stackDetails||ym(n);r.parsedStack=function(e){var t,n=e.obj;if(n&&n.length>0){t=[];var i=0,r=0;if(mf(n,(function(e){var n=e.toString();if(Im.regex.test(n)){var l=new Im(n,i++);r+=l.sizeInBytes,t.push(l)}})),r>32768)for(var l=0,s=t.length-1,o=0,a=l,c=s;l<s;){if((o+=t[l].sizeInBytes+t[s].sizeInBytes)>32768){t.splice(a,c-a+1);break}a=l,c=s,l++,s--}}return t}(o),r.stack=function(e,t){var n;if(t){var i=""+t;i.length>32768&&(n=i.substring(0,32768),e&&e.throwInternal(Up.WARNING,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return n||t}(t,function(e){var t="";return e&&(e.obj?mf(e.obj,(function(e){t+=e+"\n"})):t=e.src||""),t}(o)),r.hasFullStack=hf(r.parsedStack)&&r.parsedStack.length>0,i&&(i.typeName=i.typeName||r.typeName)}return r}return Object(_p.b)(t,e),t.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&bf(this.parsedStack,(function(e){return e.toInterface()}));return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this.stack,parsedStack:e||void 0}},t.CreateFromInterface=function(e,n){var i=n.parsedStack instanceof Array&&bf(n.parsedStack,(function(e){return Im.CreateFromInterface(e)}))||n.parsedStack;return new t(e,Object(_p.a)(Object(_p.a)({},n),{parsedStack:i}))},t}((function(){this.hasFullStack=!0,this.parsedStack=[]})),Im=function(e){function t(n,i){var r=e.call(this)||this;if(r.sizeInBytes=0,r.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},"string"==typeof n){var l=n;r.level=i,r.method="<no_method>",r.assembly=vf(l),r.fileName="",r.line=0;var s=l.match(t.regex);s&&s.length>=5&&(r.method=vf(s[2])||r.method,r.fileName=vf(s[4]),r.line=parseInt(s[5])||0)}else r.level=n.level,r.method=n.method,r.assembly=n.assembly,r.fileName=n.fileName,r.line=n.line,r.sizeInBytes=0;return r.sizeInBytes+=r.method.length,r.sizeInBytes+=r.fileName.length,r.sizeInBytes+=r.assembly.length,r.sizeInBytes+=t.baseSize,r.sizeInBytes+=r.level.toString().length,r.sizeInBytes+=r.line.toString().length,r}return Object(_p.b)(t,e),t.CreateFromInterface=function(e){return new t(e,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}((function(){}));!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(wm||(wm={})),function(e){e[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage"}(Cm||(Cm={})),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C",e[e.W3C=2]="W3C"}(Sm||(Sm={}));var km=void 0,Tm=void 0;function Mm(){return Om()?Em(Cm.LocalStorage):null}function Em(e){try{if(nf(Object(xp.a)()))return null;var t=new Date,n=Ff(e===Cm.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var i=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!i)return n}catch(r){}return null}function Pm(){return Dm()?Em(Cm.SessionStorage):null}function Om(){return void 0===km&&(km=!!Em(Cm.LocalStorage)),km}function Dm(){return void 0===Tm&&(Tm=!!Em(Cm.SessionStorage)),Tm}function Nm(e,t){var n=Pm();if(null!==n)try{return n.getItem(t)}catch(i){Tm=!1,e.throwInternal(Up.WARNING,2,"Browser failed read of session storage. "+If(i),{exception:Zf(i)})}return null}function Rm(e,t,n){var i=Pm();if(null!==i)try{return i.setItem(t,n),!0}catch(r){Tm=!1,e.throwInternal(Up.WARNING,4,"Browser failed write to session storage. "+If(r),{exception:Zf(r)})}return!1}function Am(e){var t=null;if(of(Event))t=new Event(e);else{var n=jf();n&&n.createEvent&&(t=n.createEvent("Event")).initEvent(e,!0,!0)}return t}var Lm=jf()||{},Fm=0,$m=[null,null,null,null,null];function Vm(e){var t=Fm,n=$m,i=n[t];return Lm.createElement?n[t]||(i=n[t]=Lm.createElement("a")):i={host:Um(e,!0)},i.href=e,++t>=n.length&&(t=0),Fm=t,i}function Um(e,t){var n=jm(e,t)||"";if(n){var i=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=i&&i.length>3&&pf(i[2])&&i[2].length>0)return i[2]+(i[3]||"")}return n}function jm(e,t){var n=null;if(e){var i=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(null!=i&&i.length>2&&pf(i[2])&&i[2].length>0&&(n=i[2]||"",t&&i.length>2)){var r=(i[1]||"").toLowerCase(),l=i[3]||"";("http"===r&&":80"===l||"https"===r&&":443"===l)&&(l=""),n+=l}}return n}var zm=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"];function Gm(e){return-1!==zm.indexOf(e.toLowerCase())}var Bm={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns)for(var i=0;i<e.correlationHeaderExcludePatterns.length;i++)if(e.correlationHeaderExcludePatterns[i].test(t))return!1;var r=Vm(t).host.toLowerCase();if(!r||-1===r.indexOf(":443")&&-1===r.indexOf(":80")||(r=(jm(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&r&&r!==n)return!1;var l,s=e&&e.correlationHeaderDomains;if(s&&(mf(s,(function(e){var t=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));l=l||t.test(r)})),!l))return!1;var o=e&&e.correlationHeaderExcludedDomains;if(!o||0===o.length)return!0;for(i=0;i<o.length;i++)if(new RegExp(o[i].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(r))return!1;return r&&r.length>0},getCorrelationContext:function(e){if(e){var t=Bm.getCorrelationContextValue(e,"appId");if(t&&t!==Bm.correlationIdPrefix)return t}},getCorrelationContextValue:function(e,t){if(e)for(var n=e.split(","),i=0;i<n.length;++i){var r=n[i].split("=");if(2===r.length&&r[0]===t)return r[1]}}};function Hm(){var e=Hf();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return xf()}function qm(e,t){var n=null;return 0===e||0===t||nf(e)||nf(t)||(n=t-e),n}var Km=function(e){function t(t,n,i,r,l,s,o,a,c,u,h,d){void 0===c&&(c="Ajax");var p=e.call(this)||this;p.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},p.id=n,p.duration=um(l),p.success=s,p.resultCode=o+"",p.type=Wg(t,c);var f=function(e,t,n,i){var r,l=i,s=i;if(t&&t.length>0){var o=Vm(t);if(r=o.host,!l)if(null!=o.pathname){var a=0===o.pathname.length?"/":o.pathname;"/"!==a.charAt(0)&&(a="/"+a),s=o.pathname,l=Wg(e,n?n+" "+a:a)}else l=Wg(e,t)}else r=i,l=i;return{target:r,name:l,data:s}}(t,i,a,r);return p.data=Qg(t,r)||f.data,p.target=Wg(t,f.target),u&&(p.target="".concat(p.target," | ").concat(u)),p.name=Wg(t,f.name),p.properties=Xg(t,h),p.measurements=Yg(t,d),p}return Object(_p.b)(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}((function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}})),Wm=function e(t,n,i,r){jp(e,this,(function(e){var l,s=null,o=[],a=!1;function c(){i&&mf(i.getTransmissionControls(),(function(e){mf(e,(function(e){return e.flush(!0)}))}))}i&&(l=i.logger),e.trackPageView=function(e,i){var u=e.name;if(nf(u)||"string"!=typeof u){var h=jf();u=e.name=h&&h.title||""}var d=e.uri;if(nf(d)||"string"!=typeof d){var p=Bf();d=e.uri=p&&p.href||""}if(!r.isPerformanceTimingSupported())return t.sendPageViewInternal(e,i),c(),void l.throwInternal(Up.WARNING,25,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var f,g,m=!1,y=r.getPerformanceTiming().navigationStart;y>0&&(f=qm(y,+new Date),r.shouldCollectDuration(f)||(f=void 0)),nf(i)||nf(i.duration)||(g=i.duration),!n&&isNaN(g)||(isNaN(g)&&(i||(i={}),i.duration=f),t.sendPageViewInternal(e,i),c(),m=!0),i||(i={}),o.push((function(){var n=!1;try{if(r.isPerformanceTimingDataReady()){n=!0;var s={name:u,uri:d};r.populatePageViewPerformanceEvent(s),s.isValid||m?(m||(i.duration=s.durationMs,t.sendPageViewInternal(e,i)),a||(t.sendPageViewPerformanceInternal(s,i),a=!0)):(i.duration=f,t.sendPageViewInternal(e,i))}else y>0&&qm(y,+new Date)>6e4&&(n=!0,m||(i.duration=6e4,t.sendPageViewInternal(e,i)))}catch(o){l.throwInternal(Up.CRITICAL,38,"trackPageView failed on page load calculation: "+If(o),{exception:Zf(o)})}return n})),s||(s=setInterval((function(){var e=o.slice(0),t=!1;o=[],mf(e,(function(e){e()?t=!0:o.push(e)})),0===o.length&&(clearInterval(s),s=null),t&&c()}),100))}}))},Qm=function(){function e(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}return e.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+Zf(i))}},e.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(i){return this._logger.warnToConsole("Call to restart failed: "+Zf(i)),null}},e.prototype.startPageVisitTimer=function(e,t){try{if(Dm()){null!=Nm(this._logger,this.prevPageVisitDataKeyName)&&Pf("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new Zm(e,t),i=Kf().stringify(n);Rm(this._logger,this.prevPageVisitDataKeyName,i)}}catch(r){this._logger.warnToConsole("Call to start failed: "+Zf(r))}},e.prototype.stopPageVisitTimer=function(){try{if(Dm()){var e=xf(),t=Nm(this._logger,this.prevPageVisitDataKeyName);if(t&&qf()){var n=Kf().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,function(e,t){var n=Pm();if(null!==n)try{n.removeItem(t)}catch(i){Tm=!1,e.throwInternal(Up.WARNING,6,"Browser failed removal of session storage item. "+If(i),{exception:Zf(i)})}}(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(i){return this._logger.warnToConsole("Stop page visit timer failed: "+Zf(i)),null}},e}(),Zm=function(e,t){this.pageVisitStartTime=xf(),this.pageName=e,this.pageUrl=t},Xm=function(){function e(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return e.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),i=0,r=0,l=0,s=0,o=0;(t||n)&&(t?(i=t.duration,r=0===t.startTime?t.connectEnd:qm(t.startTime,t.connectEnd),l=qm(t.requestStart,t.responseStart),s=qm(t.responseStart,t.responseEnd),o=qm(t.responseEnd,t.loadEventEnd)):(i=qm(n.navigationStart,n.loadEventEnd),r=qm(n.navigationStart,n.connectEnd),l=qm(n.requestStart,n.responseStart),s=qm(n.responseStart,n.responseEnd),o=qm(n.responseEnd,n.loadEventEnd)),0===i?this._logger.throwInternal(Up.WARNING,10,"error calculating page view performance.",{total:i,network:r,request:l,response:s,dom:o}):this.shouldCollectDuration(i,r,l,s,o)?i<Math.floor(r)+Math.floor(l)+Math.floor(s)+Math.floor(o)?this._logger.throwInternal(Up.WARNING,8,"client performance math error.",{total:i,network:r,request:l,response:s,dom:o}):(e.durationMs=i,e.perfTotal=e.duration=um(i),e.networkConnect=um(r),e.sentRequest=um(l),e.receivedResponse=um(s),e.domProcessing=um(o),e.isValid=!0):this._logger.throwInternal(Up.WARNING,45,"Invalid page load duration value. Browser perf data won't be sent.",{total:i,network:r,request:l,response:s,dom:o}))},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Hf().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Hf().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var e=Hf();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var e=Hf();return e&&e.timing},e.prototype.isPerformanceTimingDataReady=function(){var e=Hf(),t=e?e.timing:0;return t&&t.domainLookupStart>0&&t.navigationStart>0&&t.responseStart>0&&t.requestStart>0&&t.loadEventEnd>0&&t.responseEnd>0&&t.connectEnd>0&&t.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Gf()||{},i=["googlebot","adsbot-google","apis-google","mediapartners-google"],r=n.userAgent,l=!1;if(r)for(var s=0;s<i.length;s++)l=l||-1!==r.toLowerCase().indexOf(i[s]);if(l)return!1;for(s=0;s<e.length;s++)if(e[s]<0||e[s]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}();function Ym(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var Jm=function(e){function t(){var n,i,r,l,s,o=e.call(this)||this;return o.identifier="ApplicationInsightsAnalytics",o.priority=180,o.autoRoutePVDelay=500,jp(t,o,(function(e,a){var c=Bf();l=c&&c.href||"",e.getCookieMgr=function(){return Mg(e.core)},e.processTelemetry=function(t,n){pg(e.core,(function(){return e.identifier+":processTelemetry"}),(function(){var i=!1,r=e._telemetryInitializers.length;n=e._getTelCtx(n);for(var l=0;l<r;++l){var s=e._telemetryInitializers[l];if(s)try{if(!1===s.apply(null,[t])){i=!0;break}}catch(o){n.diagLog().throwInternal(Up.CRITICAL,64,"One of telemetry initializers failed, telemetry item will not be sent: "+If(o),{exception:Zf(o)},!0)}}i||e.processNext(t,n)}),(function(){return{item:t}}),!t.sync)},e.trackEvent=function(t,n){try{var i=nm.create(t,rm.dataType,rm.envelopeType,e.diagLog(),n);e.core.track(i)}catch(r){e.diagLog().throwInternal(Up.WARNING,39,"trackTrace failed, trace will not be collected: "+If(r),{exception:Zf(r)})}},e.startTrackEvent=function(t){try{n.start(t)}catch(i){e.diagLog().throwInternal(Up.CRITICAL,29,"startTrackEvent failed, event will not be collected: "+If(i),{exception:Zf(i)})}},e.stopTrackEvent=function(t,i,r){try{n.stop(t,void 0,i)}catch(l){e.diagLog().throwInternal(Up.CRITICAL,30,"stopTrackEvent failed, event will not be collected: "+If(l),{exception:Zf(l)})}},e.trackTrace=function(t,n){try{var i=nm.create(t,lm.dataType,lm.envelopeType,e.diagLog(),n);e.core.track(i)}catch(r){e.diagLog().throwInternal(Up.WARNING,39,"trackTrace failed, trace will not be collected: "+If(r),{exception:Zf(r)})}},e.trackMetric=function(t,n){try{var i=nm.create(t,om.dataType,om.envelopeType,e.diagLog(),n);e.core.track(i)}catch(r){e.diagLog().throwInternal(Up.CRITICAL,36,"trackMetric failed, metric will not be collected: "+If(r),{exception:Zf(r)})}},e.trackPageView=function(t,n){try{var i=t||{};e._pageViewManager.trackPageView(i,Object(_p.a)(Object(_p.a)(Object(_p.a)({},i.properties),i.measurements),n)),e.config.autoTrackPageVisitTime&&e._pageVisitTimeManager.trackPreviousPageVisit(i.name,i.uri)}catch(r){e.diagLog().throwInternal(Up.CRITICAL,37,"trackPageView failed, page view will not be collected: "+If(r),{exception:Zf(r)})}},e.sendPageViewInternal=function(t,n,i){var r=jf();r&&(t.refUri=void 0===t.refUri?r.referrer:t.refUri);var l=nm.create(t,hm.dataType,hm.envelopeType,e.diagLog(),n,i);e.core.track(l)},e.sendPageViewPerformanceInternal=function(t,n,i){var r=nm.create(t,dm.dataType,dm.envelopeType,e.diagLog(),n,i);e.core.track(r)},e.trackPageViewPerformance=function(t,n){try{e._pageViewPerformanceManager.populatePageViewPerformanceEvent(t),e.sendPageViewPerformanceInternal(t,n)}catch(i){e.diagLog().throwInternal(Up.CRITICAL,37,"trackPageViewPerformance failed, page view will not be collected: "+If(i),{exception:Zf(i)})}},e.startTrackPage=function(t){try{if("string"!=typeof t){var n=jf();t=n&&n.title||""}i.start(t)}catch(r){e.diagLog().throwInternal(Up.CRITICAL,31,"startTrackPage failed, page view may not be collected: "+If(r),{exception:Zf(r)})}},e.stopTrackPage=function(t,n,r,l){try{if("string"!=typeof t){var s=jf();t=s&&s.title||""}if("string"!=typeof n){var o=Bf();n=o&&o.href||""}i.stop(t,n,r,l),e.config.autoTrackPageVisitTime&&e._pageVisitTimeManager.trackPreviousPageVisit(t,n)}catch(a){e.diagLog().throwInternal(Up.CRITICAL,32,"stopTrackPage failed, page view will not be collected: "+If(a),{exception:Zf(a)})}},e.sendExceptionInternal=function(t,n,i){var r=t.exception||t.error||new Error("not_specified"),l=new _m(e.diagLog(),r,t.properties||n,t.measurements,t.severityLevel,t.id).toInterface(),s=nm.create(l,_m.dataType,_m.envelopeType,e.diagLog(),n,i);e.core.track(s)},e.trackException=function(t,n){try{e.sendExceptionInternal(t,n)}catch(i){e.diagLog().throwInternal(Up.CRITICAL,35,"trackException failed, exception will not be collected: "+If(i),{exception:Zf(i)})}},e._onerror=function(t){var n=t&&t.error,i=t&&t.evt;try{if(!i){var r=Vf();r&&(i=r.event)}var l=t&&t.url||(jf()||{}).URL,s=t.errorSrc||"window.onerror@"+l+":"+(t.lineNumber||0)+":"+(t.columnNumber||0),o={errorSrc:s,url:l,lineNumber:t.lineNumber||0,columnNumber:t.columnNumber||0,message:t.message};!function(e,t,n,i,r){return!r&&pf(e)&&("Script error."===e||"Script error"===e)}(t.message,0,0,0,t.error)?(t.errorSrc||(t.errorSrc=s),e.trackException({exception:t,severityLevel:wm.Error},o)):function(t,n){var i=nm.create(t,_m.dataType,_m.envelopeType,e.diagLog(),n);e.core.track(i)}(_m.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",l,t.lineNumber||0,t.columnNumber||0,n,i,null,s),o)}catch(c){var a=n?n.name+", "+n.message:"null";e.diagLog().throwInternal(Up.CRITICAL,11,"_onError threw exception while logging error, error will not be collected: "+If(c),{exception:Zf(c),errorString:a})}},e.addTelemetryInitializer=function(t){e._telemetryInitializers.push(t)},e.initialize=function(c,u,h,d){if(!e.isInitialized()){if(nf(u))throw Error("Error initializing");a.initialize(c,u,h,d),e.setInitialized(!1);var p=e._getTelCtx(),f=e.identifier;e.config=p.getExtCfg(f);var g=t.getDefaultConfig(c);void 0!==g&&cf(g,(function(t,n){e.config[t]=p.getConfig(f,t,n),void 0===e.config[t]&&(e.config[t]=n)})),e.config.isStorageUseDisabled&&(km=!1,Tm=!1);var m={instrumentationKey:function(){return c.instrumentationKey},accountId:function(){return e.config.accountId||c.accountId},sessionRenewalMs:function(){return e.config.sessionRenewalMs||c.sessionRenewalMs},sessionExpirationMs:function(){return e.config.sessionExpirationMs||c.sessionExpirationMs},sampleRate:function(){return e.config.samplingPercentage||c.samplingPercentage},sdkExtension:function(){return e.config.sdkExtension||c.sdkExtension},isBrowserLinkTrackingEnabled:function(){return e.config.isBrowserLinkTrackingEnabled||c.isBrowserLinkTrackingEnabled},appId:function(){return e.config.appId||c.appId}};e._pageViewPerformanceManager=new Xm(e.core),e._pageViewManager=new Wm(o,e.config.overridePageViewDuration,e.core,e._pageViewPerformanceManager),e._pageVisitTimeManager=new Qm(e.diagLog(),(function(t,n,i){return function(t,n,i){e.trackMetric({name:"PageVisitTime",average:i,max:i,min:i,sampleCount:1},{PageName:t,PageUrl:n})}(t,n,i)})),e._telemetryInitializers=e._telemetryInitializers||[],function(t){if(!t.isBrowserLinkTrackingEnabled()){var n=["/browserLinkSignalR/","/__browserLink/"];e._telemetryInitializers.push((function(e){if(e.baseType===Km.dataType){var t=e.baseData;if(t)for(var i=0;i<n.length;i++)if(t.target&&t.target.indexOf(n[i])>=0)return!1}return!0}))}}(m),(n=new ey(e.diagLog(),"trackEvent")).action=function(t,n,i,r){r||(r={}),r.duration=i.toString(),e.trackEvent({name:t,properties:r})},(i=new ey(e.diagLog(),"trackPageView")).action=function(t,n,i,r,l){nf(r)&&(r={}),r.duration=i.toString(),e.sendPageViewInternal({name:t,uri:n,properties:r,measurements:l},r)};var y,b=Vf(),v=Boolean(typeof history===zp.j&&history)?history:Ff("history"),w=Bf(),C=o;if(!1===e.config.disableExceptionTracking&&!e.config.autoExceptionInstrumented&&b){var S=b.onerror;b.onerror=function(e,t,n,i,r){var l=b.event,s=S&&S(e,t,n,i,r);return!0!==s&&C._onerror(_m.CreateAutoException(e,t,n,i,r,l)),s},e.config.autoExceptionInstrumented=!0}if(!1===e.config.disableExceptionTracking&&!0===e.config.enableUnhandledPromiseRejectionTracking&&!e.config.autoUnhandledPromiseInstrumented&&b){var _=b.onunhandledrejection;b.onunhandledrejection=function(e){var t=b.event,n=_&&_.call(b,e);return!0!==n&&C._onerror(_m.CreateAutoException(function(e){if(e&&e.reason){var t=e.reason;return!pf(t)&&of(t.toString)?t.toString():Zf(t)}return e||""}(e),w?w.href:"",0,0,e,t)),n},e.config.autoUnhandledPromiseInstrumented=!0}if(!0===e.config.enableAutoRouteTracking&&v&&of(v.pushState)&&of(v.replaceState)&&b&&"undefined"!=typeof Event){var x=o;mf(h,(function(e){"AppInsightsPropertiesPlugin"===e.identifier&&(r=e)})),v.pushState=(y=v.pushState,function(){var e=y.apply(this,arguments);return Ym(b,Am(x.config.namePrefix+"pushState")),Ym(b,Am(x.config.namePrefix+"locationchange")),e}),v.replaceState=function(e){return function(){var t=e.apply(this,arguments);return Ym(b,Am(x.config.namePrefix+"replaceState")),Ym(b,Am(x.config.namePrefix+"locationchange")),t}}(v.replaceState),b.addEventListener&&(b.addEventListener(x.config.namePrefix+"popstate",(function(){Ym(b,Am(x.config.namePrefix+"locationchange"))})),b.addEventListener(x.config.namePrefix+"locationchange",(function(){if(r&&r.context&&r.context.telemetryTrace){r.context.telemetryTrace.traceID=qg();var e="_unknown_";w&&w.pathname&&(e=w.pathname+(w.hash||"")),r.context.telemetryTrace.name=Wg(x.diagLog(),e)}s?(l=s,s=w&&w.href||""):s=w&&w.href||"",setTimeout((function(e){x.trackPageView({refUri:e,properties:{duration:0}})}).bind(o,l),x.autoRoutePVDelay)})))}e.setInitialized(!0)}}})),o}return Object(_p.b)(t,e),t.getDefaultConfig=function(e){return e||(e={}),e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=cm(e.disableExceptionTracking),e.autoTrackPageVisitTime=cm(e.autoTrackPageVisitTime),e.overridePageViewDuration=cm(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=cm(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.isStorageUseDisabled=cm(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=cm(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=cm(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=cm(e.enableDebug),e.disableFlushOnBeforeUnload=cm(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=cm(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e},t.Version="2.7.4",t}(yg),ey=function(e,t){var n=this,i={};n.start=function(t){void 0!==i[t]&&e.throwInternal(Up.WARNING,62,"start was called more than once for this event without calling stop.",{name:t,key:t},!0),i[t]=+new Date},n.stop=function(t,r,l,s){var o=i[t];if(isNaN(o))e.throwInternal(Up.WARNING,63,"stop was called without a corresponding start.",{name:t,key:t},!0);else{var a=qm(o,+new Date);n.action(t,r,a,l,s)}delete i[t],i[t]=void 0}},ty=function e(t,n){var i=[],r=!1;this._get=function(){return i},this._set=function(e){return i=e},jp(e,this,(function(e){e.enqueue=function(l){e.count()>=n.eventsLimitInMem()?r||(t.throwInternal(Up.WARNING,105,"Maximum in-memory buffer size reached: "+e.count(),!0),r=!0):i.push(l)},e.count=function(){return i.length},e.size=function(){for(var e=i.length,t=0;t<i.length;t++)e+=i[t].length;return n.emitLineDelimitedJson()||(e+=2),e},e.clear=function(){i=[],r=!1},e.getItems=function(){return i.slice(0)},e.batchPayloads=function(e){return e&&e.length>0?n.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null}}))},ny=function(e){function t(n,i){var r=e.call(this,n,i)||this;return jp(t,r,(function(e,t){e.markAsSent=function(e){t.clear()},e.clearSent=function(e){}})),r}return Object(_p.b)(t,e),t}(ty),iy=function(e){function t(n,i){var r=e.call(this,n,i)||this,l=!1;return jp(t,r,(function(e,r){var s=u(t.BUFFER_KEY),o=u(t.SENT_BUFFER_KEY),a=e._set(s.concat(o));function c(e,t){var n=[];return mf(t,(function(t){of(t)||-1!==yf(e,t)||n.push(t)})),n}function u(e){var t=e;try{t=i.namePrefix&&i.namePrefix()?i.namePrefix()+"_"+t:t;var r=Nm(n,t);if(r){var l=Kf().parse(r);if(pf(l)&&(l=Kf().parse(l)),l&&hf(l))return l}}catch(s){n.throwInternal(Up.CRITICAL,42," storage key: "+t+", "+If(s),{exception:Zf(s)})}return[]}function h(e,t){var r=e;try{r=i.namePrefix&&i.namePrefix()?i.namePrefix()+"_"+r:r;var l=JSON.stringify(t);Rm(n,r,l)}catch(s){Rm(n,r,JSON.stringify([])),n.throwInternal(Up.WARNING,41," storage key: "+r+", "+If(s)+". Buffer cleared",{exception:Zf(s)})}}a.length>t.MAX_BUFFER_SIZE&&(a.length=t.MAX_BUFFER_SIZE),h(t.SENT_BUFFER_KEY,[]),h(t.BUFFER_KEY,a),e.enqueue=function(i){e.count()>=t.MAX_BUFFER_SIZE?l||(n.throwInternal(Up.WARNING,67,"Maximum buffer size reached: "+e.count(),!0),l=!0):(r.enqueue(i),h(t.BUFFER_KEY,e._get()))},e.clear=function(){r.clear(),h(t.BUFFER_KEY,e._get()),h(t.SENT_BUFFER_KEY,[]),l=!1},e.markAsSent=function(i){h(t.BUFFER_KEY,e._set(c(i,e._get())));var r=u(t.SENT_BUFFER_KEY);r instanceof Array&&i instanceof Array&&((r=r.concat(i)).length>t.MAX_BUFFER_SIZE&&(n.throwInternal(Up.CRITICAL,67,"Sent buffer reached its maximum size: "+r.length,!0),r.length=t.MAX_BUFFER_SIZE),h(t.SENT_BUFFER_KEY,r))},e.clearSent=function(e){var n=u(t.SENT_BUFFER_KEY);n=c(e,n),h(t.SENT_BUFFER_KEY,n)}})),r}return Object(_p.b)(t,e),t.BUFFER_KEY="AI_buffer",t.SENT_BUFFER_KEY="AI_sentBuffer",t.MAX_BUFFER_SIZE=2e3,t}(ty);function ry(e){var t="ai."+e+".";return function(e){return t+e}}var ly,sy=ry("application"),oy=ry("device"),ay=ry("location"),cy=ry("operation"),uy=ry("session"),hy=ry("user"),dy=ry("cloud"),py=ry("internal"),fy=function(e){function t(){return e.call(this)||this}return Object(_p.b)(t,e),t}((ly={applicationVersion:sy("ver"),applicationBuild:sy("build"),applicationTypeId:sy("typeId"),applicationId:sy("applicationId"),applicationLayer:sy("layer"),deviceId:oy("id"),deviceIp:oy("ip"),deviceLanguage:oy("language"),deviceLocale:oy("locale"),deviceModel:oy("model"),deviceFriendlyName:oy("friendlyName"),deviceNetwork:oy("network"),deviceNetworkName:oy("networkName"),deviceOEMName:oy("oemName"),deviceOS:oy("os"),deviceOSVersion:oy("osVersion"),deviceRoleInstance:oy("roleInstance"),deviceRoleName:oy("roleName"),deviceScreenResolution:oy("screenResolution"),deviceType:oy("type"),deviceMachineName:oy("machineName"),deviceVMName:oy("vmName"),deviceBrowser:oy("browser"),deviceBrowserVersion:oy("browserVersion"),locationIp:ay("ip"),locationCountry:ay("country"),locationProvince:ay("province"),locationCity:ay("city"),operationId:cy("id"),operationName:cy("name"),operationParentId:cy("parentId"),operationRootId:cy("rootId"),operationSyntheticSource:cy("syntheticSource"),operationCorrelationVector:cy("correlationVector"),sessionId:uy("id"),sessionIsFirst:uy("isFirst"),sessionIsNew:uy("isNew"),userAccountAcquisitionDate:hy("accountAcquisitionDate"),userAccountId:hy("accountId"),userAgent:hy("userAgent"),userId:hy("id"),userStoreRegion:hy("storeRegion"),userAuthUserId:hy("authUserId"),userAnonymousUserAcquisitionDate:hy("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:hy("authUserAcquisitionDate"),cloudName:dy("name"),cloudRole:dy("role"),cloudRoleVer:dy("roleVer"),cloudRoleInstance:dy("roleInstance"),cloudEnvironment:dy("environment"),cloudLocation:dy("location"),cloudDeploymentUnit:dy("deploymentUnit"),internalNodeName:py("nodeName"),internalSdkVersion:py("sdkVersion"),internalAgentVersion:py("agentVersion"),internalSnippet:py("snippet"),internalSdkSrc:py("sdkSrc")},function(){var e=this;ly&&cf(ly,(function(t,n){e[t]=n}))})),gy=new fy,my=function(e){function t(t,n,i){var r=e.call(this)||this;return r.name=Wg(t,i)||"not_specified",r.data=n,r.time=gf(new Date),r.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===r.sampleRate?4:1},tags:1,data:1},r}return Object(_p.b)(t,e),t}((function(){this.ver=1,this.sampleRate=100,this.tags={}})),yy=function(e){function t(t,n){var i=e.call(this)||this;return i.aiDataContract={baseType:1,baseData:1},i.baseType=t,i.baseData=n,i}return Object(_p.b)(t,e),t}(function(e){function t(){return e.call(this)||this}return Object(_p.b)(t,e),t}((function(){})));function by(e,t,n){return kf(e,t,n,Ef)}function vy(e,t,n){nf(e)||cf(e,(function(e,i){ff(i)?n[e]=i:pf(i)?t[e]=i:qf()&&(t[e]=Kf().stringify(i))}))}function wy(e,t){nf(e)||cf(e,(function(n,i){e[n]=i||t}))}function Cy(e,t,n,i){var r=new my(e,i,t);by(r,"sampleRate",n.sampleRate),(n.baseData||{}).startTime&&(r.time=gf(n.baseData.startTime)),r.iKey=n.iKey;var l=n.iKey.replace(/-/g,"");return r.name=r.name.replace("{0}",l),function(e,t,n){var i=n.tags=n.tags||{},r=t.ext=t.ext||{},l=t.tags=t.tags||[],s=r.user;s&&(by(i,gy.userAuthUserId,s.authId),by(i,gy.userId,s.id||s.localId));var o=r.app;o&&by(i,gy.sessionId,o.sesId);var a=r.device;a&&(by(i,gy.deviceId,a.id||a.localId),by(i,gy.deviceType,a.deviceClass),by(i,gy.deviceIp,a.ip),by(i,gy.deviceModel,a.model),by(i,gy.deviceType,a.deviceType));var c=t.ext.web;if(c){by(i,gy.deviceLanguage,c.browserLang),by(i,gy.deviceBrowserVersion,c.browserVer),by(i,gy.deviceBrowser,c.browser);var u=n.data=n.data||{},h=u.baseData=u.baseData||{},d=h.properties=h.properties||{};by(d,"domain",c.domain),by(d,"isManual",c.isManual?"true":null),by(d,"screenRes",c.screenRes),by(d,"userConsent",c.userConsent?"true":null)}var p=r.os;p&&by(i,gy.deviceOS,p.name);var f=r.trace;f&&(by(i,gy.operationParentId,f.parentID),by(i,gy.operationName,Wg(e,f.name)),by(i,gy.operationId,f.traceID));for(var g={},m=l.length-1;m>=0;m--)cf(l[m],(function(e,t){g[e]=t})),l.splice(m,1);cf(l,(function(e,t){g[e]=t}));var y=Object(_p.a)(Object(_p.a)({},i),g);y[gy.internalSdkVersion]||(y[gy.internalSdkVersion]="javascript:".concat(_y.Version)),n.tags=Of(y)}(e,n,r),n.tags=n.tags||[],Of(r)}function Sy(e,t){nf(t.baseData)&&e.throwInternal(Up.CRITICAL,46,"telemetryItem.baseData cannot be null.")}var _y={Version:"2.7.4"};function xy(e,t,n){Sy(e,t);var i={},r={};t.baseType!==rm.dataType&&(i.baseTypeSource=t.baseType),t.baseType===rm.dataType?(i=t.baseData.properties||{},r=t.baseData.measurements||{}):t.baseData&&vy(t.baseData,i,r),vy(t.data,i,r),nf(n)||wy(i,n);var l=new rm(e,t.baseData.name,i,r),s=new yy(rm.dataType,l);return Cy(e,rm.envelopeType,t,s)}var Iy,ky=function e(t){jp(e,this,(function(e){function n(e,l){var s={};if(!e)return t.throwInternal(Up.CRITICAL,48,"cannot serialize object because it is null or undefined",{name:l},!0),s;if(e.__aiCircularRefCheck)return t.throwInternal(Up.WARNING,50,"Circular reference detected while serializing object",{name:l},!0),s;if(!e.aiDataContract){if("measurements"===l)s=r(e,"number",l);else if("properties"===l)s=r(e,"string",l);else if("tags"===l)s=r(e,"string",l);else if(hf(e))s=i(e,l);else{t.throwInternal(Up.WARNING,49,"Attempting to serialize an object which does not implement ISerializable",{name:l},!0);try{Kf().stringify(e),s=e}catch(o){t.throwInternal(Up.CRITICAL,48,o&&of(o.toString)?o.toString():"Error serializing object",null,!0)}}return s}return e.__aiCircularRefCheck=!0,cf(e.aiDataContract,(function(r,o){var a=of(o)?1&o():1&o,c=of(o)?4&o():4&o,u=2&o,h=void 0!==e[r],d=sf(e[r])&&null!==e[r];if(!a||h||u){if(!c){var p;void 0!==(p=d?u?i(e[r],r):n(e[r],r):e[r])&&(s[r]=p)}}else t.throwInternal(Up.CRITICAL,24,"Missing required field specification. The field is required but not present on source",{field:r,name:l})})),delete e.__aiCircularRefCheck,s}function i(e,i){var r;if(e)if(hf(e)){r=[];for(var l=0;l<e.length;l++){var s=n(e[l],i+"["+l+"]");r.push(s)}}else t.throwInternal(Up.CRITICAL,54,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:i},!0);return r}function r(e,n,i){var r;return e&&(r={},cf(e,(function(e,l){if("string"===n)r[e]=void 0===l?"undefined":null===l?"null":l.toString?l.toString():"invalid field: toString() is not defined.";else if("number"===n)if(void 0===l)r[e]="undefined";else if(null===l)r[e]="null";else{var s=parseFloat(l);r[e]=isNaN(s)?"NaN":s}else r[e]="invalid field: "+i+" is of unknown type.",t.throwInternal(Up.CRITICAL,r[e],null,!0)}))),r}e.serialize=function(e){var i=n(e,"root");try{return Kf().stringify(i)}catch(r){t.throwInternal(Up.CRITICAL,48,r&&of(r.toString)?r.toString():"Error serializing object",null,!0)}}}))},Ty=function(){function e(){var t=Vf(),n=jf(),i=!1,r=!0;jp(e,this,(function(e){try{if(t&&af(t,"online",o)&&(af(t,"offline",a),i=!0),n){var l=n.body||n;tf(l.ononline)||(l.ononline=o,l.onoffline=a,i=!0)}if(i){var s=Gf();s&&!nf(s.onLine)&&(r=s.onLine)}}catch(c){i=!1}function o(){r=!0}function a(){r=!1}e.isListening=i,e.isOnline=function(){var e=!0,t=Gf();return i?e=r:t&&!nf(t.onLine)&&(e=t.onLine),e},e.isOffline=function(){return!e.isOnline()}}))}return e.Offline=new e,e}().Offline,My=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return this.getHashCode(t)/e.INT_MAX_VALUE*100},e.prototype.getHashCode=function(e){if(""===e)return 0;for(;e.length<8;)e=e.concat(e);for(var t=5381,n=0;n<e.length;++n)t=(t<<5)+t+e.charCodeAt(n),t&=t;return Math.abs(t)},e.INT_MAX_VALUE=2147483647,e}(),Ey=function(){var e=new My,t=new fy;this.getSamplingScore=function(n){return n.tags&&n.tags[t.userId]?e.getHashCodeScore(n.tags[t.userId]):n.ext&&n.ext.user&&n.ext.user.id?e.getHashCodeScore(n.ext.user.id):n.tags&&n.tags[t.operationId]?e.getHashCodeScore(n.tags[t.operationId]):n.ext&&n.ext.telemetryTrace&&n.ext.telemetryTrace.traceID?e.getHashCodeScore(n.ext.telemetryTrace.traceID):100*Math.random()}},Py=function(){function e(e,t){this.INT_MAX_VALUE=2147483647;var n=t||cg(null);(e>100||e<0)&&(n.throwInternal(Up.WARNING,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this.sampleRate=e,this.samplingScoreGenerator=new Ey}return e.prototype.isSampledIn=function(e){var t=this.sampleRate;return null==t||t>=100||e.baseType===om.dataType||this.samplingScoreGenerator.getSamplingScore(e)<t},e}();function Oy(e){try{return e.responseText}catch(t){}return null}var Dy=((Iy={})[rm.dataType]=xy,Iy[lm.dataType]=function(e,t,n){Sy(e,t);var i=t.baseData.message,r=t.baseData.severityLevel,l=t.baseData.properties||{},s=t.baseData.measurements||{};vy(t.data,l,s),nf(n)||wy(l,n);var o=new lm(e,i,r,l,s),a=new yy(lm.dataType,o);return Cy(e,lm.envelopeType,t,a)},Iy[hm.dataType]=function(e,t,n){Sy(e,t);var i,r=t.baseData;nf(r)||nf(r.properties)||nf(r.properties.duration)?nf(t.data)||nf(t.data.duration)||(i=t.data.duration,delete t.data.duration):(i=r.properties.duration,delete r.properties.duration);var l,s=t.baseData;((t.ext||{}).trace||{}).traceID&&(l=t.ext.trace.traceID);var o=s.id||l,a=s.name,c=s.uri,u=s.properties||{},h=s.measurements||{};nf(s.refUri)||(u.refUri=s.refUri),nf(s.pageType)||(u.pageType=s.pageType),nf(s.isLoggedIn)||(u.isLoggedIn=s.isLoggedIn.toString()),nf(s.properties)||cf(s.properties,(function(e,t){u[e]=t})),vy(t.data,u,h),nf(n)||wy(u,n);var d=new hm(e,a,c,i,u,h,o),p=new yy(hm.dataType,d);return Cy(e,hm.envelopeType,t,p)},Iy[dm.dataType]=function(e,t,n){Sy(e,t);var i=t.baseData,r=i.name,l=i.uri||i.url,s=i.properties||{},o=i.measurements||{};vy(t.data,s,o),nf(n)||wy(s,n);var a=new dm(e,r,l,void 0,s,o,i),c=new yy(dm.dataType,a);return Cy(e,dm.envelopeType,t,c)},Iy[_m.dataType]=function(e,t,n){Sy(e,t);var i=t.baseData.measurements||{},r=t.baseData.properties||{};vy(t.data,r,i),nf(n)||wy(r,n);var l=_m.CreateFromInterface(e,t.baseData,r,i),s=new yy(_m.dataType,l);return Cy(e,_m.envelopeType,t,s)},Iy[om.dataType]=function(e,t,n){Sy(e,t);var i=t.baseData,r=i.properties||{},l=i.measurements||{};vy(t.data,r,l),nf(n)||wy(r,n);var s=new om(e,i.name,i.average,i.sampleCount,i.min,i.max,i.stdDev,r,l),o=new yy(om.dataType,s);return Cy(e,om.envelopeType,t,o)},Iy[Km.dataType]=function(e,t,n){Sy(e,t);var i=t.baseData.measurements||{},r=t.baseData.properties||{};vy(t.data,r,i),nf(n)||wy(r,n);var l=t.baseData;if(nf(l))return e.warnToConsole("Invalid input for dependency data"),null;var s=new Km(e,l.id,l.target,l.name,l.duration,l.success,l.responseCode,l.properties&&l.properties["http.method"]?l.properties["http.method"]:"GET",l.type,l.correlationContext,r,i),o=new yy(Km.dataType,s);return Cy(e,Km.envelopeType,t,o)},Iy),Ny=function(e){function t(){var n,i,r=e.call(this)||this;r.priority=1001,r.identifier="AppInsightsChannelPlugin";var l,s,o,a,c,u=!1,h={},d=0;return r._senderConfig={endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},disableXhr:function(){return!1},onunloadDisableFetch:function(){return!1},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){},convertUndefined:function(){},eventsLimitInMem:function(){return 1e4}},jp(t,r,(function(e,p){function f(t,i,r,l,s,o){var a=null;if(e._appId||(a=_(o))&&a.appId&&(e._appId=a.appId),(t<200||t>=300)&&0!==t){if((301===t||307===t||308===t)&&!g(r))return void e._onError(i,s);!e._senderConfig.isRetryDisabled()&&T(t)?(x(i),e.diagLog().throwInternal(Up.WARNING,40,". Response code "+t+". Will retry to send "+i.length+" items.")):e._onError(i,s)}else Ty.isOffline()?e._senderConfig.isRetryDisabled()||(x(i,10),e.diagLog().throwInternal(Up.WARNING,40,". Offline - Response Code: ".concat(t,". Offline status: ").concat(Ty.isOffline(),". Will retry to send ").concat(i.length," items."))):(g(r),206===t?(a||(a=_(o)),a&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(i,a):e._onError(i,s)):(n=0,e._onSuccess(i,l)))}function g(t){return!(o>=10||nf(t)||""===t||t===e._senderConfig.endpointUrl()||(e._senderConfig.endpointUrl=function(){return t},++o,0))}function m(e,t){c?c(e,!1):b(e)}function y(t){var n=Gf(),i=e._buffer,r=e._senderConfig.endpointUrl(),l=e._buffer.batchPayloads(t),s=new Blob([l],{type:"text/plain;charset=UTF-8"}),o=n.sendBeacon(r,s);return o&&(i.markAsSent(t),e._onSuccess(t,t.length)),o}function b(t,n){if(hf(t)&&t.length>0&&!y(t)){for(var i=[],r=0;r<t.length;r++){var l=t[r];y([l])||i.push(l)}i.length>0&&(a(i,!0),e.diagLog().throwInternal(Up.WARNING,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function v(t,n){var i=new XMLHttpRequest,r=e._senderConfig.endpointUrl();try{i[tm]=!0}catch(s){}i.open("POST",r,n),i.setRequestHeader("Content-type","application/json"),Gm(r)&&i.setRequestHeader("Sdk-Context","appId"),mf(Sf(h),(function(e){i.setRequestHeader(e,h[e])})),i.onreadystatechange=function(){return e._xhrReadyStateChange(i,t,t.length)},i.onerror=function(n){return e._onError(t,M(i),n)};var l=e._buffer.batchPayloads(t);i.send(l),e._buffer.markAsSent(t)}function w(t,n){if(hf(t)){for(var i=t.length,r=0;r<t.length;r++)i+=t[r].length;d+i<=65e3?S(t,!1):Xf()?b(t):(a&&a(t,!0),e.diagLog().throwInternal(Up.WARNING,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function C(e,t){S(e,!0)}function S(t,n){var i,r=e._senderConfig.endpointUrl(),l=e._buffer.batchPayloads(t),s=new Blob([l],{type:"application/json"}),o=new Headers,a=l.length,c=!1,u=!1;Gm(r)&&o.append("Sdk-Context","appId"),mf(Sf(h),(function(e){o.append(e,h[e])}));var p=((i={method:"POST",headers:o,body:s})[tm]=!0,i);n||(p.keepalive=!0,c=!0,d+=a);var g=new Request(r,p);try{g[tm]=!0}catch(m){}e._buffer.markAsSent(t);try{fetch(g).then((function(i){n||(d-=a,a=0),u||(u=!0,i.ok?i.text().then((function(e){f(i.status,t,i.url,t.length,i.statusText,e)})):e._onError(t,i.statusText))})).catch((function(i){n||(d-=a,a=0),u||(u=!0,e._onError(t,i.message))}))}catch(m){u||e._onError(t,Zf(m))}c&&!u&&(u=!0,e._onSuccess(t,t.length))}function _(t){try{if(t&&""!==t){var n=Kf().parse(t);if(n&&n.itemsReceived&&n.itemsReceived>=n.itemsAccepted&&n.itemsReceived-n.itemsAccepted===n.errors.length)return n}}catch(i){e.diagLog().throwInternal(Up.CRITICAL,43,"Cannot parse the response. "+If(i),{response:t})}return null}function x(t,r){if(void 0===r&&(r=1),t&&0!==t.length){var l=e._buffer;l.clearSent(t),n++;for(var s=0,o=t;s<o.length;s++)l.enqueue(o[s]);!function(e){var t;if(n<=1)t=10;else{var r=(Math.pow(2,n)-1)/2,l=Math.floor(Math.random()*r*10)+1;t=Math.max(Math.min(l*=e,3600),10)}var s=xf()+1e3*t;i=s}(r),I()}}function I(){if(!l&&!u){var t=i?Math.max(0,i-xf()):0,n=Math.max(e._senderConfig.maxBatchInterval(),t);l=setTimeout((function(){l=null,e.triggerSend(!0,null,1)}),n)}}function k(){clearTimeout(l),l=null,i=null}function T(e){return 408===e||429===e||500===e||503===e}function M(e,t){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+Oy(e)||!1:t}function E(t,n){var i=e._buffer,r=Vf(),l=new XDomainRequest;l.onload=function(){return e._xdrOnLoad(l,t)},l.onerror=function(n){return e._onError(t,P(l),n)};var s=r&&r.location&&r.location.protocol||"";if(0!==e._senderConfig.endpointUrl().lastIndexOf(s,0))return e.diagLog().throwInternal(Up.WARNING,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void i.clear();var o=e._senderConfig.endpointUrl().replace(/^(https?:)/,"");l.open("POST",o);var a=i.batchPayloads(t);l.send(a),i.markAsSent(t)}function P(e,t){return e?"XDomainRequest,Response:"+Oy(e)||!1:t}e.pause=function(){k(),u=!0},e.resume=function(){u&&(u=!1,i=null,e._buffer.size()>e._senderConfig.maxBatchSizeInBytes()&&e.triggerSend(!0,null,10),I())},e.flush=function(){if(!u){k();try{e.triggerSend(!0,null,1)}catch(t){e.diagLog().throwInternal(Up.CRITICAL,22,"flush failed, telemetry will not be collected: "+If(t),{exception:Zf(t)})}}},e.onunloadFlush=function(){if(!u)if(!1!==e._senderConfig.onunloadDisableBeacon()&&!1!==e._senderConfig.isBeaconApiDisabled()||!Xf())e.flush();else try{e.triggerSend(!0,m,2)}catch(t){e.diagLog().throwInternal(Up.CRITICAL,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+If(t),{exception:Zf(t)})}},e.teardown=function(){Pf("Method not implemented.")},e.addHeader=function(e,t){h[e]=t},e.initialize=function(t,l,u,h){p.initialize(t,l,u,h);var d=e._getTelCtx(),f=e.identifier;s=new ky(l.logger),n=0,i=null,e._sender=null,o=0;var g=e.diagLog();cf({endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},disableXhr:function(){return!1},onunloadDisableFetch:function(){return!1},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){},convertUndefined:function(){},eventsLimitInMem:function(){return 1e4}},(function(t,n){e._senderConfig[t]=function(){return d.getConfig(f,t,n())}})),e._buffer=e._senderConfig.enableSessionStorageBuffer()&&Dm()?new iy(g,e._senderConfig):new ny(g,e._senderConfig),e._sample=new Py(e._senderConfig.samplingPercentage(),g),function(e){return!(nf(e.disableInstrumentationKeyValidation)||!e.disableInstrumentationKeyValidation)||new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e.instrumentationKey)}(t)||g.throwInternal(Up.CRITICAL,100,"Invalid Instrumentation key "+t.instrumentationKey),!Gm(e._senderConfig.endpointUrl())&&e._senderConfig.customHeaders()&&e._senderConfig.customHeaders().length>0&&mf(e._senderConfig.customHeaders(),(function(e){r.addHeader(e.header,e.value)}));var m=e._senderConfig,y=null;!m.disableXhr()&&Jf()?y=E:!m.disableXhr()&&eg()&&(y=v),!y&&Yf()&&(y=C),a=y||v,!m.isBeaconApiDisabled()&&Xf()&&(y=b),e._sender=y||v,c=!m.onunloadDisableFetch()&&Yf(!0)?w:Xf()?b:!m.disableXhr()&&Jf()?E:!m.disableXhr()&&eg()?v:a},e.processTelemetry=function(n,i){i=e._getTelCtx(i);try{if(e._senderConfig.disableTelemetry())return;if(!n)return void i.diagLog().throwInternal(Up.CRITICAL,7,"Cannot send empty telemetry");if(n.baseData&&!n.baseType)return void i.diagLog().throwInternal(Up.CRITICAL,70,"Cannot send telemetry without baseData and baseType");if(n.baseType||(n.baseType="EventData"),!e._sender)return void i.diagLog().throwInternal(Up.CRITICAL,28,"Sender was not initialized");if(!e._sample.isSampledIn(n))return void i.diagLog().throwInternal(Up.WARNING,33,"Telemetry item was sampled out and not sent",{SampleRate:e._sample.sampleRate});n.sampleRate=e._sample.sampleRate;var r=e._senderConfig.convertUndefined()||void 0,l=n.iKey||e._senderConfig.instrumentationKey(),o=t.constructEnvelope(n,l,i.diagLog(),r);if(!o)return void i.diagLog().throwInternal(Up.CRITICAL,47,"Unable to create an AppInsights envelope");var a=!1;if(n.tags&&n.tags.ProcessLegacy&&(mf(n.tags.ProcessLegacy,(function(e){try{e&&!1===e(o)&&(a=!0,i.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(t){i.diagLog().throwInternal(Up.CRITICAL,64,"One of telemetry initializers failed, telemetry item will not be sent: "+If(t),{exception:Zf(t)},!0)}})),delete n.tags.ProcessLegacy),a)return;var c=s.serialize(o),u=e._buffer;u.size()+c.length>e._senderConfig.maxBatchSizeInBytes()&&e.triggerSend(!0,null,10),u.enqueue(c),I()}catch(h){i.diagLog().throwInternal(Up.WARNING,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+If(h),{exception:Zf(h)})}e.processNext(n,i)},e._xhrReadyStateChange=function(e,t,n){4===e.readyState&&f(e.status,t,e.responseURL,n,M(e),Oy(e)||e.response)},e.triggerSend=function(t,n,i){if(void 0===t&&(t=!0),!u)try{var l=e._buffer;if(e._senderConfig.disableTelemetry())l.clear();else{if(l.count()>0){var s=l.getItems();!function(t,n){var i=e.core.getNotifyMgr?e.core.getNotifyMgr():e.core._notificationManager;if(i&&i.eventsSendRequest)try{i.eventsSendRequest(t,n)}catch(r){e.diagLog().throwInternal(Up.CRITICAL,74,"send request notification failed: "+If(r),{exception:Zf(r)})}}(i||0,t),n?n.call(r,s,t):e._sender(s,t)}new Date}k()}catch(a){var o=Qf();(!o||o>9)&&e.diagLog().throwInternal(Up.CRITICAL,40,"Telemetry transmission failed, some telemetry will be lost: "+If(a),{exception:Zf(a)})}},e._onError=function(t,n,i){e.diagLog().throwInternal(Up.WARNING,26,"Failed to send telemetry.",{message:n}),e._buffer.clearSent(t)},e._onPartialSuccess=function(t,n){for(var i=[],r=[],l=0,s=n.errors.reverse();l<s.length;l++){var o=s[l],a=t.splice(o.index,1)[0];T(o.statusCode)?r.push(a):i.push(a)}t.length>0&&e._onSuccess(t,n.itemsAccepted),i.length>0&&e._onError(i,M(null,["partial success",n.itemsAccepted,"of",n.itemsReceived].join(" "))),r.length>0&&(x(r),e.diagLog().throwInternal(Up.WARNING,40,"Partial success. Delivered: "+t.length+", Failed: "+i.length+". Will retry to send "+r.length+" our of "+n.itemsReceived+" items"))},e._onSuccess=function(t,n){e._buffer.clearSent(t)},e._xdrOnLoad=function(t,i){var r=Oy(t);if(!t||r+""!="200"&&""!==r){var l=_(r);l&&l.itemsReceived&&l.itemsReceived>l.itemsAccepted&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(i,l):e._onError(i,P(t))}else n=0,e._onSuccess(i,0)}})),r}return Object(_p.b)(t,e),t.constructEnvelope=function(e,t,n,i){var r;return r=t===e.iKey||nf(t)?e:Object(_p.a)(Object(_p.a)({},e),{iKey:t}),(Dy[r.baseType]||xy)(n,r,i)},t}(yg),Ry=function(){},Ay=function(){function e(t,n){var i,r,l=cg(n),s=Mg(n);jp(e,this,(function(n){t||(t={}),of(t.sessionExpirationMs)||(t.sessionExpirationMs=function(){return e.acquisitionSpan}),of(t.sessionRenewalMs)||(t.sessionRenewalMs=function(){return e.renewalSpan}),n.config=t;var o=n.config.sessionCookiePostfix&&n.config.sessionCookiePostfix()?n.config.sessionCookiePostfix():n.config.namePrefix&&n.config.namePrefix()?n.config.namePrefix():"";function a(e,t){var n=!1,i=t.split("|");if(i.length>=2)try{var r=+i[1]||0,s=+i[2]||0;isNaN(r)||r<=0?l.throwInternal(Up.WARNING,27,"AI session acquisition date is 0, session will be reset"):isNaN(s)||s<=0?l.throwInternal(Up.WARNING,27,"AI session renewal date is 0, session will be reset"):i[0]&&(e.id=i[0],e.acquisitionDate=r,e.renewalDate=s,n=!0)}catch(o){l.throwInternal(Up.CRITICAL,9,"Error parsing ai_session value ["+(t||"")+"], session will be reset - "+If(o),{exception:Zf(o)})}return n}function c(e,t){var l=e.acquisitionDate;e.renewalDate=t;var o,a=n.config,c=a.sessionRenewalMs(),u=l+a.sessionExpirationMs()-t,h=[e.id,l,t];o=u<c?u/1e3:c/1e3;var d=a.cookieDomain?a.cookieDomain():null;s.set(i(),h.join("|"),a.sessionExpirationMs()>0?o:null,d),r=t}i=function(){return"ai_session"+o},n.automaticSession=new Ry,n.update=function(){var t=xf(),o=!1,u=n.automaticSession;u.id||(o=!function(e,t){var n=!1,r=s.get(i());if(r&&of(r.split))n=a(e,r);else{var o=function(e,t){var n=Mm();if(null!==n)try{return n.getItem(t)}catch(i){km=!1,e.throwInternal(Up.WARNING,1,"Browser failed read of local storage. "+If(i),{exception:Zf(i)})}return null}(l,i());o&&(n=a(e,o))}return n||!!e.id}(u));var h=n.config.sessionExpirationMs();if(!o&&h>0){var d=n.config.sessionRenewalMs(),p=t-u.acquisitionDate,f=t-u.renewalDate;o=(o=(o=p<0||f<0)||p>h)||f>d}o?function(e){var t=n.config||{},i=(t.getNewId?t.getNewId():null)||Hg;n.automaticSession.id=i(t.idLength?t.idLength():22),n.automaticSession.acquisitionDate=e,c(n.automaticSession,e),Om()||l.throwInternal(Up.WARNING,0,"Browser does not support local storage. Session durations will be inaccurate.")}(t):(!r||t-r>e.cookieUpdateInterval)&&c(u,t)},n.backup=function(){var e,t,r,s=n.automaticSession;e=s.id,t=s.acquisitionDate,r=s.renewalDate,function(e,t,n){var i=Mm();if(null!==i)try{i.setItem(t,n)}catch(r){km=!1,e.throwInternal(Up.WARNING,3,"Browser failed write to local storage. "+If(r),{exception:Zf(r)})}}(l,i(),[e,t,r].join("|"))}}))}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}(),Ly=function(){},Fy=function(){this.id="browser",this.deviceClass="Browser"},$y=function(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:2.7.4"};function Vy(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))}var Uy=function(){function e(t,n){this.isNewUser=!1,this.isUserCookieSet=!1;var i,r=cg(n),l=Mg(n);jp(e,this,(function(n){n.config=t;var s=n.config.userCookiePostfix&&n.config.userCookiePostfix()?n.config.userCookiePostfix():"",o=l.get((i=function(){return e.userCookieName+s})());if(o){n.isNewUser=!1;var a=o.split(e.cookieSeparator);a.length>0&&(n.id=a[0],n.isUserCookieSet=!!n.id)}function c(){var e=t||{};return((e.getNewId?e.getNewId():null)||Hg)(e.idLength?t.idLength():22)}function u(e){var t=gf(new Date);return n.accountAcquisitionDate=t,n.isNewUser=!0,[e,t]}function h(e){n.isUserCookieSet=l.set(i(),e,31536e3)}if(!n.id){n.id=c(),h(u(n.id).join(e.cookieSeparator));var d=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";!function(e,t){var n=Mm();if(null!==n)try{n.removeItem(t)}catch(i){km=!1,e.throwInternal(Up.WARNING,5,"Browser failed removal of local storage item. "+If(i),{exception:Zf(i)})}}(r,d)}n.accountId=t.accountId?t.accountId():void 0;var p=l.get(e.authUserCookieName);if(p){var f=(p=decodeURI(p)).split(e.cookieSeparator);f[0]&&(n.authenticatedId=f[0]),f.length>1&&f[1]&&(n.accountId=f[1])}n.setAuthenticatedUserContext=function(t,i,s){if(void 0===s&&(s=!1),!Vy(t)||i&&!Vy(i))r.throwInternal(Up.WARNING,60,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);else{n.authenticatedId=t;var o=n.authenticatedId;i&&(n.accountId=i,o=[n.authenticatedId,n.accountId].join(e.cookieSeparator)),s&&l.set(e.authUserCookieName,encodeURI(o))}},n.clearAuthenticatedUserContext=function(){n.authenticatedId=null,n.accountId=null,l.del(e.authUserCookieName)},n.update=function(t){n.id===t&&n.isUserCookieSet||h(u(t||c()).join(e.cookieSeparator))}}))}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}(),jy=function(){},zy=function(e,t,n,i){this.traceID=e||qg(),this.parentID=t,this.name=n;var r=Bf();!n&&r&&r.pathname&&(this.name=r.pathname),this.name=Wg(i,this.name)};function Gy(e,t){e&&e[t]&&0===Sf(e[t]).length&&delete e[t]}var By=function e(t,n){var i=this,r=t.logger;this.appId=function(){return null},this.getSessionId=function(){return null},jp(e,this,(function(e){e.application=new Ly,e.internal=new $y(n),$f()&&(e.sessionManager=new Ay(n,t),e.device=new Fy,e.location=new jy,e.user=new Uy(n,t),e.telemetryTrace=new zy(void 0,void 0,void 0,r),e.session=new Ry),e.getSessionId=function(){var t=e.session,n=null;if(t&&pf(t.id))n=t.id;else{var i=(e.sessionManager||{}).automaticSession;n=i&&pf(i.id)?i.id:null}return n},e.applySessionContext=function(t,n){kf(Tf(t.ext,"app"),"sesId",e.getSessionId(),pf)},e.applyOperatingSystemContxt=function(t,n){kf(t.ext,"os",e.os)},e.applyApplicationContext=function(t,n){var i=e.application;if(i){var r=Tf(t,"tags");kf(r,gy.applicationVersion,i.ver,pf),kf(r,gy.applicationBuild,i.build,pf)}},e.applyDeviceContext=function(t,n){var i=e.device;if(i){var r=Tf(Tf(t,"ext"),"device");kf(r,"localId",i.id,pf),kf(r,"ip",i.ip,pf),kf(r,"model",i.model,pf),kf(r,"deviceClass",i.deviceClass,pf)}},e.applyInternalContext=function(t,n){var i=e.internal;if(i){var r=Tf(t,"tags");kf(r,gy.internalAgentVersion,i.agentVersion,pf),kf(r,gy.internalSdkVersion,i.sdkVersion,pf),t.baseType!==ag.dataType&&t.baseType!==hm.dataType||(kf(r,gy.internalSnippet,i.snippetVer,pf),kf(r,gy.internalSdkSrc,i.sdkSrc,pf))}},e.applyLocationContext=function(e,t){var n=i.location;n&&kf(Tf(e,"tags",[]),gy.locationIp,n.ip,pf)},e.applyOperationContext=function(t,n){var i=e.telemetryTrace;if(i){var r=Tf(Tf(t,"ext"),"trace",{traceID:void 0,parentID:void 0});kf(r,"traceID",i.traceID,pf),kf(r,"name",i.name,pf),kf(r,"parentID",i.parentID,pf)}},e.applyWebContext=function(e,t){var n=i.web;n&&kf(Tf(e,"ext"),"web",n)},e.applyUserContext=function(t,n){var i=e.user;if(i){kf(Tf(t,"tags",[]),gy.userAccountId,i.accountId,pf);var r=Tf(Tf(t,"ext"),"user");kf(r,"id",i.id,pf),kf(r,"authId",i.authenticatedId,pf)}},e.cleanUp=function(e,t){var n=e.ext;n&&(Gy(n,"device"),Gy(n,"user"),Gy(n,"web"),Gy(n,"os"),Gy(n,"app"),Gy(n,"trace"))}}))},Hy=function(e){function t(){var n,i,r=e.call(this)||this;return r.priority=110,r.identifier="AppInsightsPropertiesPlugin",jp(t,r,(function(e,r){e.initialize=function(l,s,o,a){r.initialize(l,s,o,a);var c=e._getTelCtx(),u=e.identifier,h=t.getDefaultConfig();i=i||{},cf(h,(function(e,t){i[e]=function(){return c.getConfig(u,e,t())}})),e.context=new By(s,i),n=function(e,t){var n=null;return mf(e,(function(e){if("AppInsightsChannelPlugin"===e.identifier)return n=e,-1})),n}(o),e.context.appId=function(){return n?n._appId:null},e._extConfig=i},e.processTelemetry=function(t,n){if(nf(t));else{n=e._getTelCtx(n),t.name===hm.envelopeType&&n.diagLog().resetInternalMessageCount();var i=e.context||{};i.session&&"string"!=typeof e.context.session.id&&i.sessionManager&&i.sessionManager.update();var r=i.user;if(r&&!r.isUserCookieSet&&r.update(i.user.id),function(t,n){Tf(t,"tags",[]),Tf(t,"ext",{});var i=e.context;i.applySessionContext(t,n),i.applyApplicationContext(t,n),i.applyDeviceContext(t,n),i.applyOperationContext(t,n),i.applyUserContext(t,n),i.applyOperatingSystemContxt(t,n),i.applyWebContext(t,n),i.applyLocationContext(t,n),i.applyInternalContext(t,n),i.cleanUp(t,n)}(t,n),r&&r.isNewUser){r.isNewUser=!1;var l=new ag(72,(Gf()||{}).userAgent||"");n.diagLog().logInternalMessage(Up.CRITICAL,l)}e.processNext(t,n)}}})),r}return Object(_p.b)(t,e),t.getDefaultConfig=function(){return{instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},getSessionId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}}},t}(yg),qy=["req","rsp","hkErr","fnErr"];function Ky(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function Wy(e,t,n,i,r){r>=0&&r<=2&&Ky(e,(function(e,l){var s=e.cbks,o=s[qy[r]];if(o){t.ctx=function(){return i[l]=i[l]||{}};try{o.apply(t.inst,n)}catch(u){var a=t.err;try{var c=s[qy[2]];c&&(t.err=u,c.apply(t.inst,n))}catch(h){}finally{t.err=a}}}}))}function Qy(e,t,n,i){if(void 0===i&&(i=!0),e&&t&&n){var r=function e(t,n,i){var r=null;return t&&(lf(t,n)?r=t:i&&(r=e(function(e){if(e){if(ef)return ef(e);var t=e.__proto__||e[zp.k]||e.constructor;if(t)return t}return null}(t),n,!1))),r}(e,t,i);if(r){var l=r[t];if(typeof l===zp.h){var s=l._aiHooks;if(!s){var o=(c=s={i:0,n:t,f:l,h:[]},function(){var e=this,t=arguments,n=c.h,i={name:c.n,inst:e,ctx:null,set:o},r=[],l=s([i],t);function s(e,t){return Ky(t,(function(t){e.push(t)})),e}function o(e,n){(t=s([],t))[e]=n,l=s([i],t)}Wy(n,i,l,r,0);var a=c.f;try{i.rslt=a.apply(e,t)}catch(u){throw i.err=u,Wy(n,i,l,r,3),u}return Wy(n,i,l,r,1),i.rslt});o._aiHooks=s,r[t]=o}var a={id:s.i,cbks:n,rm:function(){var e=this.id;Ky(s.h,(function(t,n){if(t.id===e)return s.h.splice(n,1),1}))}};return s.i++,s.h.push(a),a}}}var c;return null}function Zy(e,t,n){var i=0,r=e[t],l=e[n];return r&&l&&(i=qm(r,l)),i}function Xy(e,t,n,i,r){var l=0,s=Zy(n,i,r);return s&&(l=Yy(e,t,um(s))),l}function Yy(e,t,n){var i=0;return e&&t&&n&&((e.ajaxPerf=e.ajaxPerf||{})[t]=n,i=1),i}var Jy=function(){this.openDone=!1,this.setRequestHeaderDone=!1,this.sendDone=!1,this.abortDone=!1,this.stateChangeAttached=!1},eb=function e(t,n,i){var r=i;this.perfMark=null,this.completed=!1,this.requestHeadersSize=null,this.requestHeaders=null,this.responseReceivingDuration=null,this.callbackDuration=null,this.ajaxTotalDuration=null,this.aborted=0,this.pageUrl=null,this.requestUrl=null,this.requestSize=0,this.method=null,this.status=null,this.requestSentTime=null,this.responseStartedTime=null,this.responseFinishedTime=null,this.callbackFinishedTime=null,this.endTime=null,this.xhrMonitoringState=new Jy,this.clientFailure=0,this.traceID=t,this.spanID=n,jp(e,this,(function(e){e.getAbsoluteUrl=function(){return e.requestUrl?((n=Vm(e.requestUrl))&&(t=n.href),t):null;var t,n},e.getPathName=function(){return e.requestUrl?Qg(r,(n=e.requestUrl,(t=e.method)?t.toUpperCase()+" "+n:n)):null;var t,n},e.CreateTrackItem=function(t,n,i){var r;if(e.ajaxTotalDuration=Math.round(1e3*qm(e.requestSentTime,e.responseFinishedTime))/1e3,e.ajaxTotalDuration<0)return null;var l=((r={id:"|"+e.traceID+"."+e.spanID,target:e.getAbsoluteUrl(),name:e.getPathName(),type:t,startTime:null,duration:e.ajaxTotalDuration,success:+e.status>=200&&+e.status<400,responseCode:+e.status,method:e.method}).properties={HttpMethod:e.method},r);if(e.requestSentTime&&(l.startTime=new Date,l.startTime.setTime(e.requestSentTime)),function(e,t){var n=e.perfTiming,i=t.properties||{},r=0,l="redirect",s=l+"Start",o=l="End";if(n){r|=Xy(i,l,n,s,o),r|=Xy(i,"domainLookup",n,"domainLookupStart","domainLookupEnd"),r|=Xy(i,"connect",n,"connectStart","connectEnd"),r|=Xy(i,"request",n,"requestStart","requestEnd"),r|=Xy(i,"response",n,"responseStart","responseEnd"),r|=Xy(i,"networkConnect",n,"startTime","connectEnd"),r|=Xy(i,"sentRequest",n,"requestStart","responseEnd");var a=n.duration;a||(a=Zy(n,"startTime","responseEnd")||0),r|=Yy(i,"duration",a),r|=Yy(i,"perfTotal",a);var c=n.serverTiming;if(c){var u={};mf(c,(function(e,t){var n=function(e){var t=e;return t&&pf(t)&&(t=(t=(t=t.replace(Xp,(function(e,t){return t.toUpperCase()}))).replace(Yp,"_")).replace(Jp,(function(e,t){return"_"+t}))),t}(e.name||""+t),i=u[n]||{};cf(e,(function(e,t){("name"!==e&&pf(t)||ff(t))&&(i[e]&&(t=i[e]+";"+t),!t&&pf(t)||(i[e]=t))})),u[n]=i})),r|=Yy(i,"serverTiming",u)}r|=Yy(i,"transferSize",n.transferSize),r|=Yy(i,"encodedBodySize",n.encodedBodySize),r|=Yy(i,"decodedBodySize",n.decodedBodySize)}else e.perfMark&&(r|=Yy(i,"missing",e.perfAttempts));r&&(t.properties=i)}(e,l),n&&Sf(e.requestHeaders).length>0&&(l.properties=l.properties||{},l.properties.requestHeaders=e.requestHeaders),i){var s=i();if(s){var o=s.correlationContext;if(o&&(l.correlationContext=o),s.headerMap&&Sf(s.headerMap).length>0&&(l.properties=l.properties||{},l.properties.responseHeaders=s.headerMap),e.errorStatusText&&e.status>=400){var a=s.type;l.properties=l.properties||{},""!==a&&"text"!==a||(l.properties.responseText=s.responseText?s.statusText+" - "+s.responseText:s.statusText),"json"===a&&(l.properties.responseText=s.response?s.statusText+" - "+JSON.stringify(s.response):s.statusText)}}}return l}}))},tb=function(){function e(t,n){this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,this.traceId=t&&e.isValidTraceId(t)?t:qg(),this.spanId=n&&e.isValidSpanId(n)?n:qg().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.toString=function(){return"".concat(this.version,"-").concat(this.traceId,"-").concat(this.spanId,"-").concat(this.traceFlag)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}(),nb=0;function ib(e){var t="";try{nf(e)||nf(e.ajaxData)||nf(e.ajaxData.requestUrl)||(t+="(url: '"+e.ajaxData.requestUrl+"')")}catch(n){}return t}function rb(e,t,n,i,r){e.diagLog().throwInternal(Up.CRITICAL,t,n,i,r)}function lb(e,t,n,i,r){e.diagLog().throwInternal(Up.WARNING,t,n,i,r)}function sb(e,t,n){return function(i){rb(e,t,n,{ajaxDiagnosticsMessage:ib(i.inst),exception:Zf(i.err)})}}function ob(e,t){return e&&t?e.indexOf(t):-1}var ab,cb=function(e){function t(){var n=e.call(this)||this;n.identifier=t.identifier,n.priority=120;var i,r,l,s,o,a,c=Bf(),u=!1,h=!1,d=c&&c.host&&c.host.toLowerCase(),p=t.getEmptyConfig(),f=!1,g=!1,m=0,y=!1,b=0,v=!1,w=[],C={};return jp(t,n,(function(e,n){function c(e){var t=!0;return(e||p.ignoreHeaders)&&mf(p.ignoreHeaders,(function(n){if(n.toLowerCase()===e.toLowerCase())return t=!1,-1})),t}function S(e,t,n){w.push(function(e,t,n){return e?Qy(e[zp.k],t,n,!1):null}(e,t,n))}function _(e,t,n){var i=!1,r=((pf(t)?t:(t||{}).url||"")||"").toLowerCase();if(mf(o,(function(e){var t=e;pf(e)&&(t=new RegExp(e)),i||(i=t.test(r))})),i)return i;var l=ob(r,"?"),s=ob(r,"#");return(-1===l||-1!==s&&s<l)&&(l=s),-1!==l&&(r=r.substring(0,l)),nf(e)?nf(t)||(i="object"==typeof t&&!0===t[tm]||!!n&&!0===n[tm]):i=!0===e[tm]||!0===r[tm],!i&&r&&Gm(r)&&(i=!0),i?C[r]||(C[r]=1):C[r]&&(i=!0),i}function x(e,t){var n=!0,i=h;return nf(e)||(n=!0===t||!nf(e.ajaxData)),i&&n}function I(e){try{var t=e.responseType;if(""===t||"text"===t)return e.responseText}catch(n){}return null}function k(t){try{var n=t.getAllResponseHeaders();if(null!==n&&-1!==ob(n.toLowerCase(),"request-context")){var i=t.getResponseHeader("Request-Context");return Bm.getCorrelationContext(i)}}catch(r){lb(e,18,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:ib(t),exception:Zf(r)})}}function T(e,t){if(t.requestUrl&&s&&y){var n=Hf();if(n&&of(n.mark)){nb++;var i=s+e+"#"+nb;n.mark(i);var r=n.getEntriesByName(i);r&&1===r.length&&(t.perfMark=r[0])}}}function M(e,t,n,i){var r=t.perfMark,l=Hf(),s=p.maxAjaxPerfLookupAttempts,o=p.ajaxPerfLookupDelay,a=t.requestUrl,c=0;!function u(){try{if(l&&r){c++;for(var h=null,d=l.getEntries(),p=d.length-1;p>=0;p--){var f=d[p];if(f){if("resource"===f.entryType)f.initiatorType!==e||-1===ob(f.name,a)&&-1===ob(a,f.name)||(h=f);else if("mark"===f.entryType&&f.name===r.name){t.perfTiming=h;break}if(f.startTime<r.startTime-1e3)break}}}!r||t.perfTiming||c>=s||!1===t.async?(r&&of(l.clearMarks)&&l.clearMarks(r.name),t.perfAttempts=c,n()):setTimeout(u,o)}catch(g){i(g)}}()}function E(t){var n="";try{nf(t)||(n+="(url: '".concat("string"==typeof t?t:t.url,"')"))}catch(i){rb(e,15,"Failed to grab failed fetch diagnostics message",{exception:Zf(i)})}return n}function P(t,n,i,r,l,s,o){function c(t,n,r){var l=r||{};l.fetchDiagnosticsMessage=E(i),n&&(l.exception=Zf(n)),lb(e,t,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",l)}l&&(l.responseFinishedTime=Hm(),l.status=n,M("fetch",l,(function(){var t,o=l.CreateTrackItem("Fetch",f,s);try{a&&(t=a({status:n,request:i,response:r}))}catch(u){lb(e,104,"Failed to add custom defined request context as configured call back may missing a null check.")}o?(void 0!==t&&(o.properties=Object(_p.a)(Object(_p.a)({},o.properties),t)),e.trackDependencyDataInternal(o)):c(14,null,{requestSentTime:l.requestSentTime,responseFinishedTime:l.responseFinishedTime})}),(function(e){c(18,e,null)})))}function O(t){if(t&&t.headers)try{var n=t.headers.get("Request-Context");return Bm.getCorrelationContext(n)}catch(i){lb(e,18,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:E(t),exception:Zf(i)})}}e.initialize=function(d,m,C,E){if(!e.isInitialized()){n.initialize(d,m,C,E);var D=e._getTelCtx();cf(t.getDefaultConfig(),(function(e,n){p[e]=D.getConfig(t.identifier,e,n)}));var N=p.distributedTracingMode;if(f=p.enableRequestHeaderTracking,g=p.enableAjaxErrorStatusText,b=p.maxAjaxCallsPerView,v=p.enableResponseHeaderTracking,o=p.excludeRequestFromAutoTrackingPatterns,a=p.addRequestContext,l=N===Sm.AI||N===Sm.AI_AND_W3C,r=N===Sm.AI_AND_W3C||N===Sm.W3C,y=p.enableAjaxPerfTracking){var R=d.instrumentationKey||"unkwn";s=R.length>5?"ai.ajxmn."+R.substring(R.length-5)+".":"ai.ajxmn."+R+"."}if(!1===p.disableAjaxTracking&&function(e){var t=!1;if(eg()){var n=XMLHttpRequest[zp.k];t=!(nf(n)||nf(n.open)||nf(n.send)||nf(n.abort))}var i=Qf();if(i&&i<9&&(t=!1),t)try{(new XMLHttpRequest).ajaxData={};var r=XMLHttpRequest[zp.k].open;XMLHttpRequest[zp.k].open=r}catch(l){t=!1,rb(e,15,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:Zf(l)})}return t}(e)&&!h&&(S(XMLHttpRequest,"open",{req:function(t,n,r,l){var s=t.inst,o=s.ajaxData;!_(s,r)&&x(s,!0)&&(o&&o.xhrMonitoringState.openDone||function(t,n,r,l){var s=i&&i.telemetryTrace&&i.telemetryTrace.traceID||qg(),o=qg().substr(0,16),a=new eb(s,o,e.diagLog());a.method=n,a.requestUrl=r,a.xhrMonitoringState.openDone=!0,a.requestHeaders={},a.async=l,a.errorStatusText=g,t.ajaxData=a}(s,n,r,l),function(t){t.ajaxData.xhrMonitoringState.stateChangeAttached=af(t,"readystatechange",(function(){try{t&&4===t.readyState&&x(t)&&function(t){var n=t.ajaxData;function i(n,i){var r=i||{};r.ajaxDiagnosticsMessage=ib(t),n&&(r.exception=Zf(n)),lb(e,14,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",r)}n.responseFinishedTime=Hm(),n.status=t.status,M("xmlhttprequest",n,(function(){try{var r=n.CreateTrackItem("Ajax",f,(function(){var e={statusText:t.statusText,headerMap:null,correlationContext:k(t),type:t.responseType,responseText:I(t),response:t.response};if(v){var n=t.getAllResponseHeaders();if(n){var i=vf(n).split(/[\r\n]+/),r={};mf(i,(function(e){var t=e.split(": "),n=t.shift(),i=t.join(": ");c(n)&&(r[n]=i)})),e.headerMap=r}}return e})),l=void 0;try{a&&(l=a({status:t.status,xhr:t}))}catch(s){lb(e,104,"Failed to add custom defined request context as configured call back may missing a null check.")}r?(void 0!==l&&(r.properties=Object(_p.a)(Object(_p.a)({},r.properties),l)),e.trackDependencyDataInternal(r)):i(null,{requestSentTime:n.requestSentTime,responseFinishedTime:n.responseFinishedTime})}finally{try{t.ajaxData=null}catch(s){}}}),(function(e){i(e,null)}))}(t)}catch(i){var n=Zf(i);n&&-1!==ob(n.toLowerCase(),"c00c023f")||rb(e,16,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:ib(t),exception:n})}}))}(s))},hkErr:sb(e,15,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),S(XMLHttpRequest,"send",{req:function(t,n){var i=t.inst,r=i.ajaxData;x(i)&&!r.xhrMonitoringState.sendDone&&(T("xhr",r),r.requestSentTime=Hm(),e.includeCorrelationHeaders(r,void 0,void 0,i),r.xhrMonitoringState.sendDone=!0)},hkErr:sb(e,17,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),S(XMLHttpRequest,"abort",{req:function(e){var t=e.inst,n=t.ajaxData;x(t)&&!n.xhrMonitoringState.abortDone&&(n.aborted=1,n.xhrMonitoringState.abortDone=!0)},hkErr:sb(e,13,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),f&&S(XMLHttpRequest,"setRequestHeader",{req:function(e,t,n){var i=e.inst;x(i)&&c(t)&&(i.ajaxData.requestHeaders[t]=n)},hkErr:sb(e,71,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),h=!0),function(){var t,n=!(t=Object(xp.a)())||nf(t.Request)||nf(t.Request[zp.k])||nf(t.fetch)?null:t.fetch;if(n){var r=Object(xp.a)(),l=n.polyfill;!1===p.disableFetchTracking?(w.push(Qy(r,"fetch",{req:function(t,n,r){var s;if(u&&!_(null,n,r)&&(!l||!h)){var o=t.ctx();s=function(t,n){var r=i&&i.telemetryTrace&&i.telemetryTrace.traceID||qg(),l=qg().substr(0,16),s=new eb(r,l,e.diagLog());s.requestSentTime=Hm(),s.errorStatusText=g,s.requestUrl=t instanceof Request?t?t.url:"":t;var o="GET";n&&n.method?o=n.method:t&&t instanceof Request&&(o=t.method),s.method=o;var a={};return f&&new Headers((n?n.headers:0)||t instanceof Request&&t.headers||{}).forEach((function(e,t){c(t)&&(a[t]=e)})),s.requestHeaders=a,T("fetch",s),s}(n,r);var a=e.includeCorrelationHeaders(s,n,r);a!==r&&t.set(1,a),o.data=s}},rsp:function(e,t){var n=e.ctx().data;n&&(e.rslt=e.rslt.then((function(e){return P(0,(e||{}).status,t,e,n,(function(){var t={statusText:e.statusText,headerMap:null,correlationContext:O(e)};if(v){var n={};e.headers.forEach((function(e,t){c(t)&&(n[t]=e)})),t.headerMap=n}return t})),e})).catch((function(e){throw P(0,0,t,null,n,null),e})))},hkErr:sb(e,15,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),u=!0):l&&w.push(Qy(r,"fetch",{req:function(e,t,n){_(null,t,n)}})),l&&(r.fetch.polyfill=l)}}(),C.length>0&&C){for(var A=void 0,L=0;!A&&L<C.length;)C[L]&&"AppInsightsPropertiesPlugin"===C[L].identifier&&(A=C[L]),L++;A&&(i=A.context)}}},e.teardown=function(){mf(w,(function(e){e.rm()})),w=[],u=!1,h=!1,e.setInitialized(!1)},e.trackDependencyData=function(t,n){e.trackDependencyDataInternal(t,n)},e.includeCorrelationHeaders=function(t,n,s,o){var a,c,u=e._currentWindowHost||d;if(n){if(Bm.canIncludeCorrelationHeader(p,t.getAbsoluteUrl(),u)&&(s||(s={}),s.headers=new Headers(s.headers||n instanceof Request&&n.headers||{}),l&&(s.headers.set("Request-Id",a="|"+t.traceID+"."+t.spanID),f&&(t.requestHeaders["Request-Id"]=a)),(c=p.appId||i&&i.appId())&&(s.headers.set("Request-Context","appId=cid-v1:"+c),f&&(t.requestHeaders["Request-Context"]="appId=cid-v1:"+c)),r)){var h=new tb(t.traceID,t.spanID);s.headers.set("traceparent",h.toString()),f&&(t.requestHeaders.traceparent=h.toString())}return s}if(o)return Bm.canIncludeCorrelationHeader(p,t.getAbsoluteUrl(),u)&&(l&&(o.setRequestHeader("Request-Id",a="|"+t.traceID+"."+t.spanID),f&&(t.requestHeaders["Request-Id"]=a)),(c=p.appId||i&&i.appId())&&(o.setRequestHeader("Request-Context","appId=cid-v1:"+c),f&&(t.requestHeaders["Request-Context"]="appId=cid-v1:"+c)),r&&(h=new tb(t.traceID,t.spanID),o.setRequestHeader("traceparent",h.toString()),f&&(t.requestHeaders.traceparent=h.toString()))),o},e.trackDependencyDataInternal=function(t,n,i){if(-1===b||m<b){p.distributedTracingMode!==Sm.W3C&&p.distributedTracingMode!==Sm.AI_AND_W3C||"string"!=typeof t.id||"."===t.id[t.id.length-1]||(t.id+="."),nf(t.startTime)&&(t.startTime=new Date);var r=nm.create(t,Km.dataType,Km.envelopeType,e.diagLog(),n,i);e.core.track(r)}else m===b&&rb(e,55,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++m}})),n}return Object(_p.b)(t,e),t.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:Sm.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"],addRequestContext:void 0}},t.getEmptyConfig=function(){var e=this.getDefaultConfig();return cf(e,(function(t){e[t]=void 0})),e},t.prototype.processTelemetry=function(e,t){this.processNext(e,t)},t.identifier="AjaxDependencyPlugin",t}(yg),ub=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],hb=function(){function e(e){this._snippetVersion=""+(e.sv||e.version||""),e.queue=e.queue||[],e.version=e.version||2;var t=e.config||{};if(t.connectionString){var n=function(e){if(!e)return{};var t=function(e,t,n){var i;if(e){if(e.reduce)return e.reduce(t,n);var r=e.length,l=0;if(arguments.length>=3)i=arguments[2];else{for(;l<r&&!(l in e);)l++;i=e[l++]}for(;l<r;)l in e&&(i=t(i,e[l],l,e)),l++}return i}(e.split(";"),(function(e,t){var n=t.split("=");return 2===n.length&&(e[n[0].toLowerCase()]=n[1]),e}),{});return Sf(t).length>0&&(t.endpointsuffix&&(t.ingestionendpoint=t.ingestionendpoint||"https://"+(t.location?t.location+".":"")+"dc."+t.endpointsuffix),t.ingestionendpoint=t.ingestionendpoint||"https://dc.services.visualstudio.com"),t}(t.connectionString),i=n.ingestionendpoint;t.endpointUrl=i?"".concat(i,"/v2/track"):t.endpointUrl,t.instrumentationKey=n.instrumentationkey||t.instrumentationKey}this.appInsights=new Jm,this.properties=new Hy,this.dependencies=new cb,this.core=new $g,this._sender=new Ny,this.snippet=e,this.config=t,this.getSKUDefaults()}return e.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},e.prototype.trackEvent=function(e,t){this.appInsights.trackEvent(e,t)},e.prototype.trackPageView=function(e){this.appInsights.trackPageView(e||{})},e.prototype.trackPageViewPerformance=function(e){this.appInsights.trackPageViewPerformance(e||{})},e.prototype.trackException=function(e,t){e&&!e.exception&&e.error&&(e.exception=e.error),this.appInsights.trackException(e,t)},e.prototype._onerror=function(e){this.appInsights._onerror(e)},e.prototype.trackTrace=function(e,t){this.appInsights.trackTrace(e,t)},e.prototype.trackMetric=function(e,t){this.appInsights.trackMetric(e,t)},e.prototype.startTrackPage=function(e){this.appInsights.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,n,i){this.appInsights.stopTrackPage(e,t,n,i)},e.prototype.startTrackEvent=function(e){this.appInsights.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,n){this.appInsights.stopTrackEvent(e,t,n)},e.prototype.addTelemetryInitializer=function(e){return this.appInsights.addTelemetryInitializer(e)},e.prototype.setAuthenticatedUserContext=function(e,t,n){void 0===n&&(n=!1),this.properties.context.user.setAuthenticatedUserContext(e,t,n)},e.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},e.prototype.trackDependencyData=function(e){this.dependencies.trackDependencyData(e)},e.prototype.flush=function(e){var t=this;void 0===e&&(e=!0),pg(this.core,(function(){return"AISKU.flush"}),(function(){mf(t.core.getTransmissionControls(),(function(t){mf(t,(function(t){t.flush(e)}))}))}),null,e)},e.prototype.onunloadFlush=function(e){void 0===e&&(e=!0),mf(this.core.getTransmissionControls(),(function(t){mf(t,(function(t){t.onunloadFlush?t.onunloadFlush():t.flush(e)}))}))},e.prototype.loadAppInsights=function(e,t,n){var i=this;void 0===e&&(e=!1);var r=this;return e&&r.config.extensions&&r.config.extensions.length>0&&Pf("Extensions not allowed in legacy mode"),pg(r.core,(function(){return"AISKU.loadAppInsights"}),(function(){var l=[];l.push(r._sender),l.push(r.properties),l.push(r.dependencies),l.push(r.appInsights),r.core.initialize(r.config,l,t,n),r.context=r.properties.context,ab&&r.context&&(r.context.internal.sdkSrc=ab),function(t){if(t){var n="";nf(r._snippetVersion)||(n+=r._snippetVersion),e&&(n+=".lg"),r.context&&r.context.internal&&(r.context.internal.snippetVer=n||"-"),cf(r,(function(e,n){pf(e)&&!of(n)&&e&&"_"!==e[0]&&-1===ub.indexOf(e)&&(t[e]=n)}))}}(r.snippet),r.emptyQueue(),r.pollInternalLogs(),r.addHousekeepingBeforeUnload(i)})),r},e.prototype.updateSnippetDefinitions=function(e){!function(e,t,n){if(e&&t&&e!==t&&sf(e)&&sf(t)){var i=function(i){if(pf(i)){var r=t[i];of(r)?n&&!n(i)||(e[i]=(l=i,function(){var e=arguments;return t[l].apply(t,e)})):n&&!n(i)||(lf(e,i)&&delete e[i],_f(e,i,(function(){return t[i]}),(function(e){t[i]=e}))||(e[i]=r))}var l};for(var r in t)i(r)}}(e,this,(function(e){return e&&-1===ub.indexOf(e)}))},e.prototype.emptyQueue=function(){try{if(hf(this.snippet.queue)){for(var e=this.snippet.queue.length,t=0;t<e;t++)(0,this.snippet.queue[t])();this.snippet.queue=void 0,delete this.snippet.queue}}catch(n){n&&of(n.toString)&&n.toString()}},e.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},e.prototype.stopPollingInternalLogs=function(){this.core.stopPollingInternalLogs()},e.prototype.addHousekeepingBeforeUnload=function(e){if($f()||Uf()){var t=function(){e.onunloadFlush(!1),mf(e.appInsights.core._extensions,(function(e){if("AppInsightsPropertiesPlugin"===e.identifier)return e&&e.context&&e.context._sessionManager&&e.context._sessionManager.backup(),-1}))},n=!1,i=e.appInsights.config.disablePageUnloadEvents;e.appInsights.config.disableFlushOnBeforeUnload||(n=function e(t,n,i){var r=!1;if(n&&t&&hf(t)){var l=[];mf(t,(function(e){pf(e)&&(i&&-1!==yf(i,e)?l.push(e):r=Gg(e,n)||r)})),!r&&l.length>0&&(r=e(l,n))}return r}(["beforeunload","unload","pagehide"],t,i),(n=Bg(t,i)||n)||(r=Gf())&&r.product&&"ReactNative"===r.product||e.appInsights.core.logger.throwInternal(Up.CRITICAL,19,"Could not add handler for beforeunload and pagehide")),n||e.appInsights.config.disableFlushOnUnload||Bg(t,i)}var r},e.prototype.getSender=function(){return this._sender},e.prototype.getSKUDefaults=function(){this.config.diagnosticLogInterval=this.config.diagnosticLogInterval&&this.config.diagnosticLogInterval>0?this.config.diagnosticLogInterval:1e4},e}();!function(){var e=null,t=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var n=(document||{}).currentScript;n&&(e=n.src)}catch(s){}if(e)try{var i=e.toLowerCase();if(i)for(var r="",l=0;l<t.length;l++)if(-1!==i.indexOf(t[l])){r="cdn"+(l+1),-1===i.indexOf("/scripts/")&&(-1!==i.indexOf("/next/")?r+="-next":-1!==i.indexOf("/beta/")&&(r+="-beta")),ab=r+"";break}}catch(s){}}();class db{}class pb{}class fb{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),i=n.toLowerCase(),r=e.slice(t+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const i=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof fb?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new fb;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof fb?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":const r=e.value;if(r){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===r.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class gb{encodeKey(e){return mb(e)}encodeValue(e){return mb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function mb(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class yb{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new gb,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const i=e.indexOf("="),[r,l]=-1==i?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,i)),t.decodeValue(e.slice(i+1))],s=n.get(r)||[];s.push(l),n.set(r,s)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).join("&")}clone(e){const t=new yb({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function bb(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function vb(e){return"undefined"!=typeof Blob&&e instanceof Blob}function wb(e){return"undefined"!=typeof FormData&&e instanceof FormData}class Cb{constructor(e,t,n,i){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new fb),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new yb,this.urlWithParams=t}serializeBody(){return null===this.body?null:bb(this.body)||vb(this.body)||wb(this.body)||"string"==typeof this.body?this.body:this.body instanceof yb?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wb(this.body)?null:vb(this.body)?this.body.type||null:bb(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof yb?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let o=e.headers||this.headers,a=e.params||this.params;return void 0!==e.setHeaders&&(o=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),o)),e.setParams&&(a=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),a)),new Cb(t,n,r,{params:a,headers:o,reportProgress:s,responseType:i,withCredentials:l})}}const Sb=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class _b{constructor(e,t=200,n="OK"){this.headers=e.headers||new fb,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class xb extends _b{constructor(e={}){super(e),this.type=Sb.ResponseHeader}clone(e={}){return new xb({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ib extends _b{constructor(e={}){super(e),this.type=Sb.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ib({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class kb extends _b{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Tb(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class Mb{constructor(e){this.handler=e}request(e,t,n={}){let i;if(e instanceof Cb)i=e;else{let r=void 0;r=n.headers instanceof fb?n.headers:new fb(n.headers);let l=void 0;n.params&&(l=n.params instanceof yb?n.params:new yb({fromObject:n.params})),i=new Cb(e,t,void 0!==n.body?n.body:null,{headers:r,params:l,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Ra(i).pipe(wc(e=>this.handler.handle(e)));if(e instanceof Cb||"events"===n.observe)return r;const l=r.pipe(Ga(e=>e instanceof Ib));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return l.pipe(F(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return l.pipe(F(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return l.pipe(F(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return l.pipe(F(e=>e.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new yb).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,Tb(n,t))}post(e,t,n={}){return this.request("POST",e,Tb(n,t))}put(e,t,n={}){return this.request("PUT",e,Tb(n,t))}}class Eb{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Pb=new _e("HTTP_INTERCEPTORS");class Ob{intercept(e,t){return t.handle(e)}}const Db=/^\)\]\}',?\n/;class Nb{}class Rb{constructor(){}build(){return new XMLHttpRequest}}class Ab{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const i=e.serializeBody();let r=null;const l=()=>{if(null!==r)return r;const t=1223===n.status?204:n.status,i=n.statusText||"OK",l=new fb(n.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return r=new xb({headers:l,status:t,statusText:i,url:s}),r},s=()=>{let{headers:i,status:r,statusText:s,url:o}=l(),a=null;204!==r&&(a=void 0===n.response?n.responseText:n.response),0===r&&(r=a?200:0);let c=r>=200&&r<300;if("json"===e.responseType&&"string"==typeof a){const e=a;a=a.replace(Db,"");try{a=""!==a?JSON.parse(a):null}catch(u){a=e,c&&(c=!1,a={error:u,text:a})}}c?(t.next(new Ib({body:a,headers:i,status:r,statusText:s,url:o||void 0})),t.complete()):t.error(new kb({error:a,headers:i,status:r,statusText:s,url:o||void 0}))},o=e=>{const{url:i}=l(),r=new kb({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});t.error(r)};let a=!1;const c=i=>{a||(t.next(l()),a=!0);let r={type:Sb.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===e.responseType&&n.responseText&&(r.partialText=n.responseText),t.next(r)},u=e=>{let n={type:Sb.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",s),n.addEventListener("error",o),e.reportProgress&&(n.addEventListener("progress",c),null!==i&&n.upload&&n.upload.addEventListener("progress",u)),n.send(i),t.next({type:Sb.Sent}),()=>{n.removeEventListener("error",o),n.removeEventListener("load",s),e.reportProgress&&(n.removeEventListener("progress",c),null!==i&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}const Lb=new _e("XSRF_COOKIE_NAME"),Fb=new _e("XSRF_HEADER_NAME");class $b{}class Vb{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ra(e,this.cookieName),this.lastCookieString=e),this.lastToken}}class Ub{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}class jb{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(Pb,[]);this.chain=e.reduceRight((e,t)=>new Eb(e,t),this.backend)}return this.chain.handle(e)}}class zb{static disable(){return{ngModule:zb,providers:[{provide:Ub,useClass:Ob}]}}static withOptions(e={}){return{ngModule:zb,providers:[e.cookieName?{provide:Lb,useValue:e.cookieName}:[],e.headerName?{provide:Fb,useValue:e.headerName}:[]]}}}class Gb{}var Bb=function(e){return e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical",e}({});let Hb=(()=>{class e{constructor(e,t){this.http=e,this.baseUrl=t,this.isEnabled=!1,this.apiIconLibraryFontPrefix="api/iconlibraryfont/",this.settings={},this.isReady=new I,this.isReady$=this.isReady.asObservable(),this.trackPageView=(e,t,n,i,r)=>{this.shortCircuit(this.appInsights,"trackPageView")||((n=n||{}).urlReferrer=document.referrer,this.appInsights.trackPageView(e,t,n,i,r))},this.trackEvent=(e,t,n)=>{this.shortCircuit(this.appInsights,"logEvent")||this.appInsights.trackEvent(e,t,n)},this.trackTrace=(e,t,n)=>{this.shortCircuit(this.appInsights,"logTrace")||this.appInsights.trackTrace(e,t,n)},this.trackException=(e,t,n,i,r)=>{this.shortCircuit(this.appInsights,"logTrace")||this.appInsights.trackException(e,t,n,i,r)},this.testTrackApis=()=>{const e={testProperty1:"Test Property 1",testProperty2:"Test Property 2"},t={testMeasurement1:12.345,testMeasurement2:6.78,testMeasurement3:9},n=new Error("Test Exception");this.trackPageView("Test Name","http://test-url",e,t,12345),this.trackTrace("Test Message",e,Bb.Information),this.trackEvent("Test Name",e,t),this.trackException(n,"Test Handled At")},this.settings=ro,this.isEnabled=this.settings.enabled||!1,this.isDebugMode=this.settings.isDebugMode||!1,this.settings.config&&this.settings.config.instrumentationKey.length>0&&(this.appInsights=new hb(this.settings),this.appInsights&&(this.appInsights.loadAppInsights(),this.appInsights.trackPageView(),this.isReady.next(!0)))}setAuthenticatedUser(){this.http.get(this.baseUrl+this.apiIconLibraryFontPrefix+"userprofile").toPromise().then(e=>ao(()=>this.addTelemetryInitializer(e),null,null,this.isDebugMode))}addTelemetryInitializer(e){return!(this.shortCircuit(this.appInsights,"setAuthenticatedUser")||!this.appInsights.context||"function"!=typeof window.appInsights.context.addTelemetryInitializer||(this.appInsights.context.addTelemetryInitializer(t=>{var n=t.data.baseData;n.properties=n.properties||{},this.settings.includeUserContext&&(n.properties.userName=e.userName,n.properties.userEmail=e.userEmail,n.properties.userTitle=e.userTitle)}),0))}shortCircuit(e,t){return!e&&this.settings&&this.settings.isDebugMode&&console.warn(`app-insights.service : ${t} called but service methods not yet loaded.`),!e}}return e.ngInjectableDef=ue({factory:function(){return new e(Pe(Mb),Pe("BASE_URL"))},token:e,providedIn:"root"}),e})();var qb=function(e){return e.ApplicationLoaded="Application Loaded",e.CollectionSelected="[Fonts] Collection Selected",e.CollectionMetadataChanged="[Fonts] Collection Metadata Changed",e}({});class Kb{constructor(e){this.payload=e,this.type=qb.CollectionSelected}}class Wb{constructor(e){this.payload=e,this.type=qb.CollectionMetadataChanged}}class Qb extends h{constructor(e,t){super()}schedule(e,t=0){return this}}class Zb extends Qb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,i=void 0;try{this.work(e)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}class Xb extends Zb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}let Yb=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class Jb extends Yb{constructor(e,t=Yb.now){super(e,()=>Jb.delegate&&Jb.delegate!==this?Jb.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return Jb.delegate&&Jb.delegate!==this?Jb.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}class ev extends Jb{}const tv=new ev(Xb);let nv=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return Ra(this.value);case"E":return e=this.error,new w(t=>t.error(e));case"C":return Ua()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();class iv{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new rv(e,this.scheduler,this.delay))}}class rv extends f{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(rv.dispatch,this.delay,new lv(e,this.destination)))}_next(e){this.scheduleMessage(nv.createNext(e))}_error(e){this.scheduleMessage(nv.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(nv.createComplete()),this.unsubscribe()}}class lv{constructor(e,t){this.notification=e,this.destination=t}}function sv(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new ov(e,n))}}class ov{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new av(e,this.observables,this.project))}}class av extends L{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const i=t.length;this.values=new Array(i);for(let r=0;r<i;r++)this.toRespond.push(r);for(let r=0;r<i;r++){let e=t[r];this.add(A(this,e,e,r))}}notifyNext(e,t,n,i,r){this.values[n]=t;const l=this.toRespond;if(l.length>0){const e=l.indexOf(n);-1!==e&&l.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class cv{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new uv(e,this.compare,this.keySelector))}}class uv extends f{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}const hv="@ngrx/store/init";class dv extends yo{constructor(){super({type:hv})}next(e){if("function"==typeof e)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===e)throw new TypeError("Actions must be objects");if(void 0===e.type)throw new TypeError("Actions must have a type property");super.next(e)}complete(){}ngOnDestroy(){super.complete()}}const pv=new _e("@ngrx/store Internal Root Guard"),fv=new _e("@ngrx/store Internal Initial State"),gv=new _e("@ngrx/store Initial State"),mv=new _e("@ngrx/store Reducer Factory"),yv=new _e("@ngrx/store Internal Reducer Factory Provider"),bv=new _e("@ngrx/store Initial Reducers"),vv=new _e("@ngrx/store Internal Initial Reducers"),wv=new _e("@ngrx/store Store Features"),Cv=new _e("@ngrx/store Internal Store Reducers"),Sv=new _e("@ngrx/store Internal Feature Reducers"),_v=new _e("@ngrx/store Internal Feature Configs"),xv=new _e("@ngrx/store Internal Store Features"),Iv=new _e("@ngrx/store Internal Feature Reducers Token"),kv=new _e("@ngrx/store Feature Reducers"),Tv=new _e("@ngrx/store User Provided Meta Reducers"),Mv=new _e("@ngrx/store Meta Reducers"),Ev=new _e("@ngrx/store Internal Resolved Meta Reducers"),Pv=new _e("@ngrx/store User Runtime Checks Config"),Ov=new _e("@ngrx/store Internal User Runtime Checks Config"),Dv=new _e("@ngrx/store Internal Runtime Checks");function Nv(e,t={}){const n=Object.keys(e),i={};for(let l=0;l<n.length;l++){const t=n[l];"function"==typeof e[t]&&(i[t]=e[t])}const r=Object.keys(i);return function(e,n){e=void 0===e?t:e;let l=!1;const s={};for(let t=0;t<r.length;t++){const o=r[t],a=e[o],c=(0,i[o])(a,n);s[o]=c,l=l||c!==a}return l?s:e}}function Rv(...e){return function(t){if(0===e.length)return t;const n=e[e.length-1];return e.slice(0,-1).reduceRight((e,t)=>t(e),n(t))}}function Av(e,t){return Array.isArray(t)&&t.length>0&&(e=Rv.apply(null,[...t,e])),(t,n)=>{const i=e(t);return(e,t)=>i(e=void 0===e?n:e,t)}}class Lv extends w{}class Fv extends dv{}class $v extends yo{constructor(e,t,n,i){super(i(n,t)),this.dispatcher=e,this.initialState=t,this.reducers=n,this.reducerFactory=i}addFeature(e){this.addFeatures([e])}addFeatures(e){const t=e.reduce((e,{reducers:t,reducerFactory:n,metaReducers:i,initialState:r,key:l})=>{const s="function"==typeof t?function(e){const t=Array.isArray(e)&&e.length>0?Rv(...e):e=>e;return(e,n)=>(e=t(e),(t,i)=>e(t=void 0===t?n:t,i))}(i)(t,r):Av(n,i)(t,r);return e[l]=s,e},{});this.addReducers(t)}removeFeature(e){this.removeFeatures([e])}removeFeatures(e){this.removeReducers(e.map(e=>e.key))}addReducer(e,t){this.addReducers({[e]:t})}addReducers(e){this.reducers=Object.assign({},this.reducers,e),this.updateReducers(Object.keys(e))}removeReducer(e){this.removeReducers([e])}removeReducers(e){e.forEach(e=>{var t,n;this.reducers=(t=this.reducers,n=e,Object.keys(t).filter(e=>e!==n).reduce((e,n)=>Object.assign(e,{[n]:t[n]}),{}))}),this.updateReducers(e)}updateReducers(e){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:e})}ngOnDestroy(){this.complete()}}class Vv extends I{ngOnDestroy(){this.complete()}}class Uv extends w{}let jv=(()=>{class e extends yo{constructor(e,t,n,i){super(i);const r=e.pipe(function(e,t=0){return function(n){return n.lift(new iv(e,t))}}(tv)).pipe(sv(t)).pipe(yc(zv,{state:i}));this.stateSubscription=r.subscribe(({state:e,action:t})=>{this.next(e),n.next(t)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return e.INIT=hv,e})();function zv(e={state:void 0},[t,n]){const{state:i}=e;return{state:n(i,t),action:t}}class Gv extends w{constructor(e,t,n){super(),this.actionsObserver=t,this.reducerManager=n,this.source=e}select(e,...t){return Bv.call(null,e,...t)(this)}lift(e){const t=new Gv(this,this.actionsObserver,this.reducerManager);return t.operator=e,t}dispatch(e){this.actionsObserver.next(e)}next(e){this.actionsObserver.next(e)}error(e){this.actionsObserver.error(e)}complete(){this.actionsObserver.complete()}addReducer(e,t){this.reducerManager.addReducer(e,t)}removeReducer(e){this.reducerManager.removeReducer(e)}}function Bv(e,t,...n){return function(i){let r;if("string"==typeof e){const l=[t,...n].filter(Boolean);r=i.pipe(function(...e){const t=e.length;if(0===t)throw new Error("list of properties cannot be empty.");return n=>F(function(e,t){return n=>{let i=n;for(let r=0;r<t;r++){const t=i[e[r]];if(void 0===t)return;i=t}return i}}(e,t))(n)}(e,...l))}else{if("function"!=typeof e)throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);r=i.pipe(F(n=>e(n,t)))}return r.pipe(e=>e.lift(new cv(void 0,void 0)))}}function Hv(e,t){return e===t}function qv(e,t,n){for(let i=0;i<e.length;i++)if(!n(e[i],t[i]))return!0;return!1}function Kv(e,t=Hv,n=Hv){let i,r=null,l=null;return{memoized:function(){if(void 0!==i)return i;if(!r)return l=e.apply(null,arguments),r=arguments,l;if(!qv(arguments,r,t))return l;const s=e.apply(null,arguments);return r=arguments,n(l,s)?l:(l=s,s)},reset:function(){r=null,l=null},setResult:function(e){i=e}}}function Wv(...e){return function(e,t={stateFn:Qv}){return function(...n){let i=n;if(Array.isArray(i[0])){const[e,...t]=i;i=[...e,...t]}const r=i.slice(0,i.length-1),l=i[i.length-1],s=r.filter(e=>e.release&&"function"==typeof e.release),o=e((function(...e){return l.apply(null,e)})),a=Kv((function(e,n){return t.stateFn.apply(null,[e,r,n,o])}));return Object.assign(a.memoized,{release:function(){a.reset(),o.reset(),s.forEach(e=>e.release())},projector:o.memoized,setResult:a.setResult})}}(Kv)(...e)}function Qv(e,t,n,i){if(void 0===n){const n=t.map(t=>t(e));return i.memoized.apply(null,n)}const r=t.map(t=>t(e,n));return i.memoized.apply(null,[...r,n])}function Zv(e){return Wv(t=>{const n=t[e];return qe()&&!(e in t)&&console.warn(`@ngrx/store: The feature name "${e}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${e}', ...) or StoreModule.forFeature('${e}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),n},e=>e)}function Xv(e){return void 0===e}function Yv(e){return null===e}function Jv(e){return Array.isArray(e)}function ew(e){return"object"==typeof e&&null!==e}function tw(e){return"function"==typeof e}function nw(e){Object.freeze(e);const t=tw(e);return Object.getOwnPropertyNames(e).forEach(n=>{if(function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,n)&&(!t||"caller"!==n&&"callee"!==n&&"arguments"!==n)){const t=e[n];!ew(t)&&!tw(t)||Object.isFrozen(t)||nw(t)}}),e}function iw(e,t=[]){return(Xv(e)||Yv(e))&&0===t.length?{path:["root"],value:e}:Object.keys(e).reduce((n,i)=>{if(n)return n;const r=e[i];return!(Xv(r)||Yv(r)||function(e){return"number"==typeof e}(r)||function(e){return"boolean"==typeof e}(r)||function(e){return"string"==typeof e}(r)||Jv(r))&&(function(e){if(!function(e){return ew(e)&&!Jv(e)}(e))return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}(r)?iw(r,[...t,i]):{path:[...t,i],value:r})},!1)}function rw(e,t){if(!1===e)return;const n=e.path.join("."),i=new Error(`Detected unserializable ${t} at "${n}"`);throw i.value=e.value,i.unserializablePath=n,i}function lw(e){return qe()?(void 0===e&&console.warn("@ngrx/store: runtime checks are currently opt-in but will be the default in the next major version with the possibility to opt-out, see https://ngrx.io/guide/migration/v8 for more information."),Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1},e)):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1}}function sw({strictActionSerializability:e,strictStateSerializability:t}){return n=>e||t?function(e,t){return function(n,i){t.action&&rw(iw(i),"action");const r=e(n,i);return t.state&&rw(iw(r),"state"),r}}(n,{action:e,state:t}):n}function ow({strictActionImmutability:e,strictStateImmutability:t}){return n=>e||t?function(e,t){return function(n,i){const r=t.action?nw(i):i,l=e(n,r);return t.state?nw(l):l}}(n,{action:e,state:t}):n}function aw(e){return e}class cw{constructor(e,t,n,i,r){}}class uw{constructor(e,t,n,i){this.features=e,this.featureReducers=t,this.reducerManager=n;const r=e.map((e,n)=>{const i=t.shift();return Object.assign({},e,{reducers:i[n],initialState:fw(e.initialState)})});n.addFeatures(r)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}function hw(e,t){return t instanceof _e?e.get(t):t}function dw(e,t,n){return n.map((n,i)=>{if(t[i]instanceof _e){const r=e.get(t[i]);return{key:n.key,reducerFactory:r.reducerFactory?r.reducerFactory:Nv,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return n})}function pw(e,t){return t.map(t=>t instanceof _e?e.get(t):t)}function fw(e){return"function"==typeof e?e():e}function gw(e,t){return e.concat(t)}function mw(e){if(e)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}class yw{constructor(e,t,n){this.name=e,this.iconCount=t,this.isSelected=n}}class bw extends yw{constructor(e,t,n,i,r){super(e,t,n),this.name=e,this.iconCount=t,this.isSelected=n,this.internalKey=i,this.libraryName=r}}class vw extends bw{constructor(e,t,n,i,r,l,s,o,a,c,u,h){super(e,s,!1,u,h),this.name=e,this.latestVersion=t,this.fontFiles=n,this.baseFileName=i,this.createdOn=r,this.modifiedOn=l,this.iconCount=s,this.iconType=o,this.supportedSizes=a,this.defaultSize=c,this.internalKey=u,this.libraryName=h}}class ww{constructor(e,t){this.libraryName=e,this.collection=t}}var Cw=function(e){return e[e.xsmall=53]="xsmall",e[e.small=105]="small",e[e.default=113]="default",e[e.large=133]="large",e[e.xlarge=150]="xlarge",e}({});class Sw{constructor(e,t){this.collection=e,this.collectionMetadata$=t}}class _w{constructor(e,t){this.keyedIconSizes=e,this.preferredSize=t}}class xw extends class{constructor(e,t){this.internalKey=e,this.size=t}}{constructor(e,t,n,i,r,l,s,o,a,c,u,h,d,p,f,g,m,y,b){super(e,g),this.internalKey=e,this.glyph=t,this.unicodeValue=n,this.friendlyName=i,this.description=r,this.keywords=l,this.categories=s,this.metaphors=o,this.fonts=a,this.isSelected=c,this.isHidden=u,this.pngBase64Data=h,this.svgKey=d,this.svgXml=p,this.svgPath=f,this.size=g,this.iconGroup=m,this.libraryName=y,this.transformedGlyph=b}}class Iw{constructor(e,t){this.text=e,this.weight=t}}class kw extends yw{constructor(e,t,n,i,r){super(e,t,n),this.name=e,this.iconCount=t,this.isSelected=n,this.collections=i,this.internalKey=r}}class Tw extends yw{constructor(e,t,n,i,r){super(e,t,n),this.name=e,this.iconCount=t,this.isSelected=n,this.libraries=i,this.collections=r}}class Mw{constructor(e,t,n,i,r,l){this.name=e,this.libraryGroupName=t,this.collections=n,this.icons=i,this.alsoLikes=r,this.internalKey=l}}class Ew{constructor(e,t,n,i,r,l,s,o,a,c,u){this.key=e,this.type=t,this.title=n,this.description=i,this.show=r,this.isDismissible=l,this.startDate=s,this.endDate=o,this.linkText=a,this.linkUrl=c,this.libraryContext=u}}var Pw=function(e){return e[e.alert=0]="alert",e[e.informational=1]="informational",e}({});class Ow{constructor(e,t){this.component=e,this.data=t}}var Dw=function(e){return e[e.terms=0]="terms",e[e.keywords=1]="keywords",e[e.library=2]="library",e[e.collection=3]="collection",e}({});class Nw{constructor(e,t){this.libraries=e,this.allAlsoLikes=t}}var Rw=function(e){return e[e.sortBy=0]="sortBy",e[e.viewScale=1]="viewScale",e[e.iconSizes=2]="iconSizes",e}({}),Aw=function(e){return e[e.relevance=0]="relevance",e[e.nameAtoZ=1]="nameAtoZ",e[e.nameZtoA=2]="nameZtoA",e[e.unicodeAsc=3]="unicodeAsc",e[e.unicodeDes=4]="unicodeDes",e}({}),Lw=function(e){return e[e.xsmall=0]="xsmall",e[e.small=1]="small",e[e.default=2]="default",e[e.large=3]="large",e[e.xlarge=4]="xlarge",e}({}),Fw=function(e){return e[e.filterByAll=0]="filterByAll",e[e.filterBySize=1]="filterBySize",e}({});class $w{constructor(e,t){this.name=e,this.options=t}}class Vw{constructor(e,t,n,i){this.label=e,this.actionType=t,this.isSelected=n,this.value=i}}class Uw{constructor(e,t,n){this.libraryName=e,this.collectionName=t,this.internalKey=n}}class jw{constructor(e,t,n,i){this.name=e,this.metaData=t,this.internalKey=n,this.libraryName=i}}var zw=function(e){return e[e.Description=0]="Description",e[e.Category=1]="Category",e[e.Metaphors=2]="Metaphors",e[e.Keywords=3]="Keywords",e}({}),Gw=function(e){return e[e.Pill=0]="Pill",e[e.ClickablePill=1]="ClickablePill",e[e.Text=2]="Text",e}({}),Bw=function(e){return e[e.None=0]="None",e[e.ByName=1]="ByName",e[e.ByWeight=2]="ByWeight",e}({});class Hw{constructor(e,t,n,i,r,l,s,o,a,c,u,h,d,p,f,g,m,y,b,v,w,C,S,_,x){this.collectionsDownloadMetadata=e,this.masterCollectionDownloadMetadata=t,this.collectionsMetadata=n,this.collectionNames=i,this.masterCollectionName=r,this.name=l,this.iconType=s,this.version=o,this.collectionCount=a,this.iconCount=c,this.modifiedOn=u,this.showWarning=h,this.warningText=d,this.requestIconUrl=p,this.copyPreviewAction=f,this.copySize=g,this.copyTypes=m,this.downloadTypes=y,this.downloadSizes=b,this.downloadSize=v,this.metadataItem1=w,this.metadataItem2=C,this.metadataItem3=S,this.libraryGroupName=_,this.internalKey=x}}var qw=function(e){return e[e.browse=0]="browse",e[e.home=1]="home",e[e.search=2]="search",e}({});const Kw={isApplicationLoaded:!1,selected:new Uw("Full MDL2 Assets","Full MDL2 Assets","8f58e9e1e-c4094e9ea"),metadata:new vw("","",[],"","","",0,"",[],0,"","")};function Ww(e=Kw,t){switch(t.type){case qb.ApplicationLoaded:return Object.assign({},e,{isApplicationLoaded:!0});case qb.CollectionSelected:return Object.assign({},e,{selected:t.payload});case qb.CollectionMetadataChanged:return Object.assign({},e,{metadata:t.payload});default:return e}}const Qw=Wv(Zv("navbarState"),e=>e.fonts),Zw=Wv(Qw,e=>e.selected),Xw=Wv(Qw,e=>e.metadata),Yw=(Wv(Qw,e=>e.isApplicationLoaded),(e,t)=>{e.dispatch(new Kb(t))}),Jw=(e,t)=>{e.dispatch(new Wb(t))};var eC=function(e){return e.IconsSelected="[Icons] Icons Selected",e.LoadLibraryMetadata="[Icons] Load Library Metadata",e.LoadLibraryMetadataSuccess="[Icons] Load Library Metadata Success",e.LoadLibraryMetadataError="[Icons] Load Library Metadata Error",e}({});class tC{constructor(e){this.payload=e,this.type=eC.IconsSelected}}class nC{constructor(){this.type=eC.LoadLibraryMetadata}}class iC{constructor(e){this.payload=e,this.type=eC.LoadLibraryMetadataSuccess}}class rC{constructor(e){this.payload=e,this.type=eC.LoadLibraryMetadataError}}var lC=function(e){return e.SearchTerms="[Search] Search Terms",e.SearchKeywords="[Search] Search Keywords",e.SearchImage="[Search] Search Image",e.SearchIcon="[Search] Search Icon",e.SearchAllIcons="[Search] All Icons",e}({});class sC{constructor(e){this.payload=e,this.type=lC.SearchTerms}}class oC{constructor(e){this.payload=e,this.type=lC.SearchKeywords}}class aC{constructor(e){this.payload=e,this.type=lC.SearchImage}}class cC{constructor(e){this.payload=e,this.type=lC.SearchIcon}}class uC{call(e,t){return t.subscribe(new hC(e))}}class hC extends f{_next(e){}}class dC{call(e,t){return t.subscribe(new pC(e))}}class pC extends f{constructor(e){super(e)}_next(e){this.destination.next(nv.createNext(e))}_error(e){const t=this.destination;t.next(nv.createError(e)),t.complete()}_complete(){const e=this.destination;e.next(nv.createComplete()),e.complete()}}function fC(e,t,n,i){return r=>r.lift(new gC(e,t,n,i))}class gC{constructor(e,t,n,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=i}call(e,t){return t.subscribe(new mC(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class mC extends f{constructor(e,t,n,i,r){super(e),this.keySelector=t,this.elementSelector=n,this.durationSelector=i,this.subjectSelector=r,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(e){let t;try{t=this.keySelector(e)}catch(n){return void this.error(n)}this._group(e,t)}_group(e,t){let n=this.groups;n||(n=this.groups=new Map);let i,r=n.get(t);if(this.elementSelector)try{i=this.elementSelector(e)}catch(l){this.error(l)}else i=e;if(!r){r=this.subjectSelector?this.subjectSelector():new I,n.set(t,r);const e=new bC(t,r,this);if(this.destination.next(e),this.durationSelector){let e;try{e=this.durationSelector(new bC(t,r))}catch(l){return void this.error(l)}this.add(e.subscribe(new yC(t,r,this)))}}r.closed||r.next(i)}_error(e){const t=this.groups;t&&(t.forEach((t,n)=>{t.error(e)}),t.clear()),this.destination.error(e)}_complete(){const e=this.groups;e&&(e.forEach((e,t)=>{e.complete()}),e.clear()),this.destination.complete()}removeGroup(e){this.groups.delete(e)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class yC extends f{constructor(e,t,n){super(t),this.key=e,this.group=t,this.parent=n}_next(e){this.complete()}_unsubscribe(){const{parent:e,key:t}=this;this.key=this.parent=null,e&&e.removeGroup(t)}}class bC extends w{constructor(e,t,n){super(),this.key=e,this.groupSubject=t,this.refCountSubscription=n}_subscribe(e){const t=new h,{refCountSubscription:n,groupSubject:i}=this;return n&&!n.closed&&t.add(new vC(n)),t.add(i.subscribe(e)),t}}class vC extends h{constructor(e){super(),this.parent=e,e.count++}unsubscribe(){const e=this.parent;e.closed||this.closed||(super.unsubscribe(),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}class wC{constructor(e){this.project=e}call(e,t){return t.subscribe(new CC(e,this.project))}}class CC extends L{constructor(e,t){super(e),this.project=t,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(e){this.hasSubscription||this.tryNext(e)}tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.hasSubscription=!0,this._innerSub(t,e,n)}_innerSub(e,t,n){const i=new M(this,void 0,void 0);this.destination.add(i),A(this,e,t,n,i)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,i,r){this.destination.next(t)}notifyError(e){this.destination.error(e)}notifyComplete(e){this.destination.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class SC{call(e,t){return t.subscribe(new _C(e))}}class _C extends f{constructor(e){super(e)}_next(e){e.observe(this.destination)}}const xC={dispatch:!0,resubscribeOnError:!0};function IC(e){return Object.getOwnPropertyNames(e).filter(t=>e[t]&&e[t].hasOwnProperty("__@ngrx/effects_create__")).map(t=>Object.assign({propertyName:t},e[t]["__@ngrx/effects_create__"]))}function kC(e){return Object.getPrototypeOf(e)}function TC(e={}){return function(t,n){var i,r;i=t,r=Object.assign({},xC,e,{propertyName:n}),EC(i)?i.constructor["__@ngrx/effects__"].push(r):Object.defineProperty(i.constructor,"__@ngrx/effects__",{value:[r]})}}function MC(e){return Rv(PC,kC)(e)}function EC(e){return e.constructor.hasOwnProperty("__@ngrx/effects__")}function PC(e){return EC(e)?e.constructor["__@ngrx/effects__"]:[]}class OC extends w{constructor(e){super(),e&&(this.source=e)}lift(e){const t=new OC;return t.source=this,t.operator=e,t}}function DC(...e){return Ga(t=>e.some(e=>"string"==typeof e?e===t.type:e.type===t.type))}class NC extends I{constructor(e,t){super(),this.errorHandler=e,this.store=t}addEffects(e){this.next(e),"ngrxOnInitEffects"in e&&"function"==typeof e.ngrxOnInitEffects&&this.store.dispatch(e.ngrxOnInitEffects())}toActions(){return this.pipe(fC(kC),z(e=>e.pipe(fC(RC))),z(e=>{return e.pipe(function e(t,n){return n?i=>i.pipe(e((e,i)=>j(t(e,i)).pipe(F((t,r)=>n(e,t,i,r))))):e=>e.lift(new wC(t))}((t=this.errorHandler,e=>{const n=function(e,t){const n=kC(e).constructor.name;return W(...(i=e,[MC,IC].reduce((e,t)=>e.concat(t(i)),[])).map(({propertyName:i,dispatch:r,resubscribeOnError:l})=>{const s="function"==typeof e[i]?e[i]():e[i],o=l?function e(t,n){return t.pipe(rc(i=>(n&&n.handleError(i),e(t,n))))}(s,t):s;return!1===r?o.pipe((function(e){return e.lift(new uC)})):o.pipe((function(e){return e.lift(new dC)})).pipe(F(t=>({effect:e[i],notification:t,propertyName:i,sourceName:n,sourceInstance:e})))}));var i}(e,t);return function(e){const t=kC(e);return"ngrxOnRunEffects"in t&&"function"==typeof t.ngrxOnRunEffects}(e)?e.ngrxOnRunEffects(n):n})),F(e=>(function(e,t){if("N"===e.notification.kind){const n=e.notification.value;!function(e){return"function"!=typeof e&&e&&e.type&&"string"==typeof e.type}(n)&&t.handleError(new Error(`Effect ${function({propertyName:e,sourceInstance:t,sourceName:n}){const i="function"==typeof t[e];return`"${n}.${String(e)}${i?"()":""}"`}(e)} dispatched an invalid action: ${function(e){try{return JSON.stringify(e)}catch(t){return e}}(n)}`))}}(e,this.errorHandler),e.notification)),Ga(e=>"N"===e.kind),(function(e){return e.lift(new SC)}));var t}))}}function RC(e){return"ngrxOnIdentifyEffects"in e&&"function"==typeof e.ngrxOnIdentifyEffects?e.ngrxOnIdentifyEffects():""}const AC=new _e("@ngrx/effects Internal Root Guard"),LC=new _e("ngrx/effects: Root Effects"),FC=new _e("ngrx/effects: Feature Effects");class $C{constructor(e,t){this.effectSources=e,this.store=t,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}class VC{constructor(e,t,n,i,r,l,s){this.sources=e,t.start(),i.forEach(t=>e.addEffects(t)),n.dispatch({type:"@ngrx/effects/init"})}addEffects(e){this.sources.addEffects(e)}}class UC{constructor(e,t,n,i){t.forEach(t=>t.forEach(t=>e.addEffects(t)))}}function jC(...e){return e}function zC(e){if(e)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}let GC=(()=>{class e{constructor(e,t){this.actions$=e,this.iconApiService=t,this.loadLibraryMetadata$=this.actions$.pipe(DC(eC.LoadLibraryMetadata),pc(()=>this.iconApiService.getAllLibraryData().pipe(F(e=>new iC(e)),rc(e=>Ra(new rC(e))))))}}return lo([TC(),so("design:type",Object)],e.prototype,"loadLibraryMetadata$",void 0),e})();const BC={selected:null,libraryMetadataLoading:!1,libraryMetadataLoaded:!1,libraryMetadata:[]};function HC(e=BC,t){switch(t.type){case eC.IconsSelected:return Object.assign({},e,{selected:t.payload});case eC.LoadLibraryMetadata:return Object.assign({},e,{libraryMetadataLoading:!0});case eC.LoadLibraryMetadataSuccess:return Object.assign({},e,{libraryMetadata:t.payload,libraryMetadataLoading:!1,libraryMetadataLoaded:!0});default:return e}}const qC={terms:"",keywords:"",image:"",icon:""};function KC(e=qC,t){switch(t.type){case lC.SearchTerms:return Object.assign({},e,{terms:t.payload});case lC.SearchKeywords:return Object.assign({},e,{keywords:t.payload});case lC.SearchImage:return Object.assign({},e,{image:t.payload});case lC.SearchIcon:return Object.assign({},e,{icon:t.payload});default:return e}}const WC=Zv("iconsState"),QC=Wv(WC,e=>e.icon),ZC=Wv(QC,e=>e.selected),XC=(Wv(QC,e=>e.libraryMetadataLoading),Wv(QC,e=>e.libraryMetadataLoaded)),YC=Wv(QC,e=>e.libraryMetadata),JC=(e,t)=>{console.log("SelectedIcons changing to "+(e=>{let t="";return e&&e.length>0&&e.forEach(e=>{e&&(t+=t.length>0?", ":e.internalKey)}),"["+t+"]"})([t])),e.dispatch(new tC(t))},eS=Wv(WC,e=>e.search),tS=Wv(eS,e=>e.terms),nS=Wv(eS,e=>e.keywords),iS=Wv(eS,e=>e.image),rS=Wv(eS,e=>e.icon),lS=e=>e&&e.length>0?e:"",sS=(e,t)=>{lS(t)!==(e=>{let t="";return e.select(tS).subscribe(e=>{t=e}).unsubscribe(),t})(e)&&e.dispatch(new sC(t))},oS=(e,t)=>{lS(t)!==(e=>{let t="";return e.select(nS).subscribe(e=>{t=e}).unsubscribe(),t})(e)&&e.dispatch(new oC(t))},aS=(e,t)=>{lS(t)!==(e=>{let t="";return e.select(iS).subscribe(e=>{t=e}).unsubscribe(),t})(e)&&e.dispatch(new aC(t))},cS=(e,t)=>{lS(t)!==(e=>{let t="";return e.select(rS).subscribe(e=>{t=e}).unsubscribe(),t})(e)&&e.dispatch(new cC(t))};var uS=function(e){return e.LoadLibraryGroupFacets="[Facets] Load Library Group Facets",e.LoadCollectionFacets="[Facets] Load Collection Facets",e.SelectLibraryGroupFacet="[Facets] Select Library Group Facet",e.SelectCollectionFacet="[Facets] Select Collection Facet",e}({});class hS{constructor(e){this.payload=e,this.type=uS.LoadLibraryGroupFacets}}class dS{constructor(e){this.payload=e,this.type=uS.LoadCollectionFacets}}class pS{constructor(e){this.payload=e,this.type=uS.SelectLibraryGroupFacet}}class fS{constructor(e){this.payload=e,this.type=uS.SelectCollectionFacet}}var gS=function(e){return e.SelectSortByOption="[Sort Filter Select] Select Sort By Option",e.SelectViewScaleOption="[Sort Filter Select] Select View Scale Option",e.SelectIconSizeOption="[Sort Filter Select] Select Icon Size Option",e}({});class mS{constructor(e){this.payload=e,this.type=gS.SelectSortByOption}}class yS{constructor(e){this.payload=e,this.type=gS.SelectViewScaleOption}}class bS{constructor(e){this.payload=e,this.type=gS.SelectIconSizeOption}}const vS={libraryGroupsLoaded:[],collectionsLoaded:[],libraryGroupSelected:new Tw("",0,!1,[],[]),collectionSelected:null};function wS(e=vS,t){switch(t.type){case uS.LoadLibraryGroupFacets:return Object.assign({},e,{libraryGroupsLoaded:t.payload});case uS.LoadCollectionFacets:return Object.assign({},e,{collectionsLoaded:t.payload});case uS.SelectLibraryGroupFacet:return Object.assign({},e,{libraryGroupSelected:t.payload});case uS.SelectCollectionFacet:return Object.assign({},e,{collectionSelected:t.payload});default:return e}}const CS={sortBySelectOption:Aw.unicodeAsc,viewScaleSelectOption:Lw.default,iconSizeSelectOption:[0]};function SS(e=CS,t){switch(t.type){case gS.SelectSortByOption:return Object.assign({},e,{sortBySelectOption:t.payload});case gS.SelectViewScaleOption:return Object.assign({},e,{viewScaleSelectOption:t.payload});case gS.SelectIconSizeOption:return Object.assign({},e,{iconSizeSelectOption:t.payload});default:return e}}const _S=Zv("filterState"),xS=Wv(_S,e=>e.facets),IS=Wv(xS,e=>e.libraryGroupsLoaded),kS=Wv(xS,e=>e.collectionsLoaded),TS=Wv(xS,e=>e.libraryGroupSelected),MS=Wv(xS,e=>e.collectionSelected),ES=(e,t)=>{e.dispatch(new hS(t))},PS=e=>{let t="";return e&&e.length>0&&e.forEach(e=>{e&&e.name&&(t+=t.length>0?", ":e.name)}),"["+t+"]"},OS=e=>"["+(e?e.name:"")+"]",DS=(e,t)=>!e&&!t||!(!e||!t)&&!(e.name!==t.name||e.internalKey!==t.internalKey||e.isSelected!==t.isSelected||e.iconCount!==t.iconCount||!RS(e.collections,t.collections)),NS=(e,t)=>!e&&!t||!(!e||!t)&&e.name===t.name&&e.isSelected==t.isSelected&&e.iconCount===t.iconCount,RS=(e,t)=>{if(!e&&!t)return!0;if(e&&t&&e.length===t.length){for(let n=0;n<e.length;n++)if(!NS(e[n],t[n]))return!1;return!0}return!1},AS=(e,t,n=!1)=>{const i=(e=>{let t=null;return e.select(TS).subscribe(e=>{t=e}).unsubscribe(),t})(e);var r,l;!n&&(l=t,!(r=i)&&!l||r&&l&&r.name===l.name&&r.isSelected==l.isSelected&&r.iconCount===l.iconCount&&RS(r.collections,l.collections)&&((e,t)=>{if(!e&&!t)return!0;if(e&&t&&e.length===t.length){for(let n=0;n<e.length;n++)if(!DS(e[n],t[n]))return!1;return!0}return!1})(r.libraries,l.libraries))||(console.log("SelectedLibraryGroup changing from "+OS(i)+" to "+OS(t)),e.dispatch(new pS(t)))},LS=(e,t,n=!1)=>{const i=(e=>{let t;return e.select(MS).subscribe(e=>{t=e}).unsubscribe(),t})(e);!n&&RS([i],[t])||(console.log("SelectedCollections changing from "+PS([i])+" to "+PS([t])),e.dispatch(new fS(t)))},FS=Wv(_S,e=>e.selects),$S=Wv(FS,e=>e.sortBySelectOption),VS=Wv(FS,e=>e.viewScaleSelectOption),US=Wv(FS,e=>e.iconSizeSelectOption),jS=(e,t)=>{e.dispatch(new mS(t))},zS=(e,t)=>{e.dispatch(new bS(t))};class GS{constructor(e,t){this.libraryName=e,this.collectionName=t}}class BS{constructor(e,t,n,i,r){this.id=e,this.url=t,this.trigger=n,this.snapshot=i,this.eventType=r}}let HS=(()=>{class e{constructor(e,t){this.router=e,this.store=t,this.eventSnapshotObserver=new I,this.eventSnapshotObserver$=this.eventSnapshotObserver.asObservable(),this.getSearchTermsFromStore=()=>{let e="";return this.store.select(tS).subscribe(t=>{e=t}).unsubscribe(),e},this.getBrowseLibraryCollectionValueFromStore=()=>{let e="Full MDL2 Assets",t="Full MDL2 Assets";return this.store.select(Zw).subscribe(n=>{e=n.libraryName,t=n.collectionName}).unsubscribe(),new GS(e,t)},this.getKeywordsFromStore=()=>{let e="";return this.store.select(nS).subscribe(t=>{e=t}).unsubscribe(),e},this.getSearchImageDataFromStore=()=>{let e="";return this.store.select(iS).subscribe(t=>{e=t}).unsubscribe(),e},this.getSearchIconInternalKeyFromStore=()=>{let e="";return this.store.select(rS).subscribe(t=>{e=t}).unsubscribe(),e},this.getLibraryNameFromStore=()=>{let e;return this.store.select(TS).subscribe(t=>{e=t}).unsubscribe(),e&&!ho(e.name)&&"All Libraries"!==e.name?e.name:""},this.getLibraryGroupFacetByNameFromStore=e=>{let t;return this.store.select(IS).subscribe(e=>{t=e}).unsubscribe(),t.find(t=>t.name===e)},this.getSelectedCollectionNameFromStore=()=>{let e;return this.store.select(MS).subscribe(t=>{e=t}).unsubscribe(),e?e.name:""},this.getCollectionFacetFromStore=(e,t)=>{const n=this.getLibraryGroupFacetByNameFromStore(e);let i;return n&&(i=n.collections.find(e=>e.name===t)),i},this.getSelectedIconFromStore=()=>{let e;return this.store.select(ZC).subscribe(t=>{e=t}).unsubscribe(),e},this.normalize=e=>e&&e.length>0?e:"",this.synchronizeUrlWithStore=(e,t)=>{const n=this.normalize(t.terms);this.getSearchTermsFromStore()!==n&&(this.store.dispatch(new sC(n)),console.log("CustomRouteSerializer setting search terms in store => ",n));const i=this.normalize(t.keywords);this.getKeywordsFromStore()!==i&&(this.store.dispatch(new oC(i)),console.log("CustomRouteSerializer setting search keywords in store => ",i));const r=this.normalize(t.icon);this.getSearchIconInternalKeyFromStore()!==r&&(this.store.dispatch(new cC(r)),console.log("CustomRouteSerializer setting search icon in store => ",r));const l=this.normalize(t.library),s=this.normalize(t.collection);if(e.startsWith("/browse")){const e=""===l,t=""===s,n=this.getBrowseLibraryCollectionValueFromStore();"Full MDL2 Assets"===l&&t?(Yw(this.store,new Uw(n.libraryName,"","")),console.log("CustomRouteSerializer setting selectedFonts in store => ",n.libraryName,", ","")):(n.libraryName!==l&&(e?(Yw(this.store,new Uw(n.libraryName,"","")),console.log("CustomRouteSerializer setting selectedFonts in store => ",n.libraryName,", ","")):(Yw(this.store,new Uw(l,"","")),console.log("CustomRouteSerializer setting selectedFonts in store => ",l,", ",""))),n.collectionName!==s&&(e||t?e&&t&&(Yw(this.store,new Uw(n.libraryName,n.collectionName,"")),console.log("CustomRouteSerializer setting selectedFonts in store => ",n.libraryName,", ",n.collectionName)):(Yw(this.store,new Uw(l,s,"")),console.log("CustomRouteSerializer setting selectedFonts in store => ",l,", ",s))))}if(this.getLibraryNameFromStore()!==l&&(AS(this.store,new Tw(l,0,!0,[],[])),console.log("CustomRouteSerializer setting selected library in store => ",l)),this.getSelectedCollectionNameFromStore()!==s){const e=""===s?null:new bw(s,0,!0,"","");LS(this.store,e),console.log("CustomRouteSerializer setting selected collection in store => ",t.collection)}const o=this.normalize(t.glyphs),a=this.getSelectedIconFromStore();if(null===a||a.internalKey!==o){const e=""===o?null:new xw(o,"",null,"","",[],[],[],[],!0,!1,null,null,"","",32,new _w([],32),l,null);JC(this.store,e),console.log("CustomRouteSerializer setting selected icons in store => ",o)}},this.router.events.pipe(Ga(e=>e instanceof Au||e instanceof Wu)).subscribe(e=>{e instanceof Au?this.navStartEvent=Object.assign({},e):e instanceof Wu&&(this.navActivationStartEvent=Object.assign({},e),this.navEventSnapshot=new BS(this.navStartEvent.id,this.navStartEvent.url,this.navStartEvent.navigationTrigger,this.navActivationStartEvent.snapshot,e instanceof Wu?"ActivationStart":"NavigationStart"),this.eventSnapshotObserver.next(this.navEventSnapshot))})}}return e.ngInjectableDef=ue({factory:function(){return new e(Pe(Zd),Pe(Gv))},token:e,providedIn:"root"}),e})(),qS=(()=>{class e{constructor(e,t){this.store=e,this.routeSerializerService=t,this.clearIconSelection=()=>{JC(this.store,null)},this.clearSearchTerms=()=>{sS(this.store,"")},this.clearSearchKeywords=()=>{oS(this.store,"")},this.clearSearchImage=()=>{aS(this.store,"")},this.clearSearchIcon=()=>{cS(this.store,"")},this.clearSearchTermsAndKeywords=()=>{this.clearSearchTerms(),this.clearSearchKeywords()},this.clearFilterLibraryCollection=()=>{AS(this.store,new Tw("",0,!1,[],[])),LS(this.store,null)},this.clearBrowseLibraryCollection=()=>{Yw(this.store,new Uw("","",""))},this.clearCollectionMetadata=()=>{Jw(this.store,new vw("","",[],"","","",0,"",[],0,"",""))},this.applyRoutingRules=e=>{switch(e){case"collections":this.clearAllState(),this.clearSearchImage();break;case"browse":this.clearSearchTermsAndKeywords(),this.clearSearchImage(),this.clearFilterLibraryCollection();break;case"search":const e=this.routeSerializerService.getBrowseLibraryCollectionValueFromStore(),t=this.routeSerializerService.getLibraryNameFromStore(),n=this.routeSerializerService.getSelectedCollectionNameFromStore();e.libraryName===t&&e.collectionName===n&&(this.clearBrowseLibraryCollection(),this.clearCollectionMetadata(),"All Libraries"!==t&&this.clearIconSelection())}},this.clearAllState=()=>{this.clearSearchTermsAndKeywords(),this.clearSearchIcon(),this.clearFilterLibraryCollection(),this.clearBrowseLibraryCollection(),this.clearCollectionMetadata(),this.clearIconSelection()},this.resetToDefaultState=()=>{this.clearAllState(),this.clearSearchImage(),Yw(this.store,new Uw("Full MDL2 Assets","Full MDL2 Assets","8f58e9e1e-c4094e9ea"))}}}return e.ngInjectableDef=ue({factory:function(){return new e(Pe(Gv),Pe(HS))},token:e,providedIn:"root"}),e})(),KS=(()=>{class e{constructor(e,t){this.http=e,this.baseUrl=t,this.apiPrefix="api/iconlibraryfont/",this.getFileName=(e,t)=>{let n="";return ho(t)||(n=t.find(t=>t.endsWith(e))),n},this.getFontFileDownloadUrl=(e,t,n)=>{const i=`?masterFontName=${encodeURIComponent(e)}&fontFileName=${encodeURIComponent(t)}&fontShortName=${encodeURIComponent(n)}`;return`${this.apiPrefix}downloadfont${i}`},this.getIconFileDownloadUrl=(e,t,n,i)=>{const r=`?masterFontName=${encodeURIComponent(e)}&iconKeys=${t}&fileExtension=${n}&resizeTo=${i}`;return`${this.apiPrefix}downloadicons${r}`},this.getIconFileContents=(e,t,n,i=32)=>{const r=`?masterFontName=${encodeURIComponent(e)}&iconKeys=${t}&fileExtension=${n}&resizeTo=${i}`;return this.http.get(this.baseUrl+this.apiPrefix+"getfilecontent"+r)}}}return e.ngInjectableDef=ue({factory:function(){return new e(Pe(Mb),Pe("BASE_URL"))},token:e,providedIn:"root"}),e})(),WS=(()=>{class e{constructor(e,t){this.http=e,this.baseUrl=t,this.iconApiCachedResults=[],this.apiPrefix="api/iconlibraryfont/",this.getAllLibraryData=()=>this.http.get(this.baseUrl+this.apiPrefix+"masterfontinfos").pipe(F(e=>{const t=e.map(e=>{let t=null;e.collectionsDownloadMetadata&&(t=e.collectionsDownloadMetadata.map(t=>{const n=new vw(t.name,"",t.fontFiles,t.baseFileName,"","",0,"",null,0,t.internalKey,e.name);return new jw(t.name,n,t.internalKey,t.libraryName)}));let n=null;if(e.masterCollectionDownloadMetadata){const t=new vw(e.masterCollectionDownloadMetadata.name,"",e.masterCollectionDownloadMetadata.fontFiles,e.masterCollectionDownloadMetadata.baseFileName,"","",0,"",null,0,e.masterCollectionDownloadMetadata.internalKey,e.name);n=new jw(e.masterCollectionDownloadMetadata.name,t,e.internalKey,e.name)}const i=e.collectionsMetadata.sort((e,t)=>e.name.localeCompare(t.name));return new Hw(t,n,i,e.collectionsMetadata.map(e=>e.name),e.masterCollectionName,e.name,e.iconType,e.version,e.collectionCount,e.iconCount,e.modifiedOn,e.showWarning,e.warningText,e.requestIconUrl,e.copyPreviewAction,e.copySize,e.copyTypes,e.downloadTypes,e.downloadSizes,e.downloadSize,e.metadataItem1,e.metadataItem2,e.metadataItem3,e.libraryGroupName,e.internalKey)});return this.iconApiCachedResults=t,t})),this.getIcon=e=>{const t="?internalKey="+encodeURIComponent(e);return this.http.get(this.baseUrl+this.apiPrefix+"IconByInternalKey"+t)},this.getIconCollection=e=>{const t=this.getCachedSubsetFontByInternalKey(e);if(t)return Ra(t);const n="?internalKey="+encodeURIComponent(e);return this.http.get(this.baseUrl+this.apiPrefix+"IconCollectionByInternalKey"+n).pipe(F(e=>{const t=JSON.parse(JSON.stringify(e));return this.subsetFontCachedResults=new ww(t.libraryName,t),e}))},this.getIconCollectionMetadata=e=>{const t=`?internalKey=${encodeURIComponent(e)}&meta=true`;return this.http.get(this.baseUrl+this.apiPrefix+"IconCollectionByInternalKey"+t)},this.getCollection=(e,t)=>{const n=this.getCachedSubsetFontByName(e,t);if(n)return Ra(n);const i=`?masterFontName=${encodeURIComponent(e)}&fontName=${encodeURIComponent(t)}`;return this.http.get(this.baseUrl+this.apiPrefix+"font"+i).pipe(F(t=>(this.subsetFontCachedResults=new ww(e,JSON.parse(JSON.stringify(t))),t)))},this.getCollectionMetaData=(e,t)=>{const n=`?masterFontName=${encodeURIComponent(e)}&fontName=${encodeURIComponent(t)}&meta=true`;return this.http.get(this.baseUrl+this.apiPrefix+"font"+n)},this.getLibraryDataByName=e=>{if(!ho(this.iconApiCachedResults)){const t=this.iconApiCachedResults.find(t=>t.name===e);if(t)return Ra(t)}return this.getAllLibraryData().pipe(F(t=>t.find(t=>t.name===e)))},this.getCachedSubsetFontByName=(e,t)=>{let n;return this.subsetFontCachedResults&&this.subsetFontCachedResults.libraryName&&this.subsetFontCachedResults.libraryName===e&&null!=this.subsetFontCachedResults.collection&&this.subsetFontCachedResults.collection.name===t&&(n=JSON.parse(JSON.stringify(this.subsetFontCachedResults.collection))),n},this.getCachedSubsetFontByInternalKey=e=>{let t;return this.subsetFontCachedResults&&null!=this.subsetFontCachedResults.collection&&this.subsetFontCachedResults.collection.internalKey===e&&(t=JSON.parse(JSON.stringify(this.subsetFontCachedResults.collection))),t},this.getFeaturedCollections=()=>this.http.get(this.baseUrl+this.apiPrefix+"FeaturedCollections"),this.getNewIcons=()=>this.http.get(this.baseUrl+this.apiPrefix+"NewIcons"),this.getPopularSearches=()=>this.http.get(this.baseUrl+this.apiPrefix+"PopularSearches"),this.getPreviewIcons=(e,t)=>{const n=`?libraryName=${encodeURIComponent(e)}&collectionName=${encodeURIComponent(t)}&numberIcons=8`;return this.http.get(this.baseUrl+this.apiPrefix+"iconsforpreview"+n)},this.constructFontBlob=(e,t)=>new Blob([e],{type:ho(t)?"font/woff":t}),this.fontStreamsLoading=[],this.fontStreamsLoaded=[],this.loadFontFile=e=>this.fontStreamsLoaded.includes(e)||this.fontStreamsLoading.includes(e)?Ra(!0):(this.fontStreamsLoading.push(e),this.http.get(this.baseUrl+this.apiPrefix+"fontStream?internalKey="+e,{responseType:"arrayBuffer"}).pipe(F(t=>{const n=this.constructFontBlob(t);return function(e,t){const n=e.indexOf(t);!(n<0)&&e.splice(n,1)}(this.fontStreamsLoading,e),!co(n)&&(this.fontStreamsLoaded.push(e),!0)})))}getSuggestions(e,t,n){if(po(e))return Va;var i="?terms="+encodeURIComponent(e);return null!=t&&(i+="&libraryName="+encodeURIComponent(t)),null!=n&&(i+="&collectionName="+encodeURIComponent(n)),this.http.get(this.baseUrl+this.apiPrefix+"getsuggestions"+i)}ping(){return this.http.get(this.baseUrl+this.apiPrefix+"ping")}}return e.ngInjectableDef=ue({factory:function(){return new e(Pe(Mb),Pe("BASE_URL"))},token:e,providedIn:"root"}),e})();var QS=function(e){return e[e.Everything=0]="Everything",e[e.NameOnly=1]="NameOnly",e[e.KeywordsOnly=2]="KeywordsOnly",e[e.MetaphorsOnly=4]="MetaphorsOnly",e}({});function ZS(e){return e?e.internalKey:""}function XS(e){return!!e&&e.unicodeValue&&e.unicodeValue.length>0}function YS(e){return!!e&&e.svgXml&&e.svgXml.length>0}function JS(e){return!!e&&e.pngBase64Data&&!0}function e_(e,t){return!function(e,t){return e?null==t||ZS(e)!==ZS(t):!!t}(e,t)}function t_(e){return!!e&&e.unicodeValue&&e.unicodeValue.length>4}let n_=(()=>{class e{constructor(){this.selectedGlyphsChange=new yo([]),this.selectedGlyphsChange$=this.selectedGlyphsChange.asObservable(),this.setSelectedGlyphs=e=>{this.areDifferent(this.selectedGlyphsChange.value,e)&&this.selectedGlyphsChange.next(e)}}areDifferent(e,t){return e.filter(e=>!t.some(t=>e_(e,t))).length+t.filter(t=>!e.some(e=>e_(t,e))).length>0}}return e.ngInjectableDef=ue({factory:function(){return new e},token:e,providedIn:"root"}),e})(),i_=(()=>{class e{constructor(e){this.store=e,this.allLibraryMetadataAvailable$=new yo(!1),this.allLibraryMetadata=[],this.allLibraryMetadata$=this.store.select(YC),this.allLibraryMetadataLoaded$=this.store.select(XC),this.allLibraryMetadataLoadedSubscription=new h,this.getLibraryByName=e=>ho(e)||ho(this.allLibraryMetadata)?null:this.allLibraryMetadata.find(t=>t.name===e),this.getLibrariesByGroupName=e=>{if(ho(e))return null;if(ho(this.allLibraryMetadata))return null;if("All Libraries"===e)return this.allLibraryMetadata;const t=this.allLibraryMetadata.filter(t=>!ho(t.libraryGroupName)&&t.libraryGroupName===e);if(!ho(t))return t;const n=this.getLibraryByName(e);return n?[n]:null},this.getCollectionMetadataByLibraryOrGroupName=(e,t)=>{if(ho(e)||ho(t))return null;let n=null;const i=this.getLibrariesByGroupName(e);return i&&i.forEach(e=>{if(co(n)){var i=e.collectionsMetadata.find(e=>e.name==t);i&&(n=i)}}),n},this.getLibraryGroupByCollectionInternalKey=e=>{if(ho(e))return null;if(ho(this.cachedLibraryGroupFacets))return null;let t=this.cachedLibraryGroupFacets.find(t=>!co(t.collections.find(t=>t.internalKey===e)));return co(t)?null:JSON.parse(JSON.stringify(t))},this.constructLibraryGroupFacets=()=>{const e=[];return this.allLibraryMetadata.forEach(t=>{const n=ho(t.libraryGroupName)?t.name:t.libraryGroupName;let i=e.find(e=>e.name===n);i||(i=new Tw(n,0,!1,[],[]),e.push(i));const r=this.constructLibraryFacet(t);i.iconCount+=r.iconCount,i.libraries.push(r),r.collections.forEach(e=>i.collections.push(e))}),e},this.constructLibraryFacet=e=>{const t=this.constructCollectionFacets(e.collectionsMetadata);return new kw(e.name,0,!1,t,e.internalKey)},this.cachedLibraryGroupFacets=[],this.constructCollectionFacets=e=>e.map(e=>new bw(e.name,e.iconCount,!1,e.internalKey,e.libraryName)),this.getAllLibraryMetadataFromStore=()=>{ho(this.allLibraryMetadata)&&(this.allLibraryMetadataLoadedSubscription=this.allLibraryMetadataLoaded$.subscribe(e=>{e&&(this.allLibraryMetadata$.subscribe(e=>{this.allLibraryMetadata=e,this.allLibraryMetadataAvailable$.next(!0)}).unsubscribe(),this.cachedLibraryGroupFacets=this.constructLibraryGroupFacets(),this.allLibraryMetadataLoadedSubscription.unsubscribe())}))},this.getAllLibraryMetadataFromStore()}}return e.ngInjectableDef=ue({factory:function(){return new e(Pe(Gv))},token:e,providedIn:"root"}),e})(),r_=(()=>{class e{constructor(e,t){this.http=e,this.baseUrl=t,this.notifications=[],this.notificationsLoaded$=new yo(!1),this.alertsShowing=new yo(0),this.alertsShowing$=this.alertsShowing.asObservable(),this.unreadNotifications=new yo(0),this.unreadNotifications$=this.unreadNotifications.asObservable(),this.apiPrefix="api/iconlibraryfont/",this.loadSubscription=new h,this.loadNotifications=()=>{this.loadSubscription=this.http.get(this.baseUrl+this.apiPrefix+"scheduledalerts").subscribe(e=>{this.notifications=e.map(e=>{const t="Warning"===e.type?Pw.alert:Pw.informational,n=e.show?this.isDateInRangeToShow(e.startDate,e.endDate):e.show;return new Ew(e.key,t,e.title,e.description,n,e.isDismissible,e.startDate,e.endDate,e.linkText,e.linkUrl,e.libraryContext)}),this.notifications=this.notifications.filter(e=>e.show).sort((e,t)=>this.sortByDateDesc(e,t)).sort((e,t)=>this.sortByTypeDesc(e,t)),this.notificationsLoaded$.next(!0),this.loadSubscription.unsubscribe()})},this.isStartDateInRange=e=>Date.now()>=new Date(e).getTime(),this.isEndDateInRange=e=>Date.now()<=new Date(e).getTime(),this.isDateInRangeToShow=(e,t)=>{const n=!e||this.isStartDateInRange(e),i=!t||this.isEndDateInRange(t);return n&&i},this.sortByTypeDesc=(e,t)=>t?t.type-e.type:0,this.sortByDateDesc=(e,t)=>e&&e.startDate&&t&&t.startDate?t.startDate.localeCompare(e.startDate):e&&e.startDate?1:t&&t.startDate?-1:0}}return e.ngInjectableDef=ue({factory:function(){return new e(Pe(Mb),Pe("BASE_URL"))},token:e,providedIn:"root"}),e})(),l_=(()=>{class e{constructor(e){this.notificationApiService=e,this.isDebugMode=!1,this.alertsShowing=0,this.alertBarHeight=0,this.scrollElementToTop=e=>{const t=this.getFullOffsetPosition(e);window.scrollTo({top:t.top-(70+this.alertBarHeight),behavior:"smooth"})},this.notificationApiService.alertsShowing$.subscribe(e=>{this.alertsShowing=e,this.alertBarHeight=52*e-3})}getFullOffsetPosition(e){let t=e.offsetTop,n=e.offsetLeft,i=e;for(;i.offsetParent&&i.offsetParent!==document.body;)i=i.offsetParent,t+=i.offsetTop,n+=i.offsetLeft;return{top:t,left:n}}isRectContainedBy(e,t){return e.top>=t.top&&e.left>=t.left&&e.bottom<=t.bottom&&e.right<=t.right}getViewPortRect(){const e={};return e.top=self.pageYOffset|(document.documentElement?document.documentElement.scrollTop:null)|document.body.scrollTop|0,e.left=self.pageXOffset|(document.documentElement?document.documentElement.scrollLeft:null)|document.body.scrollLeft|0,e.width=window.innerWidth|(document.documentElement?document.documentElement.clientWidth:null)|0,e.height=window.innerHeight|(document.documentElement?document.documentElement.clientHeight:null)|0,e.bottom=e.top+e.height,e.right=e.left+e.width,e}scrollToVerticalCenter(e){const t=e.getBoundingClientRect(),n=this.getViewPortRect();if(this.isDebugMode){const n=this.getFullOffsetPosition(e);console.log(`elemRect top/left:${t.top}/${t.left}`),console.log(`elemPos top/left:${n.top}/${n.left}`)}this.isRectContainedBy(t,n)||window.scrollTo(0,t.top-(n.height-t.height)/2+n.top)}}return e.ngInjectableDef=ue({factory:function(){return new e(Pe(r_))},token:e,providedIn:"root"}),e})();function s_(...e){if(1===e.length){const t=e[0];if(a(t))return o_(t,null);if(c(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return o_(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return o_(e=1===e.length&&a(e[0])?e[0]:e,null).pipe(F(e=>t(...e)))}return o_(e,null)}function o_(e,t){return new w(n=>{const i=e.length;if(0===i)return void n.complete();const r=new Array(i);let l=0,s=0;for(let o=0;o<i;o++){const a=j(e[o]);let c=!1;n.add(a.subscribe({next:e=>{c||(c=!0,s++),r[o]=e},error:e=>n.error(e),complete:()=>{l++,l!==i&&c||(s===i&&n.next(t?t.reduce((e,t,n)=>(e[t]=r[n],e),{}):r),n.complete())}}))}})}let a_=(()=>{class e{constructor(e){this.store=e,this.searchTerms="",this.keywords="",this.sortIcons=(e,t,n)=>(n||(n=this.searchTerms.length>0?this.searchTerms:this.keywords),e.sort((e,i)=>this.sortComparator(e,i,t,n))),this.filterBySize=(e,t)=>{let n=[];return n=e.filter(e=>t.some(t=>e.iconGroup.keyedIconSizes.some(e=>e.size===t))),n},this.getIconClientWidthByScale=e=>{switch(e){case Lw.xsmall:return Cw.xsmall;case Lw.small:return Cw.small;case Lw.large:return Cw.large;case Lw.xlarge:return Cw.xlarge;default:return Cw.default}},this.sortComparator=(e,t,n,i)=>{switch(n){case Aw.nameAtoZ:return e.friendlyName.localeCompare(t.friendlyName);case Aw.nameZtoA:return t.friendlyName.localeCompare(e.friendlyName);case Aw.unicodeAsc:return e&&e.unicodeValue?e.unicodeValue.localeCompare(t.unicodeValue):0;case Aw.unicodeDes:return t&&t.unicodeValue?t.unicodeValue.localeCompare(e.unicodeValue):0;case Aw.relevance:return this.sortByRelevance(i,e,t)}return 0},this.sortByRelevance=(e,t,n)=>{let i=e&&e.length>0?e.split(" "):void 0,r=0,l=0;return i&&i.length>0&&i.forEach(e=>{const i=e.toLowerCase(),s=t.friendlyName.toLowerCase(),o=n.friendlyName.toLowerCase();t.metaphors&&t.metaphors.findIndex(e=>e.toLowerCase()===i)>-1&&(r+=1),n.metaphors&&n.metaphors.findIndex(e=>e.toLowerCase()===i)>-1&&(l+=1),s===i?r+=3:s.startsWith(i)?r+=2:s.includes(i)&&(r+=1),o===i?l+=3:o.startsWith(i)?l+=2:o.includes(i)&&(l+=1)}),l-r},this.searchTerms$=this.store.select(tS),this.searchKeywords$=this.store.select(nS),this.searchTerms$.subscribe(e=>{this.searchTerms=e}),this.searchKeywords$.subscribe(e=>{this.keywords=e})}}return e.ngInjectableDef=ue({factory:function(){return new e(Pe(Gv))},token:e,providedIn:"root"}),e})();class c_{constructor(e,t,n){this.iconApiService=e,this.sortFilterService=t,this.store=n,this.viewportWidth=document.body.clientWidth?document.body.clientWidth:window.innerWidth,this.sidePanelWidth=270,this.gridGutterWidth=60,this.insertionIndex=-1,this.maxItemsToReturn=window.innerHeight/90*(window.innerWidth/90),this.filteredResultsCache=[],this.apiUnfilteredResultsCache=[],this.apiFilteredResultsCache=[],this.isItemMatch=(e,t)=>{const n=t.split(" ");if(0===t.length)return!0;let i=0;return n.forEach(t=>{const n=new RegExp(t,"gi");i=null===e.friendlyName.match(n)?i:i+=1}),i>0},this.clearUnfilteredResultsCache=()=>{this.apiUnfilteredResultsCache=[]},this.updateUnfilteredResultsCache=(e,t)=>{this.apiUnfilteredResultsCache.push(new ww(e,JSON.parse(JSON.stringify(t))))},this.getCollectionFromUnfilteredCache=e=>{let t=this.apiUnfilteredResultsCache.find(t=>t.collection.name===e);return t?t.collection:null},this.clearFilteredResultsCache=()=>{this.apiUnfilteredResultsCache=[]},this.updateFilteredResultsCache=(e,t)=>{this.apiFilteredResultsCache.find(e=>{if(e&&e.collection&&e.collection.name===t.name)return e.collection.icons=t.icons.slice(0),!0})||this.apiFilteredResultsCache.push(new ww(e,JSON.parse(JSON.stringify(t))))},this.getCollectionFromFilteredCache=e=>{let t=this.apiFilteredResultsCache.find(t=>t.collection.name===e);return t?t.collection:null},this.filterApiResults=(e,t,n)=>{const i=this.getCollectionFromUnfilteredCache(e.name).icons.filter(e=>this.isItemMatch(e,t));return e.icons=i.length>0?i:[],e},this.recalcMaxItemsPerPage=e=>{let t=this.sortFilterService.getIconClientWidthByScale(e);this.maxItemsToReturn=window.innerHeight/t*(window.innerWidth/t)},this.getPartialPageResults=(e,t)=>{const n=this.getCollectionFromFilteredCache(e.name);return n&&n.icons&&(e.icons=n.icons.slice(t,this.maxItemsToReturn)),e},this.getResultPageByApi=(e,t)=>{const n=t*this.maxItemsToReturn,i=this.getCollectionFromFilteredCache(e.name);return e.icons=i.icons.length-n<this.maxItemsToReturn?i.icons.slice(n):i.icons.slice(n,n+this.maxItemsToReturn),e},this.doFilteredSearchByApi=(e,t,n,i=0)=>this.iconApiService.getCollection(t,n).pipe(F(n=>{0===i&&(this.clearUnfilteredResultsCache(),this.clearFilteredResultsCache(),this.updateUnfilteredResultsCache(t,n),this.updateFilteredResultsCache(t,n)),Jw(this.store,new vw(n.name,n.latestVersion,n.fontFiles,n.baseFileName,n.createdOn,n.modifiedOn,n.icons.length,n.iconType,n.supportedSizes,n.defaultSize,n.internalKey,n.libraryName));let r=this.filterApiResults(n,e,i);return this.updateFilteredResultsCache(t,r),r}),F(e=>this.getResultPageByApi(e,i))),this.doGetGlyphs=(e,t,n)=>this.iconApiService.getCollection(e,t).pipe(F(e=>e.icons.filter(e=>n.some(t=>t&&t.toLowerCase()===ZS(e)))))}}class u_{constructor(e,t){this.results=e,this.alsoLikes=t}}let h_=(()=>{class e{constructor(e,t,n,i,r,l){this.http=e,this.baseUrl=t,this.iconApiService=n,this.searchFilterService=i,this.sortFilterService=r,this.store=l,this.apiPrefix="api/iconlibraryfont/",this.sortedIconResults=[],this.filteredBySizeIconResults=[],this.getAllResults=(e,t,n,i,r,l,s)=>{let o="getAllResults called with";switch(ho(e)||(o=o+" changeEvent: ["+e+"],"),ho(t)||(o=o+" searchTerms: ["+t+"],"),ho(n)||(o=o+" keywords: ["+n+"],"),ho(i)||(o=o+" libraryName: ["+i+"],"),ho(r)||(o=o+" collectionName: : ["+r+"],"),ho(l)||(o+=" imageData: : [#],"),ho(s)||(o+=" icon: : []"),console.log(o),e){case"searchTermsChange":return this.searchIcons(t,!0,QS.NameOnly|QS.MetaphorsOnly,null,null,i,r);case"searchKeywordsChange":return this.searchIcons(n,!0,QS.KeywordsOnly,null,null,i,r);case"selectedFontChange":return this.iconApiService.getCollection(i,r).pipe(F(e=>{if(!e)return null;this.getActiveSortSelection(),"Svg"!==e.iconType&&"Png"!==e.iconType||(this.getActiveFilterBySizeSelection(),e.icons=e.icons.filter(e=>e.size===e.iconGroup.preferredSize)),this.activeSort=this.activeSort?this.activeSort:Aw.nameAtoZ,e.icons=this.sortFilterService.sortIcons(e.icons,this.activeSort),this.filteredResultsCache=e;const t=e;return this.sortedIconResults=e.icons,t}),F(e=>e?[this.filteredResultsCache.icons.length,this.getPagedResults(0)]:[0,[]]));case"searchImageChange":return this.getVisuallySimilarIconsByFile(l).pipe(F(e=>e.libraries.map(e=>e.icons)));case"searchIconChange":return this.getVisuallySimilarIconsByIcon(s).pipe(F(e=>e.libraries.map(e=>e.icons)))}},this.getActiveSortSelection=()=>{this.store.select($S).subscribe(e=>{this.activeSort=e}).unsubscribe()},this.getActiveFilterBySizeSelection=()=>{this.store.select(US).subscribe(e=>{this.activeIconSizes=e}).unsubscribe()},this.getAllLibraries=(e,t,n)=>{let i;return i=n!==QS.KeywordsOnly?this.getAllResultsByLibrary(e,t,n):this.getAllKeywordResultsByLibrary(e,t,n),i},this.searchAllIcons=(e,t,n,i,r)=>{if(po(e))return Va;let l="?terms="+encodeURIComponent(e);return null!=t&&(l+="&exactSearch="+t),null!=n&&(l+="&searchType="+n),null!=i&&(l+="&page="+i),null!=r&&(l+="&pageSize="+r),this.http.get(this.baseUrl+this.apiPrefix+"searchAllIcons"+l)},this.searchIcons=(e,t,n,i,r,l,s)=>{if(po(e))return Va;let o="?terms="+encodeURIComponent(e);return null!=t&&(o+="&exactSearch="+t),null!=n&&(o+="&searchType="+n),null!=i&&(o+="&page="+i),null!=r&&(o+="&pageSize="+r),null!=l&&(o+="&masterFont="+encodeURIComponent(l)),null!=s&&(o+="&font="+encodeURIComponent(s)),this.http.get(this.baseUrl+this.apiPrefix+"searchicons"+o)},this.getVisuallySimilarIcons=(e,t,n="glyph")=>{let i="getVisuallySimilarIcons called with";e&&e.length>0&&(i=i+" libraryName: ["+e+"],"),t&&t.length>0&&(i=i+" iconInternalKey: ["+t+"],"),n&&n.length>0&&(i=i+" iconType: ["+n+"],"),console.log(i);const r=`?masterFontName=${encodeURIComponent(e)}&searchKey=${t}&iconTypeName=${n}`;return this.http.get(this.baseUrl+this.apiPrefix+"visualSearch"+r)},this.getVisuallySimilarIconsByFile=e=>{console.log("getVisuallySimilarIcons called");const t=new Nw([],[]);let n=[];return s_([this.http.post(this.baseUrl+this.apiPrefix+"visualSearchByFile",e).pipe(F(e=>(e&&e.length>0&&(n=e.map(e=>this.transformSearchResponse(e)),e.map(e=>this.transformSearchResponse(e)),t.libraries=n),n)))]).pipe(F(e=>(t.libraries=e[0],t)))},this.getVisuallySimilarIconsByIcon=e=>{let t="getVisuallySimilarIconsByIcon called with";e&&e.length>0&&(t=t+" iconInternalKey: ["+e+"],"),console.log(t);let n=this.http.get(this.baseUrl+this.apiPrefix+"visualSearchByIcon?iconInternalKey="+e);const i=new Nw([],[]);let r=[];return s_([n.pipe(F(e=>(e&&e.length>0&&(r=e.map(e=>this.transformSearchResponse(e)),e.map(e=>this.transformSearchResponse(e)),i.libraries=r),r)))]).pipe(F(e=>(i.libraries=e[0],i)))},this.getPartialPageResults=(e,t)=>{const n=this.searchFilterService.maxItemsToReturn;return this.filteredResultsCache&&this.filteredResultsCache.icons.length>t?this.activeIconSizes&&this.activeIconSizes.length>0&&this.activeIconSizes[0]>0?this.sortFilterService.filterBySize(this.filteredResultsCache.icons,this.activeIconSizes).slice(t,n):this.filteredResultsCache.icons.slice(t,n):[]},this.getFullResultsCount=e=>{const t=this.filteredResultsCache&&this.filteredResultsCache.name===e?this.filteredResultsCache:null;return t&&t.icons?t.icons.length:0},this.hasIcon=e=>this.filteredResultsCache.icons.findIndex(t=>t.internalKey===e.internalKey)>-1,this.getPagedResults=e=>{const t=e*this.searchFilterService.maxItemsToReturn,n=this.filteredResultsCache;if(null===n)return null;let i=[];if(this.activeIconSizes&&this.activeIconSizes.length>0&&this.activeIconSizes[0]>0){i=this.sortFilterService.filterBySize(n.icons,this.activeIconSizes);let e=i.length-t;return e>0?e<this.searchFilterService.maxItemsToReturn?i.slice(t):i.slice(t,t+this.searchFilterService.maxItemsToReturn):[]}return n.icons.length-t<this.searchFilterService.maxItemsToReturn?n.icons.slice(t):n.icons.slice(t,t+this.searchFilterService.maxItemsToReturn)},this.getIconResultsSorted=e=>{if(this.getActiveFilterBySizeSelection(),this.filteredResultsCache&&this.filteredResultsCache.icons&&this.filteredResultsCache.icons.length>0){let t=this.sortFilterService.sortIcons(this.filteredResultsCache.icons,e);if(t&&t.length>0){this.filteredResultsCache.icons=t,this.sortedIconResults=t;let e=this.searchFilterService.maxItemsToReturn;if(this.activeIconSizes&&this.activeIconSizes.length>0&&this.activeIconSizes[0]>0){let n=this.sortFilterService.filterBySize(t,this.activeIconSizes);return e>0&&n&&n.length>e?n.slice(0,e):n.slice(0)}return e>0&&t.length>e?t.slice(0,e):t.slice(0)}}return[]},this.getIconResultsFilteredBySize=e=>{if(this.getActiveFilterBySizeSelection(),this.filteredResultsCache&&this.filteredResultsCache.icons&&this.filteredResultsCache.icons.length>0){let t=this.searchFilterService.maxItemsToReturn;if(e&&1===e.length&&0===e[0])return t>0&&this.filteredResultsCache.icons.length>t?this.filteredResultsCache.icons.slice(0,t):this.filteredResultsCache.icons;let n=this.sortFilterService.filterBySize(this.filteredResultsCache.icons,e);if(n&&n.length>0){if(this.filteredBySizeIconResults=n,this.activeSort){let e=this.sortFilterService.sortIcons(n,this.activeSort);return t>0&&e&&e.length>t?e.slice(0,t):e}return t>0&&n.length>t?n.slice(0,t):n}}return[]},this.transformSearchResponse=e=>{const t=new Mw(e.libraryName,e.libraryGroupName,[],e.icons,[],e.internalKey);let n=[];return n=Object.keys(e.collectionNameCounts),t.collections=n.map(t=>new bw(t,e.collectionNameCounts[t],!1,"",e.libraryName)),t.collections=t.collections.filter(e=>e.iconCount>0).sort((e,t)=>t.iconCount-e.iconCount),t},this.filterLibraryResults=(e,t,n)=>{const i=e.split(" ");return t.icons.filter(e=>{const t=n.icons.findIndex(t=>t.internalKey===e.internalKey);if(t>-1){let r=!1;return!!(i&&i.length>0)&&(i.some(i=>{if(e.friendlyName.toLowerCase().includes(i.toLowerCase())||e.metaphors&&e.metaphors.findIndex(e=>e.toLowerCase()===i.toLowerCase())>-1||e.unicodeValue&&e.unicodeValue.toLowerCase()===i.toLowerCase())return n.icons.splice(t,1),r=!0,!0}),r)}return!0})},this.adjustLibraryCollectionCounts=e=>{const t=[];e.icons.forEach(n=>{n.fonts.forEach(n=>{let i=t.findIndex(e=>e.name===n);i>-1?t[i].iconCount+=1:t.push(new bw(n,1,!1,"",e.name))})}),0!==t.length&&e.collections.forEach((e,n,i)=>{let r=t.find(t=>t.name===e.name);r?e.iconCount=r.iconCount:i.splice(n,1)})},this.sortByName=(e,t)=>e.libraryGroupName<t.libraryGroupName?-1:e.libraryGroupName>t.libraryGroupName?1:0,this.consolidateResults=(e,t,n)=>(n.forEach(n=>{const i=t.find(e=>e.name===n.name);i&&(i.icons=this.filterLibraryResults(e,i,n),i.icons=this.sortFilterService.sortIcons(i.icons,Aw.relevance,e),i.icons&&0===i.icons.length?t.splice(t.findIndex(e=>e.name===i.name),1):this.adjustLibraryCollectionCounts(i),i.collections.sort((e,t)=>t.iconCount-e.iconCount),i.alsoLikes=n.icons)}),t),this.getAllResultsByLibrary=(e,t,n)=>{const i=new Nw([],[]);let r=[],l=[];return s_([this.searchAllIcons(e,t||!1,n||QS.NameOnly|QS.MetaphorsOnly).pipe(F(e=>(e&&e.length>0&&(r=e.map(e=>this.transformSearchResponse(e)),e.map(e=>this.transformSearchResponse(e)),i.libraries=r),r))),this.searchAllIcons(e,!0,QS.KeywordsOnly).pipe(F(e=>(e&&e.length>0&&(l=e.map(e=>this.transformSearchResponse(e))),l)))]).pipe(F(t=>(i.libraries=this.consolidateResults(e,t[0],t[1]).sort((e,t)=>this.sortByName(e,t)),i.libraries.forEach(e=>{i.allAlsoLikes=i.allAlsoLikes.concat(e.alsoLikes)}),i)))},this.getAllKeywordResultsByLibrary=(e,t,n)=>{const i=new Nw([],[]);let r=[];return this.searchAllIcons(e,t,n).pipe(F(e=>(e&&e.length>0&&(r=e.map(e=>this.transformSearchResponse(e)),i.libraries=r.sort((e,t)=>this.sortByName(e,t))),i)))}}}return e.ngInjectableDef=ue({factory:function(){return new e(Pe(Mb),Pe("BASE_URL"),Pe(WS),Pe(c_),Pe(a_),Pe(Gv))},token:e,providedIn:"root"}),e})(),d_=(()=>{class e{constructor(){this.terms=new I,this.keyWords=new I,this.image=new I,this.enterKeyPressed=new I,this.keyboardInput=new I,this.keyWordsChanged$=this.keyWords.asObservable(),this.termsChanged$=this.terms.asObservable(),this.imageChanged$=this.image.asObservable(),this.keyboardInput$=this.keyboardInput.asObservable(),this.enterKeyPressed$=this.enterKeyPressed.asObservable(),this.getKeyboardInput=()=>this.keyboardInput$,this.setTerms=e=>{this.terms.next(e)},this.setEnterKeyPressed=e=>{this.enterKeyPressed.next(e)},this.setKeyWords=e=>{this.keyWords.next(e)},this.setImage=e=>{this.image.next(e)},this.setKeyboardInput=e=>{this.keyboardInput.next(e)}}}return e.ngInjectableDef=ue({factory:function(){return new e},token:e,providedIn:"root"}),e})(),p_=(()=>{class e{constructor(e){this.http=e,this.postFeedback=(e,t)=>{try{this.http.post("feedback",e).subscribe(e=>{t(e)},e=>t({error:e}))}catch(n){t({}),console.log(n)}}}}return e.ngInjectableDef=ue({factory:function(){return new e(Pe(Mb))},token:e,providedIn:"root"}),e})();function f_(e){return e&&e.length>1?e.toLowerCase().split(" ").join(""):e}class g_{constructor(e,t){this.containerClassName=e,this.fontFaces=t}}class m_{constructor(e,t,n,i){this.fontFamilyName=e,this.internalKey=t,this.fontFileName=n,this.specified=i}}let y_=(()=>{class e{constructor(e){this.iconApiService=e,this.apiPrefix="api/iconlibraryfont/",this.head=document.getElementsByTagName("head")[0],this.fontStyles=[],this.constructFontStyleFromMetadata=(e,t)=>{if(ho(e)||ho(t))return null;const n=new g_(e,[]);return t.forEach(e=>{const t=f_(e.name),i=this.getFontFileName(e.fontFiles);ho(i)||n.fontFaces.push(new m_(t,e.internalKey,i,!1))}),n},this.toLowerCaseConvertSpaces=(e,t)=>e.toLowerCase().split(" ").join(t),this.getFontFileName=e=>{let t="";return e&&e.length>0&&(t=e.find(e=>e.endsWith("woff")||e.endsWith("woff2")||e.endsWith("ttf"))),t},this.buildFontFace=e=>`@font-face {font-family: '${e.fontFamilyName}'; src: url('${this.apiPrefix}fontStream?internalKey=${e.internalKey}');}`,this.buildGlyphFontFamilySpecifier=e=>{const t=e.containerClassName,n=e.fontFaces.map(e=>e.fontFamilyName);return`ul.grid-container.${f_(t)} .glyph {font-family: '${n.join("', '")}';}`},this.loadFontFiles$=e=>{const t=this.fontStyles.find(t=>t.containerClassName===e);return co(t)?Va:s_(t.fontFaces.filter(e=>e.specified).map(e=>this.iconApiService.loadFontFile(e.internalKey)))},this.constructContainerClassName=(e,t)=>f_(e+"-"+t)}addUpdateFontStyleInHeader(e){if(co(e))return;const t=[],n=this.fontStyles.find(t=>t.containerClassName===e.containerClassName);if(!co(n)){const e=n.fontFaces.filter(e=>e.specified).map(e=>e.internalKey),i=n.fontFaces.map(e=>e.internalKey);if(!ho(e.filter(e=>!i.includes(e)))){const i=this.fontStyles.filter(e=>e.containerClassName===n.containerClassName);ho(i)||ho(e)||i.forEach(n=>{const i=n.fontFaces.filter(e=>!e.specified).map(e=>e.internalKey);ho(e.filter(e=>i.includes(e)))||t.push(n)})}}co(n)?this.fontStyles.push(e):this.fontStyles[this.fontStyles.indexOf(n)]=e;let i=""+this.toLowerCaseConvertSpaces(e.containerClassName,"-"),r=document.getElementById(i);r&&r.remove();const l=this.constructStyleContent(e);let s=document.createElement("style");s.type="text/css",s.id=i,s.innerHTML=l,this.head.appendChild(s),ho(t)||t.forEach(e=>this.addUpdateFontStyleInHeader(e))}constructStyleContent(e){const t=this.buildGlyphFontFamilySpecifier(e);return e.fontFaces.forEach(t=>{const n=this.fontStyles.filter(t=>t.containerClassName!==e.containerClassName).map(e=>e.fontFaces.find(e=>e.internalKey==t.internalKey&&e.specified)).filter(e=>!co(e));ho(n),t.specified=ho(n)}),e.fontFaces.filter(e=>e.specified),`${e.fontFaces.filter(e=>e.specified).map(e=>this.buildFontFace(e)).join(" ")} ${t}`}getSpecifiedFontFaceCount(e){const t=this.fontStyles.find(t=>t.containerClassName===e);return t?t.fontFaces.filter(e=>e.specified).length:0}}return e.ngInjectableDef=ue({factory:function(){return new e(Pe(WS))},token:e,providedIn:"root"}),e})(),b_=(()=>{class e{constructor(){this.toastMessage=new I,this.toastMessage$=this.toastMessage.asObservable(),this.setToastMessage=e=>{this.toastMessage.next(e)}}}return e.ngInjectableDef=ue({factory:function(){return new e},token:e,providedIn:"root"}),e})(),v_=(()=>{class e{constructor(){this.iconGlyphs=[],this.transformGlyphs=e=>(e.forEach(e=>{t_(e)&&(e.transformedGlyph=this.transformToExtendedUnicode(e.unicodeValue))}),e),this.transformGlyph=e=>{t_(e)&&(e.transformedGlyph=this.transformToExtendedUnicode(e.unicodeValue))},this.toUTF16=e=>{const t=parseInt("1111111111",2);function n(e){return"\\u"+e.toString(16).toUpperCase()}if(e<=65535)return n(e);const i=56320+((e-=65536)&t);return n(55296+(e>>10))+n(i)},this.transformToExtendedUnicodeTemp=e=>{var t="";return e.split(" ").forEach(e=>{const n=parseInt(e,16);t+=String.fromCodePoint(n)}),t},this.transformToExtendedUnicode=e=>{var t=[];return e.split(" ").forEach(e=>{t.push(parseInt(e,16))}),String.fromCodePoint(...t)}}}return e.ngInjectableDef=ue({factory:function(){return new e},token:e,providedIn:"root"}),e})(),w_=(()=>{class e{constructor(e,t){this.http=e,this.baseUrl=t,this.iconLibraryFontApiPrefix="api/iconlibraryfont/",this.appInsightsApiPrefix="api/appinsights/",this.getUserProfile=()=>this.userProfile?Ra(this.userProfile):this.http.get(this.baseUrl+this.iconLibraryFontApiPrefix+"userprofile").pipe(Cc(e=>{this.userProfile=e})),this.getUserEmail=()=>this.userProfile?this.userProfile.userEmail:null,this.getBuildInfo=()=>this.buildInfo?Ra(this.buildInfo):this.http.get(this.baseUrl+this.appInsightsApiPrefix+"buildinfo").pipe(F(e=>(this.buildInfo=e,e)))}}return e.ngInjectableDef=ue({factory:function(){return new e(Pe(Mb),Pe("BASE_URL"))},token:e,providedIn:"root"}),e})();class C_{constructor(e,t){this.text=e,this.additionalText=t}}let S_=(()=>{class e{constructor(){this.viewHeaderDisplayChange=new yo(new C_("","")),this.viewHeaderDisplayChange$=this.viewHeaderDisplayChange.asObservable(),this.setViewHeaderDisplay=(e,t)=>{const n=new C_(e,t);this.viewHeaderDisplayChange.next(n)}}}return e.ngInjectableDef=ue({factory:function(){return new e},token:e,providedIn:"root"}),e})();function __(e,t){const n=t;switch(n.type){case"@ngrx/router-store/navigation":case"@ngrx/router-store/error":case"@ngrx/router-store/cancel":return{state:n.payload.routerState,navigationId:n.payload.event.id};default:return e}}class x_{}class I_{serialize(e){return{root:this.serializeRoute(e.root),url:e.url}}serializeRoute(e){const t=e.children.map(e=>this.serializeRoute(e));return{params:e.params,paramMap:e.paramMap,data:e.data,url:e.url,outlet:e.outlet,routeConfig:e.routeConfig?{component:e.routeConfig.component,path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet}:null,queryParams:e.queryParams,queryParamMap:e.queryParamMap,fragment:e.fragment,component:e.routeConfig?e.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:t[0],pathFromRoot:void 0,children:t}}}class k_{serialize(e){return{root:this.serializeRoute(e.root),url:e.url}}serializeRoute(e){const t=e.children.map(e=>this.serializeRoute(e));return{params:e.params,data:e.data,url:e.url,outlet:e.outlet,routeConfig:e.routeConfig?{path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet}:null,queryParams:e.queryParams,fragment:e.fragment,firstChild:t[0],children:t}}}const T_=function(){var e={PreActivation:1,PostActivation:2};return e[e.PreActivation]="PreActivation",e[e.PostActivation]="PostActivation",e}(),M_=new _e("@ngrx/router-store Internal Configuration"),E_=new _e("@ngrx/router-store Configuration");function P_(e){return Object.assign({stateKey:"router",serializer:I_,navigationActionTiming:T_.PreActivation},e)}const O_=function(){var e={NONE:1,ROUTER:2,STORE:3};return e[e.NONE]="NONE",e[e.ROUTER]="ROUTER",e[e.STORE]="STORE",e}();class D_{constructor(e,t,n,i,r){this.store=e,this.router=t,this.serializer=n,this.errorHandler=i,this.config=r,this.lastEvent=null,this.trigger=O_.NONE,this.stateKey=this.config.stateKey,this.setUpStoreStateListener(),this.setUpRouterEventsListener()}static forRoot(e={}){return{ngModule:D_,providers:[{provide:M_,useValue:e},{provide:E_,useFactory:P_,deps:[M_]},{provide:x_,useClass:e.serializer?e.serializer:1===e.routerState?k_:I_}]}}setUpStoreStateListener(){this.store.pipe(Bv(this.stateKey),sv(this.store)).subscribe(([e,t])=>{this.navigateIfNeeded(e,t)})}navigateIfNeeded(e,t){if(!e||!e.state)return;if(this.trigger===O_.ROUTER)return;if(this.lastEvent instanceof Au)return;const n=e.state.url;var i;i=n,N_(this.router.url)!==N_(i)&&(this.storeState=t,this.trigger=O_.STORE,this.router.navigateByUrl(n).catch(e=>{this.errorHandler.handleError(e)}))}setUpRouterEventsListener(){const e=this.config.navigationActionTiming===T_.PostActivation;let t;this.router.events.pipe(sv(this.store)).subscribe(([n,i])=>{this.lastEvent=n,n instanceof Au?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==O_.STORE&&(this.storeState=i,this.dispatchRouterRequest(n))):n instanceof Vu?(t=n,e||this.trigger===O_.STORE||this.dispatchRouterNavigation(n)):n instanceof Fu?(this.dispatchRouterCancel(n),this.reset()):n instanceof $u?(this.dispatchRouterError(n),this.reset()):n instanceof Lu&&(this.trigger!==O_.STORE&&(e&&this.dispatchRouterNavigation(t),this.dispatchRouterNavigated(n)),this.reset())})}dispatchRouterRequest(e){this.dispatchRouterAction("@ngrx/router-store/request",{event:e})}dispatchRouterNavigation(e){const t=this.serializer.serialize(e.state);this.dispatchRouterAction("@ngrx/router-store/navigation",{routerState:t,event:new Vu(e.id,e.url,e.urlAfterRedirects,t)})}dispatchRouterCancel(e){this.dispatchRouterAction("@ngrx/router-store/cancel",{storeState:this.storeState,event:e})}dispatchRouterError(e){this.dispatchRouterAction("@ngrx/router-store/error",{storeState:this.storeState,event:new $u(e.id,e.url,""+e)})}dispatchRouterNavigated(e){const t=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction("@ngrx/router-store/navigated",{event:e,routerState:t})}dispatchRouterAction(e,t){this.trigger=O_.ROUTER;try{this.store.dispatch({type:e,payload:Object.assign({routerState:this.routerState},t,{event:1===this.config.routerState?{id:t.event.id,url:t.event.url}:t.event})})}finally{this.trigger=O_.NONE}}reset(){this.trigger=O_.NONE,this.storeState=null,this.routerState=null}}function N_(e){return e.length>0&&"/"===e[e.length-1]?e.substring(0,e.length-1):e}const R_="[Router] Go";class A_{constructor(e){this.payload=e,this.type=R_}}var L_=function(e){return e.context="[View Context] Context of active view",e}({});class F_{constructor(e){this.payload=e,this.type=L_.context}}const $_={context:qw.browse};function V_(e=$_,t){switch(t.type){case L_.context:return Object.assign({},e,{context:t.payload});default:return e}}Zv("router");const U_=Zv("view");class j_{constructor(e){this.routeSerializerService=e}getTitle(){if(this.hasPartialIcon())return"";const e=this.routeSerializerService.getBrowseLibraryCollectionValueFromStore();let t="IconCloud | "+e.libraryName;""!==e.collectionName&&(t+=" > "+e.collectionName.replace("Assets",""));const n=this.routeSerializerService.getSelectedIconFromStore();if(n){const e=n;t+=" > "+e.friendlyName,XS(e)&&(t+=" - "+e.unicodeValue)}return t}hasIcon(){return!!this.routeSerializerService.getSelectedIconFromStore()}hasPartialIcon(){const e=this.routeSerializerService.getSelectedIconFromStore();return e&&""===e.friendlyName}}class z_{constructor(e){this.routeSerializerService=e}getTitle(){if(this.hasPartialIcon())return"";let e="IconCloud | Search - ";const t=this.routeSerializerService.getSearchTermsFromStore(),n=this.routeSerializerService.getKeywordsFromStore(),i=this.routeSerializerService.getLibraryNameFromStore(),r=this.routeSerializerService.getSelectedCollectionNameFromStore(),l=this.routeSerializerService.getSelectedIconFromStore();if(e+=""!==t?t:n,""!==i){if(e+=" | "+i,""===r&&l){const t=l;e+=" > "+t.friendlyName,XS(t)&&(e+=" - "+t.unicodeValue)}}else if(l){const t=l;e+=" > "+t.friendlyName,XS(t)&&(e+=" - "+t.unicodeValue)}if(""!==r&&(e+=" > "+r.replace("Assets",""),l)){const t=l;e+=" > "+t.friendlyName,XS(t)&&(e+=" - "+t.unicodeValue)}return e}hasIcon(){const e=this.routeSerializerService.getSelectedIconFromStore();return null!=e&&null!=e}hasPartialIcon(){const e=this.routeSerializerService.getSelectedIconFromStore();return e&&""===e.friendlyName}}class G_{constructor(e){this.routeSerializerService=e}getTitle(){return"IconCloud | Icon Directory"}hasIcon(){return!0}hasPartialIcon(){return!1}}class B_{constructor(e){this.routeSerializerService=e}getTitle(){return"IconCloud | Home"}hasIcon(){return!1}hasPartialIcon(){return!1}}let H_=(()=>{class e{getTitleStrategy(e,t){return""===e?new B_(t):"/"===e||e.startsWith("browse")?new j_(t):e.startsWith("search")?new z_(t):e.startsWith("collections")?new G_(t):void 0}}return e.ngInjectableDef=ue({factory:function(){return new e},token:e,providedIn:"root"}),e})();class q_{constructor(e,t,n,i,r,l,s,o){this.appInsightsService=e,this.notificationApiService=t,this.activatedRoute=n,this.router=i,this.store=r,this.routeSerializerService=l,this.titleStrategyFactory=s,this.titleService=o,this.subscriptions=new h,this.selectedIconsSubscription=new h,this.appContentMarginAdjustForAlerts="",this.appContentMarginForNavbar="",this.alertsShowing=0,this.libraryMetadataSubscription=new h,this.notificationSubscription=new h,this.hideHeader=!1,this.title="iconCloud",this.appWidthChanged=new yo(window.document.documentElement.clientWidth),this.currentRoute="",this.appWidthChanged$=this.appWidthChanged.asObservable(),this.onAlertDismiss=e=>{console.log("app.component => onAlertDismiss()",e.title)}}onResize(e){this.appWidthChanged.next(e.target.window.document.documentElement.clientWidth)}ngOnInit(){if(window.document.body.style.overflowY="scroll",this.appInsightsService.isEnabled){const e=this.appInsightsService.isReady$.subscribe(t=>{t&&(e.unsubscribe(),this.subscriptions.add(this.activatedRoute.queryParams.subscribe(()=>{this.appInsightsService.trackPageView(window.location.pathname,window.location.href)})),this.appInsightsService.setAuthenticatedUser())})}var e;this.notificationApiService.loadNotifications(),this.notificationSubscription=this.notificationApiService.alertsShowing$.subscribe(e=>{this.alertsShowing=e,this.appContentMarginAdjustForAlerts=52*this.alertsShowing+"px"}),this.router.events.pipe(Ga(e=>e instanceof Lu),F(()=>{this.hideHeader=void 0!==this.activatedRoute.firstChild&&0===this.activatedRoute.firstChild.snapshot.url.length,this.hideHeader?(this.appContentMarginForNavbar="0px",this.appContentMarginAdjustForAlerts=""):(this.appContentMarginForNavbar="",this.appContentMarginAdjustForAlerts=52*this.alertsShowing+"px")}),Ga(()=>void 0!==this.activatedRoute.firstChild&&this.activatedRoute.firstChild.snapshot.url.length>0),F(()=>{const e=this.activatedRoute.firstChild;return this.currentRoute=e.snapshot.url[0].path,e.snapshot.url[0].path}),F(e=>{const t=this.titleStrategyFactory.getTitleStrategy(e,this.routeSerializerService);return t.hasIcon()||this.selectedIconsSubscription.unsubscribe(),t.getTitle()})).subscribe(e=>{""!==e&&this.titleService.setTitle(e)}),this.selectedIcon$=this.store.select(ZC),this.selectedIconsSubscription=this.selectedIcon$.subscribe(e=>{if(e&&""!==e.friendlyName){const e=this.titleStrategyFactory.getTitleStrategy(this.currentRoute,this.routeSerializerService).getTitle();this.titleService.setTitle(e),this.selectedIconsSubscription.unsubscribe()}}),(e=this.store,e.select(XC).pipe(Cc(t=>{t||e.dispatch(new nC)}),Ga(e=>e),oc(1))).subscribe(()=>{});const t=window.location.href,n=window.location.href.indexOf("path=");if(n>-1){const e=t.substring(n+"path=".length),i=decodeURIComponent(e);this.router.navigateByUrl(i)}}ngOnDestroy(){this.selectedIconsSubscription.unsubscribe(),this.subscriptions.unsubscribe(),this.notificationSubscription.unsubscribe()}}const K_=new _e("NgValueAccessor"),W_=new _e("CompositionEventMode");class Q_{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Tc()?Tc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}class Z_{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class X_ extends Z_{get formDirective(){return null}get path(){return null}}function Y_(){throw new Error("unimplemented")}class J_ extends Z_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Y_()}get asyncValidator(){return Y_()}}class ex{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class tx extends ex{constructor(e){super(e)}}class nx extends ex{constructor(e){super(e)}}function ix(e){return null==e||0===e.length}const rx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lx{static min(e){return t=>{if(ix(t.value)||ix(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(ix(t.value)||ix(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return ix(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return ix(e.value)||rx.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(ix(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return lx.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(ix(e.value))return null;const i=e.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(sx);return 0==t.length?null:function(e){return ax(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(sx);return 0==t.length?null:function(e){return s_(function(e,t){return t.map(t=>t(e))}(e,t).map(ox)).pipe(F(ax))}}}function sx(e){return null!=e}function ox(e){const t=Ut(e)?j(e):e;if(!jt(t))throw new Error("Expected validator to return Promise or Observable.");return t}function ax(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}function cx(e){return e.validate?t=>e.validate(t):e}function ux(e){return e.validate?t=>e.validate(t):e}class hx{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}const dx='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',px='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function fx(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class gx{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(fx(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function mx(e,t){return null==e?""+t:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class yx{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(mx(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(mx(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function bx(e,t){return[...t.path,e]}function vx(e,t){e||Cx(t,"Cannot find control with"),t.valueAccessor||Cx(t,"No value accessor for form control with"),e.validator=lx.compose([e.validator,t.validator]),e.asyncValidator=lx.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&wx(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&wx(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function wx(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Cx(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function Sx(e){return null!=e?lx.compose(e.map(cx)):null}function _x(e){return null!=e?lx.composeAsync(e.map(ux)):null}const xx=[class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=At}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=fx(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=At}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const i=e.item(t),r=this._getOptionValue(i.value);n.push(r)}}else{const e=t.options;for(let t=0;t<e.length;t++){const i=e.item(t);if(i.selected){const e=this._getOptionValue(i.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},class{constructor(e,t,n,i){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(J_),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function Ix(e){const t=Tx(e)?e.validators:e;return Array.isArray(t)?Sx(t):t||null}function kx(e,t){const n=Tx(t)?t.asyncValidators:e;return Array.isArray(n)?_x(n):n||null}function Tx(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Mx{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=Ix(e)}setAsyncValidators(e){this.asyncValidator=kx(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING";const t=ox(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof Px?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof Ox&&e.at(t)||null,e))}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Cr,this.statusChanges=new Cr}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Tx(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Ex extends Mx{constructor(e=null,t,n){super(Ix(t),kx(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Px extends Mx{constructor(e,t,n){super(Ix(t),kx(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof Ex?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,i)=>{t=t||this.contains(i)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,i)=>{n=t(n,e,i)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ox extends Mx{constructor(e,t,n){super(Ix(t),kx(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Ex?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Dx=(()=>Promise.resolve(null))();class Nx extends X_{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Cr,this.form=new Px({},Sx(e),_x(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Dx.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),vx(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Dx.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),function(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this._directives,e)})}addFormGroup(e){Dx.then(()=>{const t=this._findContainer(e.path),n=new Px({});(function(e,t){null==e&&Cx(t,"Cannot find control with"),e.validator=lx.compose([e.validator,t.validator]),e.asyncValidator=lx.composeAsync([e.asyncValidator,t.asyncValidator])})(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Dx.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){Dx.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}class Rx{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${dx}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${px}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${dx}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${px}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const Ax=new _e("NgFormSelectorWarning");class Lx extends X_{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return bx(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Sx(this._validators)}get asyncValidator(){return _x(this._asyncValidators)}_checkParentType(){}}class Fx extends Lx{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof Fx||this._parent instanceof Nx||Rx.modelGroupParentException()}}const $x=(()=>Promise.resolve(null))();class Vx extends J_{constructor(e,t,n,i){super(),this.control=new Ex,this._registered=!1,this.update=new Cr,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||Cx(e,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,r=void 0;return t.forEach(t=>{var l;t.constructor===Q_?n=t:(l=t,xx.some(e=>l.constructor===e)?(i&&Cx(e,"More than one built-in value accessor matches form control with"),i=t):(r&&Cx(e,"More than one custom value accessor matches form control with"),r=t))}),r||i||n||(Cx(e,"No valid value accessor for form control with"),null)}(this,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!At(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?bx(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Sx(this._rawValidators)}get asyncValidator(){return _x(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vx(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Fx)&&this._parent instanceof Lx?Rx.formGroupNameException():this._parent instanceof Fx||this._parent instanceof Nx||Rx.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Rx.missingNameException()}_updateValue(e){$x.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;$x.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class Ux{}class jx{}class zx{static withConfig(e){return{ngModule:zx,providers:[{provide:Ax,useValue:e.warnOnDeprecatedNgFormSelector}]}}}const Gx=new Jb(Zb);function Bx(e){return!a(e)&&e-parseFloat(e)+1>=0}function Hx(e){const{index:t,period:n,subscriber:i}=e;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}function qx(e,t,n,r){return i(n)&&(r=n,n=void 0),r?qx(e,t,n).pipe(F(e=>a(e)?r(...e):r(e))):new w(i=>{!function e(t,n,i,r,l){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,i,l),s=()=>e.removeEventListener(n,i,l)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,i),s=()=>e.off(n,i)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,i),s=()=>e.removeListener(n,i)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)e(t[s],n,i,r,l)}r.add(s)}(e,t,(function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),i,n)})}class Kx{call(e,t){return t.subscribe(new Wx(e))}}class Wx extends L{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let n=0;n<t&&!this.hasFirst;n++){let t=e[n],i=A(this,t,t,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}notifyNext(e,t,n,i,r){if(!this.hasFirst){this.hasFirst=!0;for(let e=0;e<this.subscriptions.length;e++)if(e!==n){let t=this.subscriptions[e];t.unsubscribe(),this.remove(t)}this.subscriptions=null}this.destination.next(t)}}function Qx(e){return t=>t.lift(new Zx(e))}class Zx{constructor(e){this.notifier=e}call(e,t){const n=new Xx(e),i=A(n,this.notifier);return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}class Xx extends L{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,n,i,r){this.seenValue=!0,this.complete()}notifyComplete(){}}function Yx(e,t=Gx){var n;const i=(n=e)instanceof Date&&!isNaN(+n)?+e-t.now():Math.abs(e);return e=>e.lift(new Jx(i,t))}class Jx{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new eI(e,this.delay,this.scheduler))}}class eI extends f{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,i=e.scheduler,r=e.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const t=Math.max(0,n[0].time-i.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(eI.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new tI(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(nv.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(nv.createComplete()),this.unsubscribe()}}class tI{constructor(e,t){this.time=e,this.notification=t}}function nI(e){return parseInt(""+e,10)}function iI(e){return null!=e?""+e:""}function rI(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function lI(e){return null!=e}function sI(e,t){return e&&e.className&&e.className.split&&e.className.split(/\s+/).indexOf(t)>=0}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});class oI{}let aI=(()=>{class e{constructor(){this.dismissible=!0,this.type="warning"}}return e.ngInjectableDef=ue({factory:function(){return new e},token:e,providedIn:"root"}),e})();class cI{constructor(e,t,n){this._renderer=t,this._element=n,this.close=new Cr,this.dismissible=e.dismissible,this.type=e.type}closeHandler(){this.close.emit(null)}ngOnChanges(e){const t=e.type;t&&!t.firstChange&&(this._renderer.removeClass(this._element.nativeElement,"alert-"+t.previousValue),this._renderer.addClass(this._element.nativeElement,"alert-"+t.currentValue))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,"alert-"+this.type)}}class uI{}class hI{}class dI{}class pI{}class fI{static from(e){return e instanceof fI?e:e?new fI(e.year,e.month,e.day):null}constructor(e,t,n){this.year=rI(e)?e:null,this.month=rI(t)?t:null,this.day=rI(n)?n:null}equals(e){return e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function gI(e){return new fI(e.getFullYear(),e.getMonth()+1,e.getDate())}function mI(e){const t=new Date(e.year,e.month-1,e.day,12);return isNaN(t.getTime())||t.setFullYear(e.year),t}function yI(){return new vI}let bI=(()=>{class e{}return e.ngInjectableDef=ue({factory:yI,token:e,providedIn:"root"}),e})();class vI extends bI{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(e,t="d",n=1){let i=mI(e),r=!0,l=i.getMonth();switch(t){case"y":i.setFullYear(i.getFullYear()+n);break;case"m":l+=n,i.setMonth(l),l%=12,l<0&&(l+=12);break;case"d":i.setDate(i.getDate()+n),r=!1;break;default:return e}return r&&i.getMonth()!==l&&i.setDate(0),gI(i)}getPrev(e,t="d",n=1){return this.getNext(e,t,-n)}getWeekday(e){let t=mI(e).getDay();return 0===t?7:t}getWeekNumber(e,t){7===t&&(t=0);const n=mI(e[(11-t)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));const i=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((i-n.getTime())/864e5)/7)+1}getToday(){return gI(new Date)}isValid(e){if(!(e&&rI(e.year)&&rI(e.month)&&rI(e.day)))return!1;if(0===e.year)return!1;const t=mI(e);return!isNaN(t.getTime())&&t.getFullYear()===e.year&&t.getMonth()+1===e.month&&t.getDate()===e.day}}function wI(e,t){return!function(e,t){return!e&&!t||!!e&&!!t&&e.equals(t)}(e,t)}function CI(e,t){return!(!e&&!t||e&&t&&e.year===t.year&&e.month===t.month)}function SI(e,t,n){return e&&t&&e.before(t)?t:e&&n&&e.after(n)?n:e}function _I(e,t){const{minDate:n,maxDate:i,disabled:r,markDisabled:l}=t;return!(!lI(e)||r||l&&l(e,{year:e.year,month:e.month})||n&&e.before(n)||i&&e.after(i))}let xI=(()=>{class e{getDayNumerals(e){return""+e.day}getWeekNumerals(e){return""+e}getYearNumerals(e){return""+e}}return e.ngInjectableDef=ue({factory:function(){return e=Pe(Or),new II(e);var e},token:e,providedIn:"root"}),e})();class II extends xI{constructor(e){super(),this._locale=e;const t=Oo(e,To.Standalone,Mo.Short);this._weekdaysShort=t.map((e,n)=>t[(n+1)%7]),this._monthsShort=Do(e,To.Standalone,Mo.Abbreviated),this._monthsFull=Do(e,To.Standalone,Mo.Wide)}getWeekdayShortName(e){return this._weekdaysShort[e-1]}getMonthShortName(e){return this._monthsShort[e-1]}getMonthFullName(e){return this._monthsFull[e-1]}getDayAriaLabel(e){return function(e,t,n,i){let r=function(e){if(ea(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,i]=e.split("-").map(e=>+e);return new Date(t,n-1,i)}let n;if(n=e.match(Uo))return function(e){const t=new Date(0);let n=0,i=0;const r=e[8]?t.setUTCFullYear:t.setFullYear,l=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-n,o=Number(e[5]||0)-i,a=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return l.call(t,s,o,a,c),t}(n)}const t=new Date(e);if(!ea(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,n){const i=function(e){return wr(e)[yr.LocaleId]}(t);if(jo[i]=jo[i]||{},jo[i][n])return jo[i][n];let r="";switch(n){case"shortDate":r=No(t,Eo.Short);break;case"mediumDate":r=No(t,Eo.Medium);break;case"longDate":r=No(t,Eo.Long);break;case"fullDate":r=No(t,Eo.Full);break;case"shortTime":r=Ro(t,Eo.Short);break;case"mediumTime":r=Ro(t,Eo.Medium);break;case"longTime":r=Ro(t,Eo.Long);break;case"fullTime":r=Ro(t,Eo.Full);break;case"short":const n=e(t,"shortTime"),i=e(t,"shortDate");r=qo(Ao(t,Eo.Short),[n,i]);break;case"medium":const l=e(t,"mediumTime"),s=e(t,"mediumDate");r=qo(Ao(t,Eo.Medium),[l,s]);break;case"long":const o=e(t,"longTime"),a=e(t,"longDate");r=qo(Ao(t,Eo.Long),[o,a]);break;case"full":const c=e(t,"fullTime"),u=e(t,"fullDate");r=qo(Ao(t,Eo.Full),[c,u])}return r&&(jo[i][n]=r),r}(n,t)||t;let l,s=[];for(;t;){if(l=zo.exec(t),!l){s.push(t);break}{s=s.concat(l.slice(1));const e=s.pop();if(!e)break;t=e}}let o=r.getTimezoneOffset();i&&(o=Jo(i,o),r=function(e,t,n){const i=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Jo(t,i)-i))}(r,i));let a="";return s.forEach(e=>{const t=function(e){if(Yo[e])return Yo[e];let t;switch(e){case"G":case"GG":case"GGG":t=Qo(Ho.Eras,Mo.Abbreviated);break;case"GGGG":t=Qo(Ho.Eras,Mo.Wide);break;case"GGGGG":t=Qo(Ho.Eras,Mo.Narrow);break;case"y":t=Wo(Bo.FullYear,1,0,!1,!0);break;case"yy":t=Wo(Bo.FullYear,2,0,!0,!0);break;case"yyy":t=Wo(Bo.FullYear,3,0,!1,!0);break;case"yyyy":t=Wo(Bo.FullYear,4,0,!1,!0);break;case"M":case"L":t=Wo(Bo.Month,1,1);break;case"MM":case"LL":t=Wo(Bo.Month,2,1);break;case"MMM":t=Qo(Ho.Months,Mo.Abbreviated);break;case"MMMM":t=Qo(Ho.Months,Mo.Wide);break;case"MMMMM":t=Qo(Ho.Months,Mo.Narrow);break;case"LLL":t=Qo(Ho.Months,Mo.Abbreviated,To.Standalone);break;case"LLLL":t=Qo(Ho.Months,Mo.Wide,To.Standalone);break;case"LLLLL":t=Qo(Ho.Months,Mo.Narrow,To.Standalone);break;case"w":t=Xo(1);break;case"ww":t=Xo(2);break;case"W":t=Xo(1,!0);break;case"d":t=Wo(Bo.Date,1);break;case"dd":t=Wo(Bo.Date,2);break;case"E":case"EE":case"EEE":t=Qo(Ho.Days,Mo.Abbreviated);break;case"EEEE":t=Qo(Ho.Days,Mo.Wide);break;case"EEEEE":t=Qo(Ho.Days,Mo.Narrow);break;case"EEEEEE":t=Qo(Ho.Days,Mo.Short);break;case"a":case"aa":case"aaa":t=Qo(Ho.DayPeriods,Mo.Abbreviated);break;case"aaaa":t=Qo(Ho.DayPeriods,Mo.Wide);break;case"aaaaa":t=Qo(Ho.DayPeriods,Mo.Narrow);break;case"b":case"bb":case"bbb":t=Qo(Ho.DayPeriods,Mo.Abbreviated,To.Standalone,!0);break;case"bbbb":t=Qo(Ho.DayPeriods,Mo.Wide,To.Standalone,!0);break;case"bbbbb":t=Qo(Ho.DayPeriods,Mo.Narrow,To.Standalone,!0);break;case"B":case"BB":case"BBB":t=Qo(Ho.DayPeriods,Mo.Abbreviated,To.Format,!0);break;case"BBBB":t=Qo(Ho.DayPeriods,Mo.Wide,To.Format,!0);break;case"BBBBB":t=Qo(Ho.DayPeriods,Mo.Narrow,To.Format,!0);break;case"h":t=Wo(Bo.Hours,1,-12);break;case"hh":t=Wo(Bo.Hours,2,-12);break;case"H":t=Wo(Bo.Hours,1);break;case"HH":t=Wo(Bo.Hours,2);break;case"m":t=Wo(Bo.Minutes,1);break;case"mm":t=Wo(Bo.Minutes,2);break;case"s":t=Wo(Bo.Seconds,1);break;case"ss":t=Wo(Bo.Seconds,2);break;case"S":t=Wo(Bo.FractionalSeconds,1);break;case"SS":t=Wo(Bo.FractionalSeconds,2);break;case"SSS":t=Wo(Bo.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Zo(Go.Short);break;case"ZZZZZ":t=Zo(Go.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Zo(Go.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Zo(Go.Long);break;default:return null}return Yo[e]=t,t}(e);a+=t?t(r,n,o):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}(new Date(e.year,e.month-1,e.day),"fullDate",this._locale)}}class kI{constructor(e,t){this._calendar=e,this._i18n=t,this._VALIDATORS={dayTemplateData:e=>{if(this._state.dayTemplateData!==e)return{dayTemplateData:e}},displayMonths:e=>{if(rI(e=nI(e))&&e>0&&this._state.displayMonths!==e)return{displayMonths:e}},disabled:e=>{if(this._state.disabled!==e)return{disabled:e}},firstDayOfWeek:e=>{if(rI(e=nI(e))&&e>=0&&this._state.firstDayOfWeek!==e)return{firstDayOfWeek:e}},focusVisible:e=>{if(this._state.focusVisible!==e&&!this._state.disabled)return{focusVisible:e}},markDisabled:e=>{if(this._state.markDisabled!==e)return{markDisabled:e}},maxDate:e=>{const t=this.toValidDate(e,null);if(wI(this._state.maxDate,t))return{maxDate:t}},minDate:e=>{const t=this.toValidDate(e,null);if(wI(this._state.minDate,t))return{minDate:t}},navigation:e=>{if(this._state.navigation!==e)return{navigation:e}},outsideDays:e=>{if(this._state.outsideDays!==e)return{outsideDays:e}}},this._model$=new I,this._dateSelect$=new I,this._state={disabled:!1,displayMonths:1,firstDayOfWeek:1,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectBoxes:{years:[],months:[]},selectedDate:null}}get model$(){return this._model$.pipe(Ga(e=>e.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(Ga(e=>null!==e))}set(e){let t=Object.keys(e).map(t=>this._VALIDATORS[t](e[t])).reduce((e,t)=>Object.assign({},e,t),{});Object.keys(t).length>0&&this._nextState(t)}focus(e){!this._state.disabled&&this._calendar.isValid(e)&&wI(this._state.focusDate,e)&&this._nextState({focusDate:e})}focusSelect(){_I(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(e){const t=this.toValidDate(e,this._calendar.getToday());this._state.disabled||this._state.firstDate&&!CI(this._state.firstDate,e)||this._nextState({firstDate:t})}select(e,t={}){const n=this.toValidDate(e,null);this._state.disabled||(wI(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),t.emitEvent&&_I(n,this._state)&&this._dateSelect$.next(n))}toValidDate(e,t){const n=fI.from(e);return void 0===t&&(t=this._calendar.getToday()),this._calendar.isValid(n)?n:t}getMonth(e){for(let t of this._state.months)if(e.month===t.number&&e.year===t.year)return t;throw new Error(`month ${e.month} of year ${e.year} not found`)}_nextState(e){const t=this._updateState(e);this._patchContexts(t),this._state=t,this._model$.next(this._state)}_patchContexts(e){const{months:t,displayMonths:n,selectedDate:i,focusDate:r,focusVisible:l,disabled:s,outsideDays:o}=e;e.months.forEach(e=>{e.weeks.forEach(a=>{a.days.forEach(a=>{r&&(a.context.focused=r.equals(a.date)&&l),a.tabindex=!s&&a.date.equals(r)&&r.month===e.number?0:-1,!0===s&&(a.context.disabled=!0),void 0!==i&&(a.context.selected=null!==i&&i.equals(a.date)),e.number!==a.date.month&&(a.hidden="hidden"===o||"collapsed"===o||n>1&&a.date.after(t[0].firstDate)&&a.date.before(t[n-1].lastDate))})})})}_updateState(e){const t=Object.assign({},this._state,e);let n=t.firstDate;if(("minDate"in e||"maxDate"in e)&&(function(e,t){if(t&&e&&t.before(e))throw new Error(`'maxDate' ${t} should be greater than 'minDate' ${e}`)}(t.minDate,t.maxDate),t.focusDate=SI(t.focusDate,t.minDate,t.maxDate),t.firstDate=SI(t.firstDate,t.minDate,t.maxDate),n=t.focusDate),"disabled"in e&&(t.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(n=t.selectedDate),"focusVisible"in e)return t;if("focusDate"in e&&(t.focusDate=SI(t.focusDate,t.minDate,t.maxDate),n=t.focusDate,0!==t.months.length&&!t.focusDate.before(t.firstDate)&&!t.focusDate.after(t.lastDate)))return t;if("firstDate"in e&&(t.firstDate=SI(t.firstDate,t.minDate,t.maxDate),n=t.firstDate),n){const i=function(e,t,n,i,r){const{displayMonths:l,months:s}=n,o=s.splice(0,s.length);return Array.from({length:l},(n,i)=>{const l=Object.assign(e.getNext(t,"m",i),{day:1});if(s[i]=null,!r){const e=o.findIndex(e=>e.firstDate.equals(l));-1!==e&&(s[i]=o.splice(e,1)[0])}return l}).forEach((t,r)=>{null===s[r]&&(s[r]=function(e,t,n,i,r={}){const{dayTemplateData:l,minDate:s,maxDate:o,firstDayOfWeek:a,markDisabled:c,outsideDays:u}=n,h=e.getToday();r.firstDate=null,r.lastDate=null,r.number=t.month,r.year=t.year,r.weeks=r.weeks||[],r.weekdays=r.weekdays||[],t=function(e,t,n){const i=e.getDaysPerWeek(),r=new fI(t.year,t.month,1),l=e.getWeekday(r)%i;return e.getPrev(r,"d",(i+l-n)%i)}(e,t,a);for(let d=0;d<e.getWeeksPerMonth();d++){let n=r.weeks[d];n||(n=r.weeks[d]={number:0,days:[],collapsed:!0});const p=n.days;for(let a=0;a<e.getDaysPerWeek();a++){0===d&&(r.weekdays[a]=e.getWeekday(t));const n=new fI(t.year,t.month,t.day),u=e.getNext(n),f=i.getDayAriaLabel(n);let g=!!(s&&n.before(s)||o&&n.after(o));!g&&c&&(g=c(n,{month:r.number,year:r.year}));let m=n.equals(h),y=l?l(n,{month:r.number,year:r.year}):void 0;null===r.firstDate&&n.month===r.number&&(r.firstDate=n),n.month===r.number&&u.month!==r.number&&(r.lastDate=n);let b=p[a];b||(b=p[a]={}),b.date=n,b.context=Object.assign(b.context||{},{$implicit:n,date:n,data:y,currentMonth:r.number,currentYear:r.year,disabled:g,focused:!1,selected:!1,today:m}),b.tabindex=-1,b.ariaLabel=f,b.hidden=!1,t=u}n.number=e.getWeekNumber(p.map(e=>e.date),a),n.collapsed="collapsed"===u&&p[0].date.month!==r.number&&p[p.length-1].date.month!==r.number}return r}(e,t,n,i,o.shift()||{}))}),s}(this._calendar,n,t,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e);t.months=i,t.firstDate=i.length>0?i[0].firstDate:void 0,t.lastDate=i.length>0?i[i.length-1].lastDate:void 0,"selectedDate"in e&&!_I(t.selectedDate,t)&&(t.selectedDate=null),"firstDate"in e&&(void 0===t.focusDate||t.focusDate.before(t.firstDate)||t.focusDate.after(t.lastDate))&&(t.focusDate=n);const r=!this._state.firstDate||this._state.firstDate.year!==t.firstDate.year,l=!this._state.firstDate||this._state.firstDate.month!==t.firstDate.month;"select"===t.navigation?(("minDate"in e||"maxDate"in e||0===t.selectBoxes.years.length||r)&&(t.selectBoxes.years=function(e,t,n){if(!e)return[];const i=t?Math.max(t.year,e.year-500):e.year-10,r=(n?Math.min(n.year,e.year+500):e.year+10)-i+1,l=Array(r);for(let s=0;s<r;s++)l[s]=i+s;return l}(t.firstDate,t.minDate,t.maxDate)),("minDate"in e||"maxDate"in e||0===t.selectBoxes.months.length||r)&&(t.selectBoxes.months=function(e,t,n,i){if(!t)return[];let r=e.getMonths(t.year);if(n&&t.year===n.year){const e=r.findIndex(e=>e===n.month);r=r.slice(e)}if(i&&t.year===i.year){const e=r.findIndex(e=>e===i.month);r=r.slice(0,e+1)}return r}(this._calendar,t.firstDate,t.minDate,t.maxDate))):t.selectBoxes={years:[],months:[]},"arrows"!==t.navigation&&"select"!==t.navigation||!(l||r||"minDate"in e||"maxDate"in e||"disabled"in e)||(t.prevDisabled=t.disabled||function(e,t,n){const i=Object.assign(e.getPrev(t,"m"),{day:1});return n&&(i.year===n.year&&i.month<n.month||i.year<n.year&&1===n.month)}(this._calendar,t.firstDate,t.minDate),t.nextDisabled=t.disabled||function(e,t,n){const i=Object.assign(e.getNext(t,"m"),{day:1});return n&&i.after(n)}(this._calendar,t.lastDate,t.maxDate))}return t}}const TI=function(){var e={PREV:0,NEXT:1};return e[e.PREV]="PREV",e[e.NEXT]="NEXT",e}();let MI=(()=>{class e{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}}return e.ngInjectableDef=ue({factory:function(){return new e},token:e,providedIn:"root"}),e})();function EI(){return new OI}let PI=(()=>{class e{}return e.ngInjectableDef=ue({factory:EI,token:e,providedIn:"root"}),e})();class OI extends PI{fromModel(e){return e&&rI(e.year)&&rI(e.month)&&rI(e.day)?{year:e.year,month:e.month,day:e.day}:null}toModel(e){return e&&rI(e.year)&&rI(e.month)&&rI(e.day)?{year:e.year,month:e.month,day:e.day}:null}}class DI{constructor(e,t,n,i,r,l,s,o){this._service=e,this._calendar=t,this.i18n=n,this._elementRef=l,this._ngbDateAdapter=s,this._ngZone=o,this._destroyed$=new I,this._publicState={},this.navigate=new Cr,this.dateSelect=new Cr,this.select=this.dateSelect,this.onChange=e=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach(e=>this[e]=i[e]),e.dateSelect$.pipe(Qx(this._destroyed$)).subscribe(e=>{this.dateSelect.emit(e)}),e.model$.pipe(Qx(this._destroyed$)).subscribe(e=>{const t=e.firstDate,n=this.model?this.model.firstDate:null;this._publicState={maxDate:e.maxDate,minDate:e.minDate,firstDate:e.firstDate,lastDate:e.lastDate,focusedDate:e.focusDate,months:e.months.map(e=>e.firstDate)};let i=!1;if(!t.equals(n)&&(this.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:t.year,month:t.month},preventDefault:()=>i=!0}),i&&null!==n))return void this._service.open(n);const l=e.selectedDate,s=e.focusDate,o=this.model?this.model.focusDate:null;this.model=e,wI(l,this._controlValue)&&(this._controlValue=l,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(l))),wI(s,o)&&o&&e.focusVisible&&this.focus(),r.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(e){this._service.focus(fI.from(e))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(oc(1)).subscribe(()=>{const e=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()})}navigateTo(e){this._service.open(fI.from(e?e.day?e:Object.assign({},e,{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=qx(this._contentEl.nativeElement,"focusin"),t=qx(this._contentEl.nativeElement,"focusout"),{nativeElement:n}=this._elementRef;W(e,t).pipe(Ga(({target:e,relatedTarget:t})=>!(sI(e,"ngb-dp-day")&&sI(t,"ngb-dp-day")&&n.contains(e)&&n.contains(t))),Qx(this._destroyed$)).subscribe(({type:e})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===e})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach(t=>e[t]=this[t]),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(e){const t={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter(t=>t in e).forEach(e=>t[e]=this[e]),this._service.set(t),"startDate"in e){const{currentValue:t,previousValue:n}=e.startDate;CI(n,t)&&this.navigateTo(this.startDate)}}onDateSelect(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}onNavigateDateSelect(e){this._service.open(e)}onNavigateEvent(e){switch(e){case TI.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case TI.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._service.set({disabled:e})}writeValue(e){this._controlValue=fI.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}}const NI=function(){var e={Tab:9,Enter:13,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40};return e[e.Tab]="Tab",e[e.Enter]="Enter",e[e.Escape]="Escape",e[e.Space]="Space",e[e.PageUp]="PageUp",e[e.PageDown]="PageDown",e[e.End]="End",e[e.Home]="Home",e[e.ArrowLeft]="ArrowLeft",e[e.ArrowUp]="ArrowUp",e[e.ArrowRight]="ArrowRight",e[e.ArrowDown]="ArrowDown",e}();let RI=(()=>{class e{processKey(e,t){const{state:n,calendar:i}=t;switch(e.which){case NI.PageUp:t.focusDate(i.getPrev(n.focusedDate,e.shiftKey?"y":"m",1));break;case NI.PageDown:t.focusDate(i.getNext(n.focusedDate,e.shiftKey?"y":"m",1));break;case NI.End:t.focusDate(e.shiftKey?n.maxDate:n.lastDate);break;case NI.Home:t.focusDate(e.shiftKey?n.minDate:n.firstDate);break;case NI.ArrowLeft:t.focusDate(i.getPrev(n.focusedDate,"d",1));break;case NI.ArrowUp:t.focusDate(i.getPrev(n.focusedDate,"d",i.getDaysPerWeek()));break;case NI.ArrowRight:t.focusDate(i.getNext(n.focusedDate,"d",1));break;case NI.ArrowDown:t.focusDate(i.getNext(n.focusedDate,"d",i.getDaysPerWeek()));break;case NI.Enter:case NI.Space:t.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}}return e.ngInjectableDef=ue({factory:function(){return new e},token:e,providedIn:"root"}),e})();class AI{constructor(e,t,n,i){this.i18n=e,this.datepicker=t,this._keyboardService=n,this._service=i}set month(e){this.viewModel=this._service.getMonth(e)}onKeyDown(e){this._keyboardService.processKey(e,this.datepicker)}doSelect(e){e.context.disabled||e.hidden||this.datepicker.onDateSelect(e.date)}}class LI{constructor(e){this.i18n=e,this.navigation=TI,this.months=[],this.navigate=new Cr,this.select=new Cr}onClickPrev(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}const FI=(e,t)=>!!t&&t.some(t=>t.contains(e)),$I=(e,t)=>!t||null!=function(e,t){return t?e.closest(t):null}(e,t),VI=(()=>"undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)))();function UI(e,t,n,i,r,l,s,o){var c;n&&e.runOutsideAngular((c=()=>{const c=qx(t,"keydown").pipe(Qx(r),Ga(e=>e.which===NI.Escape),Cc(e=>e.preventDefault())),u=qx(t,"mousedown").pipe(F(e=>{const t=e.target;return 2!==e.button&&!FI(t,s)&&("inside"===n?FI(t,l)&&$I(t,o):"outside"===n?!FI(t,l):$I(t,o)||!FI(t,l))}),Qx(r));(function(...e){if(1===e.length){if(!a(e[0]))return e[0];e=e[0]}return K(e,void 0).lift(new Kx)})([c,qx(t,"mouseup").pipe(sv(u),Ga(([e,t])=>t),Yx(0),Qx(r))]).subscribe(()=>e.run(i))},VI?()=>setTimeout(()=>c(),100):c))}const jI=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function zI(e){const t=Array.from(e.querySelectorAll(jI)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}class GI{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let n,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))n=e.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const t=this.offsetParent(e);n=this.offset(e,!1),t!==document.documentElement&&(i=this.offset(t,!1)),i.top+=t.clientTop,i.left+=t.clientLeft}return n.top-=i.top,n.bottom-=i.top,n.left-=i.left,n.right-=i.left,t&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(e,t=!0){const n=e.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,r=window.pageXOffset-document.documentElement.clientLeft;let l={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+r,right:n.right+r};return t&&(l.height=Math.round(l.height),l.width=Math.round(l.width),l.top=Math.round(l.top),l.bottom=Math.round(l.bottom),l.left=Math.round(l.left),l.right=Math.round(l.right)),l}positionElements(e,t,n,i){const[r="top",l="center"]=n.split("-"),s=i?this.offset(e,!1):this.position(e,!1),o=this.getAllStyles(t),a=parseFloat(o.marginTop),c=parseFloat(o.marginBottom),u=parseFloat(o.marginLeft),h=parseFloat(o.marginRight);let d=0,p=0;switch(r){case"top":d=s.top-(t.offsetHeight+a+c);break;case"bottom":d=s.top+s.height;break;case"left":p=s.left-(t.offsetWidth+u+h);break;case"right":p=s.left+s.width}switch(l){case"top":d=s.top;break;case"bottom":d=s.top+s.height-t.offsetHeight;break;case"left":p=s.left;break;case"right":p=s.left+s.width-t.offsetWidth;break;case"center":"top"===r||"bottom"===r?p=s.left+s.width/2-t.offsetWidth/2:d=s.top+s.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(p)}px, ${Math.round(d)}px)`;const f=t.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,y=window.innerWidth||g.clientWidth;return f.left>=0&&f.top>=0&&f.right<=y&&f.bottom<=m}}const BI=/\s+/,HI=new GI;function qI(e,t,n,i,r){let l=Array.isArray(n)?n:n.split(BI);const s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],o=t.classList,a=e=>{const[t,n]=e.split("-"),i=[];return r&&(i.push(`${r}-${t}`),n&&i.push(`${r}-${t}-${n}`),i.forEach(e=>{o.add(e)})),i};r&&s.forEach(e=>{o.remove(`${r}-${e}`)});let c=l.findIndex(e=>"auto"===e);c>=0&&s.forEach((function(e){null==l.find(t=>-1!==t.search("^"+e))&&l.splice(c++,1,e)}));const u=t.style;let h;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";let d=!1;for(h of l){let n=a(h);if(HI.positionElements(e,t,h,i)){d=!0;break}r&&n.forEach(e=>{o.remove(e)})}return d||(h=l[0],a(h),HI.positionElements(e,t,h,i)),h}class KI{constructor(e){this.i18n=e}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}class WI{constructor(e,t){this.i18n=e,this._renderer=t,this.select=new Cr,this._month=-1,this._year=-1}changeMonth(e){this.select.emit(new fI(this.date.year,nI(e),1))}changeYear(e){this.select.emit(new fI(nI(e),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}class QI{}class ZI{}class XI{}let YI=(()=>{class e{constructor(){this.backdrop=!0,this.keyboard=!0}}return e.ngInjectableDef=ue({factory:function(){return new e},token:e,providedIn:"root"}),e})();class JI{constructor(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n}}class ek{constructor(e,t,n,i,r,l){this._type=e,this._injector=t,this._viewContainerRef=n,this._renderer=i,this._componentFactoryResolver=r,this._applicationRef=l}open(e,t){return this._windowRef||(this._contentRef=this._getContentRef(e,t),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),0,this._injector,this._contentRef.nodes)),this._windowRef}close(){this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,this._contentRef.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null))}_getContentRef(e,t){if(e){if(e instanceof Sn){const n=e.createEmbeddedView(t);return this._applicationRef.attachView(n),new JI([n.rootNodes],n)}return new JI([[this._renderer.createText(""+e)]])}return new JI([])}}const tk=()=>{};let nk=(()=>{class e{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):tk}_adjustBody(e){const t=this._document.body,n=t.style.paddingRight,i=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]=i+e+"px",()=>t.style["padding-right"]=n}_isPresent(e){const t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const t=this._document.body;t.appendChild(e);const n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}return e.ngInjectableDef=ue({factory:function(){return new e(Pe(Oa))},token:e,providedIn:"root"}),e})();class ik{}class rk{close(e){}dismiss(e){}}class lk{constructor(e,t,n,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=n,this._beforeDismiss=i,e.instance.dismissEvent.subscribe(e=>{this.dismiss(e)}),this.result=new Promise((e,t)=>{this._resolve=e,this._reject=t}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(e){this._windowCmptRef&&(this._resolve(e),this._removeModalElements())}_dismiss(e){this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(t=>{!1!==t&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.location.nativeElement;if(e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._backdropCmptRef){const e=this._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}const sk=function(){var e={BACKDROP_CLICK:0,ESC:1};return e[e.BACKDROP_CLICK]="BACKDROP_CLICK",e[e.ESC]="ESC",e}();class ok{constructor(e,t,n){this._document=e,this._elRef=t,this._zone=n,this._closed$=new I,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Cr}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){const{nativeElement:e}=this._elRef;if(this._zone.runOutsideAngular(()=>{qx(e,"keydown").pipe(Qx(this._closed$),Ga(e=>e.which===NI.Escape&&this.keyboard)).subscribe(e=>requestAnimationFrame(()=>{e.defaultPrevented||this._zone.run(()=>this.dismiss(sk.ESC))}));let t=!1;qx(this._dialogEl.nativeElement,"mousedown").pipe(Qx(this._closed$),Cc(()=>t=!1),pc(()=>qx(e,"mouseup").pipe(Qx(this._closed$),oc(1))),Ga(({target:t})=>e===t)).subscribe(()=>{t=!0}),qx(e,"click").pipe(Qx(this._closed$)).subscribe(({target:n})=>{!0!==this.backdrop||e!==n||t||this._zone.run(()=>this.dismiss(sk.BACKDROP_CLICK)),t=!1})}),!e.contains(document.activeElement)){const t=e.querySelector("[ngbAutofocus]"),n=zI(e)[0];(t||n||e).focus()}}ngOnDestroy(){const e=this._document.body,t=this._elWithFocus;let n;n=t&&t.focus&&e.contains(t)?t:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null}),this._closed$.next()}}let ak=(()=>{class e{constructor(e,t,n,i,r,l){this._applicationRef=e,this._injector=t,this._document=n,this._scrollBar=i,this._rendererFactory=r,this._ngZone=l,this._activeWindowCmptHasChanged=new I,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const e=this._windowCmpts[this._windowCmpts.length-1];((e,t,n,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const e=qx(t,"focusin").pipe(Qx(n),F(e=>e.target));qx(t,"keydown").pipe(Qx(n),Ga(e=>e.which===NI.Tab),sv(e)).subscribe(([e,n])=>{const[i,r]=zI(t);n!==i&&n!==t||!e.shiftKey||(r.focus(),e.preventDefault()),n!==r||e.shiftKey||(i.focus(),e.preventDefault())}),i&&qx(t,"click").pipe(Qx(n),sv(e),F(e=>e[1])).subscribe(e=>e.focus())})})(0,e.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(e.location.nativeElement)}})}open(e,t,n,i){const r=i.container instanceof HTMLElement?i.container:lI(i.container)?this._document.querySelector(i.container):this._document.body,l=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),o=()=>{this._modalRefs.length||(l.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!r)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);const a=new rk,c=this._getContentRef(e,i.injector||t,n,a,i);let u=!1!==i.backdrop?this._attachBackdrop(e,r):null,h=this._attachWindowComponent(e,r,c),d=new lk(h,c,u,i.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(s,s),d.result.then(o,o),a.close=e=>{d.close(e)},a.dismiss=e=>{d.dismiss(e)},this._applyWindowOptions(h.instance,i),1===this._modalRefs.length&&l.addClass(this._document.body,"modal-open"),u&&u.instance&&this._applyBackdropOptions(u.instance,i),d}dismissAll(e){this._modalRefs.forEach(t=>t.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,t){let n=e.resolveComponentFactory(ik).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,t,n){let i=e.resolveComponentFactory(ok).create(this._injector,n.nodes);return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(e,t){this._windowAttributes.forEach(n=>{lI(t[n])&&(e[n]=t[n])})}_applyBackdropOptions(e,t){this._backdropAttributes.forEach(n=>{lI(t[n])&&(e[n]=t[n])})}_getContentRef(e,t,n,i,r){return n?n instanceof Sn?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,i,r):new JI([])}_createFromTemplateRef(e,t){const n=e.createEmbeddedView({$implicit:t,close(e){t.close(e)},dismiss(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new JI([n.rootNodes],n)}_createFromString(e){const t=this._document.createTextNode(""+e);return new JI([[t]])}_createFromComponent(e,t,n,i,r){const l=e.resolveComponentFactory(n),s=xt.create({providers:[{provide:rk,useValue:i}],parent:t}),o=l.create(s),a=o.location.nativeElement;return r.scrollable&&a.classList.add("component-host-scrollable"),this._applicationRef.attachView(o.hostView),new JI([[a]],o.hostView,o)}_setAriaHidden(e){const t=e.parentElement;t&&e!==this._document.body&&(Array.from(t.children).forEach(t=>{t!==e&&"SCRIPT"!==t.nodeName&&(this._ariaHiddenValues.set(t,t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}),this._setAriaHidden(t))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const t=()=>{const t=this._modalRefs.indexOf(e);t>-1&&this._modalRefs.splice(t,1)};this._modalRefs.push(e),e.result.then(t,t)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const t=this._windowCmpts.indexOf(e);t>-1&&(this._windowCmpts.splice(t,1),this._activeWindowCmptHasChanged.next())})}}return e.ngInjectableDef=ue({factory:function(){return new e(Pe(dl),Pe(xe),Pe(Oa),Pe(nk),Pe(en),Pe(Wr))},token:e,providedIn:"root"}),e})(),ck=(()=>{class e{constructor(e,t,n,i){this._moduleCFR=e,this._injector=t,this._modalStack=n,this._config=i}open(e,t={}){const n=Object.assign({},this._config,t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.ngInjectableDef=ue({factory:function(){return new e(Pe(Kt),Pe(xe),Pe(ak),Pe(YI))},token:e,providedIn:"root"}),e})();class uk{}class hk{}class dk{}class pk{constructor(e,t){this.open=e,this.close=t,t||(this.close=e)}isManual(){return"manual"===this.open||"manual"===this.close}}const fk={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},gk=e=>e>0?Yx(e):e=>e;function mk(e,t,n,i,r,l,s=0,o=0){const a=function(e,t=fk){const n=(e||"").trim();if(0===n.length)return[];const i=n.split(/\s+/).map(e=>e.split(":")).map(e=>{let n=t[e[0]]||e;return new pk(n[0],n[1])}),r=i.filter(e=>e.isManual());if(r.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===r.length&&i.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i}(n);if(1===a.length&&a[0].isManual())return()=>{};const c=function(e,t,n,i){return new w(r=>{const l=[],s=()=>r.next(!0),o=()=>r.next(!1),a=()=>r.next(!i());return n.forEach(n=>{n.open===n.close?l.push(e.listen(t,n.open,a)):l.push(e.listen(t,n.open,s),e.listen(t,n.close,o))}),()=>{l.forEach(e=>e())}})}(e,t,a,i).pipe(function(e,t,n){return i=>{let r=null;const l=i.pipe(F(e=>({open:e})),Ga(e=>{const t=n();return t===e.open||r&&r.open!==t?(r&&r.open!==e.open&&(r=null),!1):(r=e,!0)}),ne());return W(l.pipe(Ga(e=>e.open),gk(e)),l.pipe(Ga(e=>!e.open),gk(t))).pipe(Ga(e=>e===r&&(r=null,e.open!==n())),F(e=>e.open))}}(s,o,i)).subscribe(e=>e?r():l());return()=>c.unsubscribe()}let yk=(()=>{class e{constructor(){this.autoClose=!0,this.placement="auto",this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}}return e.ngInjectableDef=ue({factory:function(){return new e},token:e,providedIn:"root"}),e})(),bk=0;class vk{isTitleTemplate(){return this.title instanceof Sn}}class wk{constructor(e,t,n,i,r,l,s,o,a,c){this._elementRef=e,this._renderer=t,this._ngZone=s,this._document=o,this._changeDetector=a,this.shown=new Cr,this.hidden=new Cr,this._ngbPopoverWindowId="ngb-popover-"+bk++,this.autoClose=l.autoClose,this.placement=l.placement,this.triggers=l.triggers,this.container=l.container,this.disablePopover=l.disablePopover,this.popoverClass=l.popoverClass,this.openDelay=l.openDelay,this.closeDelay=l.closeDelay,this._popupService=new ek(vk,n,r,t,i,c),this._zoneSubscription=s.onStable.subscribe(()=>{this._windowRef&&qI(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container,"bs-popover")})}_isDisabled(){return!!this.disablePopover||!this.ngbPopover&&!this.popoverTitle}open(e){this._windowRef||this._isDisabled()||(this._windowRef=this._popupService.open(this.ngbPopover,e),this._windowRef.instance.title=this.popoverTitle,this._windowRef.instance.context=e,this._windowRef.instance.popoverClass=this.popoverClass,this._windowRef.instance.id=this._ngbPopoverWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),UI(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),this.shown.emit())}close(){this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(),this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck())}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=mk(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({ngbPopover:e,popoverTitle:t,disablePopover:n,popoverClass:i}){i&&this.isOpen()&&(this._windowRef.instance.popoverClass=i.currentValue),(e||t||n)&&this._isDisabled()&&this.close()}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}class Ck{}class Sk{}class _k{}class xk{}class Ik{}class kk{}let Tk=(()=>{class e{constructor(){this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}}return e.ngInjectableDef=ue({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Mk=0;class Ek{}class Pk{constructor(e,t,n,i,r,l,s,o,a,c){this._elementRef=e,this._renderer=t,this._ngZone=s,this._document=o,this._changeDetector=a,this.shown=new Cr,this.hidden=new Cr,this._ngbTooltipWindowId="ngb-tooltip-"+Mk++,this.autoClose=l.autoClose,this.placement=l.placement,this.triggers=l.triggers,this.container=l.container,this.disableTooltip=l.disableTooltip,this.tooltipClass=l.tooltipClass,this.openDelay=l.openDelay,this.closeDelay=l.closeDelay,this._popupService=new ek(Ek,n,r,t,i,c),this._zoneSubscription=s.onStable.subscribe(()=>{this._windowRef&&qI(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container,"bs-tooltip")})}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){this._windowRef||!this._ngbTooltip||this.disableTooltip||(this._windowRef=this._popupService.open(this._ngbTooltip,e),this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),UI(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),this.shown.emit())}close(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(),this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck())}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=mk(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&(this._windowRef.instance.tooltipClass=e.currentValue)}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}class Ok{}class Dk{constructor(){this.highlightClass="ngb-highlight"}ngOnChanges(e){const t=iI(this.result),n=(Array.isArray(this.term)?this.term:[this.term]).map(e=>iI(e).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")).filter(e=>e);this.parts=n.length?t.split(new RegExp(`(${n.join("|")})`,"gmi")):[t]}}class Nk{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=iI,this.selectEvent=new Cr,this.activeChangeEvent=new Cr}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(e){this.activeIdx=e,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(e){this.selectEvent.emit(e)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}class Rk{}class Ak{}var Lk=jn({encapsulation:2,styles:["ngb-alert{display:block}"],data:{}});function Fk(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.closeHandler()&&i),i}),null,null)),(e()(),Dl(1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Wl(-1,null,["\xd7"]))],null,null)}function $k(e){return Xl(2,[zl(null,0),(e()(),Ol(16777216,null,null,1,null,Fk)),Yi(2,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,t.component.dismissible)}),null)}function Vk(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,$k,Lk)),Yi(1,638976,null,0,cI,[aI,nn,Xt],null,null)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,Vi(t,1).dismissible)}))}var Uk=Mi("ngb-alert",cI,Vk,{dismissible:"dismissible",type:"type"},{close:"close"},["*"]),jk=jn({encapsulation:2,styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:0 0}[ngbDatepickerDayView].outside{opacity:.5}"],data:{}});function zk(e){return Xl(2,[(e()(),Wl(0,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n.i18n.getDayNumerals(n.date))}))}var Gk=jn({encapsulation:2,styles:["ngb-datepicker-navigation{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:-ms-flexbox;display:flex;-ms-flex:1 1 9rem;flex:1 1 9rem}"],data:{}});function Bk(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"ngb-datepicker-navigation-select",[["class","ngb-dp-navigation-select"]],null,[[null,"select"]],(function(e,t,n){var i=!0;return"select"===t&&(i=!1!==e.component.select.emit(n)&&i),i}),Jk,Zk)),Yi(1,8437760,null,0,WI,[xI,nn],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],years:[3,"years"]},{select:"select"})],(function(e,t){var n=t.component;e(t,1,0,n.date,n.disabled,n.selectBoxes.months,n.selectBoxes.years)}),null)}function Hk(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function qk(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function Kk(e){return Xl(0,[(e()(),Ol(16777216,null,null,1,null,Hk)),Yi(1,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(2,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(e()(),Wl(3,null,[" "," "," "])),(e()(),Ol(16777216,null,null,1,null,qk)),Yi(5,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,t.context.index>0),e(t,5,0,t.context.index!==n.months.length-1)}),(function(e,t){var n=t.component;e(t,3,0,n.i18n.getMonthFullName(t.context.$implicit.number,t.context.$implicit.year),n.i18n.getYearNumerals(t.context.$implicit.year))}))}function Wk(e){return Xl(0,[(e()(),Ol(16777216,null,null,1,null,Kk)),Yi(1,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null),(e()(),Ol(0,null,null,0))],(function(e,t){e(t,1,0,t.component.months)}),null)}function Qk(e){return Xl(2,[(e()(),Dl(0,0,null,null,2,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"button",[["aria-label","Previous month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Previous month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onClickPrev(n)&&i),i}),null,null)),(e()(),Dl(2,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,Bk)),Yi(4,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,Wk)),Yi(6,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(7,0,null,null,2,"div",[["class","ngb-dp-arrow right"]],null,null,null,null,null)),(e()(),Dl(8,0,null,null,1,"button",[["aria-label","Next month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Next month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onClickNext(n)&&i),i}),null,null)),(e()(),Dl(9,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,4,0,n.showSelect),e(t,6,0,!n.showSelect)}),(function(e,t){var n=t.component;e(t,1,0,n.prevDisabled),e(t,8,0,n.nextDisabled)}))}var Zk=jn({encapsulation:2,styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}"],data:{}});function Xk(e){return Xl(0,[(e()(),Dl(0,0,null,null,3,"option",[],[[1,"aria-label",0]],null,null,null,null)),Yi(1,147456,null,0,gx,[Xt,nn,[8,null]],{value:[0,"value"]},null),Yi(2,147456,null,0,yx,[Xt,nn,[8,null]],{value:[0,"value"]},null),(e()(),Wl(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){var n=t.component;e(t,0,0,n.i18n.getMonthFullName(t.context.$implicit,null==n.date?null:n.date.year)),e(t,3,0,n.i18n.getMonthShortName(t.context.$implicit,null==n.date?null:n.date.year))}))}function Yk(e){return Xl(0,[(e()(),Dl(0,0,null,null,3,"option",[],null,null,null,null,null)),Yi(1,147456,null,0,gx,[Xt,nn,[8,null]],{value:[0,"value"]},null),Yi(2,147456,null,0,yx,[Xt,nn,[8,null]],{value:[0,"value"]},null),(e()(),Wl(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.component.i18n.getYearNumerals(t.context.$implicit))}))}function Jk(e){return Xl(2,[Fl(402653184,1,{monthSelect:0}),Fl(402653184,2,{yearSelect:0}),(e()(),Dl(2,0,[[1,0],["month",1]],null,2,"select",[["aria-label","Select month"],["class","custom-select"],["title","Select month"]],[[8,"disabled",0]],[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.changeMonth(n.target.value)&&i),i}),null,null)),(e()(),Ol(16777216,null,null,1,null,Xk)),Yi(4,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null),(e()(),Dl(5,0,[[2,0],["year",1]],null,2,"select",[["aria-label","Select year"],["class","custom-select"],["title","Select year"]],[[8,"disabled",0]],[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.changeYear(n.target.value)&&i),i}),null,null)),(e()(),Ol(16777216,null,null,1,null,Yk)),Yi(7,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.months),e(t,7,0,n.years)}),(function(e,t){var n=t.component;e(t,2,0,n.disabled),e(t,5,0,n.disabled)}))}var eT=jn({encapsulation:2,styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],data:{}});function tT(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"div",[["class","btn-light"],["ngbDatepickerDayView",""]],[[2,"bg-primary",null],[2,"text-white",null],[2,"text-muted",null],[2,"outside",null],[2,"active",null]],null,null,zk,jk)),Yi(1,49152,null,0,KI,[xI],{currentMonth:[0,"currentMonth"],date:[1,"date"],disabled:[2,"disabled"],focused:[3,"focused"],selected:[4,"selected"]},null)],(function(e,t){e(t,1,0,t.context.currentMonth,t.context.date,t.context.disabled,t.context.focused,t.context.selected)}),(function(e,t){e(t,0,0,Vi(t,1).selected,Vi(t,1).selected,Vi(t,1).isMuted(),Vi(t,1).isMuted(),Vi(t,1).focused)}))}function nT(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(e()(),Wl(1,null,[" "," "," "]))],null,(function(e,t){var n=t.component;e(t,1,0,n.i18n.getMonthFullName(t.parent.context.$implicit.number,t.parent.context.$implicit.year),n.i18n.getYearNumerals(t.parent.context.$implicit.year))}))}function iT(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"div",[["class","ngb-dp-month"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,nT)),Yi(2,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(3,0,null,null,1,"ngb-datepicker-month",[["role","grid"]],null,[[null,"keydown"]],(function(e,t,n){var i=!0;return"keydown"===t&&(i=!1!==Vi(e,4).onKeyDown(n)&&i),i}),CT,hT)),Yi(4,49152,null,0,AI,[xI,DI,RI,kI],{month:[0,"month"]},null)],(function(e,t){var n=t.component;e(t,2,0,"none"===n.navigation||n.displayMonths>1&&"select"===n.navigation),e(t,4,0,t.context.$implicit.firstDate)}),null)}function rT(e){return Xl(0,[(e()(),Ol(16777216,null,null,1,null,iT)),Yi(1,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null),(e()(),Ol(0,null,null,0))],(function(e,t){e(t,1,0,t.component.model.months)}),null)}function lT(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"ngb-datepicker-navigation",[],null,[[null,"navigate"],[null,"select"]],(function(e,t,n){var i=!0,r=e.component;return"navigate"===t&&(i=!1!==r.onNavigateEvent(n)&&i),"select"===t&&(i=!1!==r.onNavigateDateSelect(n)&&i),i}),Qk,Gk)),Yi(1,49152,null,0,LI,[xI],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],showSelect:[3,"showSelect"],prevDisabled:[4,"prevDisabled"],nextDisabled:[5,"nextDisabled"],selectBoxes:[6,"selectBoxes"]},{navigate:"navigate",select:"select"})],(function(e,t){var n=t.component;e(t,1,0,n.model.firstDate,n.model.disabled,n.model.months,"select"===n.model.navigation,n.model.prevDisabled,n.model.nextDisabled,n.model.selectBoxes)}),null)}function sT(e){return Xl(0,[(e()(),Ol(0,null,null,0))],null,null)}function oT(e){return Xl(0,[(e()(),Ol(0,null,null,0))],null,null)}function aT(e){return Xl(2,[Fl(402653184,1,{_defaultDayTemplate:0}),Fl(402653184,2,{_contentEl:0}),(e()(),Ol(0,[[1,2],["defaultDayTemplate",2]],null,0,null,tT)),(e()(),Ol(0,[["defaultContentTemplate",2]],null,0,null,rT)),(e()(),Dl(4,0,null,null,2,"div",[["class","ngb-dp-header"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,lT)),Yi(6,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(7,0,[[2,0],["content",1]],null,2,"div",[["class","ngb-dp-content"]],[[2,"ngb-dp-months",null]],null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,sT)),Yi(9,540672,null,0,Sa,[xn],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),Ol(16777216,null,null,1,null,oT)),Yi(11,540672,null,0,Sa,[xn],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(e,t){var n=t.component;e(t,6,0,"none"!==n.navigation),e(t,9,0,(null==n.contentTemplate?null:n.contentTemplate.templateRef)||Vi(t,3)),e(t,11,0,n.footerTemplate)}),(function(e,t){e(t,7,0,!t.component.contentTemplate)}))}function cT(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"ngb-datepicker",[],null,null,null,aT,eT)),er(5120,null,K_,(function(e){return[e]}),[DI]),er(512,null,kI,kI,[bI,xI]),Yi(3,4964352,null,1,DI,[kI,bI,xI,MI,wt,Xt,PI,Wr],null,null),Fl(335544320,1,{contentTemplate:0})],(function(e,t){e(t,3,0)}),null)}var uT=Mi("ngb-datepicker",DI,cT,{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},{navigate:"navigate",dateSelect:"dateSelect",select:"select"},[]),hT=jn({encapsulation:2,styles:['ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default}.ngb-dp-day[tabindex="0"]{z-index:1}'],data:{}});function dT(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"div",[["class","ngb-dp-weekday ngb-dp-showweek"]],null,null,null,null,null))],null,null)}function pT(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"div",[["class","ngb-dp-weekday small"],["role","columnheader"]],null,null,null,null,null)),(e()(),Wl(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.i18n.getWeekdayShortName(t.context.$implicit))}))}function fT(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"div",[["class","ngb-dp-week ngb-dp-weekdays"],["role","row"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,dT)),Yi(2,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,pT)),Yi(4,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.datepicker.showWeekNumbers),e(t,4,0,n.viewModel.weekdays)}),null)}function gT(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"div",[["class","ngb-dp-week-number small text-muted"]],null,null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.i18n.getWeekNumerals(t.parent.parent.context.$implicit.number))}))}function mT(e){return Xl(0,[(e()(),Ol(0,null,null,0))],null,null)}function yT(e){return Xl(0,[(e()(),Ol(16777216,null,null,1,null,mT)),Yi(1,540672,null,0,Sa,[xn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(e()(),Ol(0,null,null,0))],(function(e,t){e(t,1,0,t.parent.context.$implicit.context,t.component.datepicker.dayTemplate)}),null)}function bT(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"div",[["class","ngb-dp-day"],["role","gridcell"]],[[2,"disabled",null],[8,"tabIndex",0],[2,"hidden",null],[2,"ngb-dp-today",null],[1,"aria-label",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(e.component.doSelect(e.context.$implicit),i=!1!==n.preventDefault()&&i),i}),null,null)),(e()(),Ol(16777216,null,null,1,null,yT)),Yi(2,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,!t.context.$implicit.hidden)}),(function(e,t){e(t,0,0,t.context.$implicit.context.disabled,t.context.$implicit.tabindex,t.context.$implicit.hidden,t.context.$implicit.context.today,t.context.$implicit.ariaLabel)}))}function vT(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"div",[["class","ngb-dp-week"],["role","row"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,gT)),Yi(2,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,bT)),Yi(4,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.datepicker.showWeekNumbers),e(t,4,0,t.parent.context.$implicit.days)}),null)}function wT(e){return Xl(0,[(e()(),Ol(16777216,null,null,1,null,vT)),Yi(1,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(0,null,null,0))],(function(e,t){e(t,1,0,!t.context.$implicit.collapsed)}),null)}function CT(e){return Xl(0,[(e()(),Ol(16777216,null,null,1,null,fT)),Yi(1,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,wT)),Yi(3,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.datepicker.showWeekdays),e(t,3,0,n.viewModel.weeks)}),null)}var ST=jn({encapsulation:2,styles:["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}"],data:{}});function _T(e){return Xl(0,[(e()(),Wl(0,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.title)}))}function xT(e){return Xl(0,[(e()(),Ol(0,null,null,0))],null,null)}function IT(e){return Xl(0,[(e()(),Dl(0,0,null,null,3,"h3",[["class","popover-header"]],null,null,null,null,null)),(e()(),Ol(0,[["simpleTitle",2]],null,0,null,_T)),(e()(),Ol(16777216,null,null,1,null,xT)),Yi(3,540672,null,0,Sa,[xn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.context,n.isTitleTemplate()?n.title:Vi(t,1))}),null)}function kT(e){return Xl(2,[(e()(),Dl(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,IT)),Yi(2,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(3,0,null,null,1,"div",[["class","popover-body"]],null,null,null,null,null)),zl(null,0)],(function(e,t){e(t,2,0,null!=t.component.title)}),null)}function TT(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"ngb-popover-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,kT,ST)),Yi(1,49152,null,0,vk,[],null,null)],null,(function(e,t){e(t,0,0,"popover"+(Vi(t,1).popoverClass?" "+Vi(t,1).popoverClass:""),Vi(t,1).id)}))}var MT=Mi("ngb-popover-window",vk,TT,{title:"title",id:"id",popoverClass:"popoverClass",context:"context"},{},["*"]),ET=jn({encapsulation:2,styles:["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}"],data:{}});function PT(e){return Xl(2,[(e()(),Dl(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),zl(null,0)],null,null)}function OT(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"ngb-tooltip-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,PT,ET)),Yi(1,49152,null,0,Ek,[],null,null)],null,(function(e,t){e(t,0,0,"tooltip show"+(Vi(t,1).tooltipClass?" "+Vi(t,1).tooltipClass:""),Vi(t,1).id)}))}var DT=Mi("ngb-tooltip-window",Ek,OT,{id:"id",tooltipClass:"tooltipClass"},{},["*"]),NT=jn({encapsulation:2,styles:[],data:{}});function RT(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"ngb-highlight",[],null,null,null,BT,UT)),Yi(1,573440,null,0,Dk,[],{result:[0,"result"],term:[1,"term"]},null)],(function(e,t){var n=t.context.formatter(t.context.result);e(t,1,0,n,t.context.term)}),null)}function AT(e){return Xl(0,[(e()(),Ol(0,null,null,0))],null,null)}function LT(e){return Xl(0,[(e()(),Dl(0,0,null,null,3,"button",[["class","dropdown-item"],["role","option"],["type","button"]],[[8,"id",0],[2,"active",null]],[[null,"mouseenter"],[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"mouseenter"===t&&(i=!1!==r.markActive(e.context.index)&&i),"click"===t&&(i=!1!==r.select(e.context.$implicit)&&i),i}),null,null)),(e()(),Ol(16777216,null,null,2,null,AT)),Yi(2,540672,null,0,Sa,[xn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),ql(3,{result:0,term:1,formatter:2})],(function(e,t){var n=t.component,i=e(t,3,0,t.context.$implicit,n.term,n.formatter);e(t,2,0,i,n.resultTemplate||Vi(t.parent,0))}),(function(e,t){var n=t.component;e(t,0,0,n.id+"-"+t.context.index,t.context.index===n.activeIdx)}))}function FT(e){return Xl(0,[(e()(),Ol(0,[["rt",2]],null,0,null,RT)),(e()(),Ol(16777216,null,null,1,null,LT)),Yi(2,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.results)}),null)}function $T(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"ngb-typeahead-window",[["class","dropdown-menu show"],["role","listbox"]],[[8,"id",0]],[[null,"mousedown"]],(function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==n.preventDefault()&&i),i}),FT,NT)),Yi(1,114688,null,0,Nk,[],null,null)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,Vi(t,1).id)}))}var VT=Mi("ngb-typeahead-window",Nk,$T,{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate"},{selectEvent:"select",activeChangeEvent:"activeChange"},[]),UT=jn({encapsulation:2,styles:[".ngb-highlight{font-weight:700}"],data:{}});function jT(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.highlightClass),e(t,1,0,t.parent.context.$implicit)}))}function zT(e){return Xl(0,[(e()(),Wl(0,null,["",""]))],null,(function(e,t){e(t,0,0,t.parent.context.$implicit)}))}function GT(e){return Xl(0,[(e()(),Ol(16777216,null,null,1,null,jT)),Yi(1,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Ol(0,[["even",2]],null,0,null,zT))],(function(e,t){e(t,1,0,t.context.odd,Vi(t,2))}),null)}function BT(e){return Xl(2,[(e()(),Ol(16777216,null,null,1,null,GT)),Yi(1,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,1,0,t.component.parts)}),null)}var HT=jn({encapsulation:2,styles:[],data:{}});function qT(e){return Xl(0,[],null,null)}function KT(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"ngb-modal-backdrop",[["style","z-index: 1050"]],[[8,"className",0]],null,null,qT,HT)),Yi(1,49152,null,0,ik,[],null,null)],null,(function(e,t){e(t,0,0,"modal-backdrop fade show"+(Vi(t,1).backdropClass?" "+Vi(t,1).backdropClass:""))}))}var WT=Mi("ngb-modal-backdrop",ik,KT,{backdropClass:"backdropClass"},{},[]),QT=jn({encapsulation:2,styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],data:{}});function ZT(e){return Xl(0,[Fl(402653184,1,{_dialogEl:0}),(e()(),Dl(1,0,[[1,0],["dialog",1]],null,2,"div",[["role","document"]],[[8,"className",0]],null,null,null,null)),(e()(),Dl(2,0,null,null,1,"div",[["class","modal-content"]],null,null,null,null,null)),zl(null,0)],null,(function(e,t){var n=t.component;e(t,1,0,"modal-dialog"+(n.size?" modal-"+n.size:"")+(n.centered?" modal-dialog-centered":"")+(n.scrollable?" modal-dialog-scrollable":""))}))}function XT(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"ngb-modal-window",[["role","dialog"],["tabindex","-1"]],[[8,"className",0],[1,"aria-modal",0],[1,"aria-labelledby",0]],null,null,ZT,QT)),Yi(1,4440064,null,0,ok,[Oa,Xt,Wr],null,null)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,"modal fade show d-block"+(Vi(t,1).windowClass?" "+Vi(t,1).windowClass:""),!0,Vi(t,1).ariaLabelledBy)}))}var YT=Mi("ngb-modal-window",ok,XT,{ariaLabelledBy:"ariaLabelledBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass"},{dismissEvent:"dismiss"},["*"]),JT=jn({encapsulation:2,styles:[],data:{}});function eM(e){return Xl(0,[(e()(),Dl(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Yi(1,212992,null,0,tp,[ep,xn,Kt,[8,null],wt],null,null)],(function(e,t){e(t,1,0)}),null)}function tM(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"ng-component",[],null,null,null,eM,JT)),Yi(1,49152,null,0,Xu,[],null,null)],null,null)}var nM=Mi("ng-component",Xu,tM,{},{},[]);class iM{constructor(){this.onFilesDropped=new Cr,this.background="#fff",this.opacity="1"}onDragOver(e){e.preventDefault(),e.stopPropagation(),this.background="#9ecbec",this.opacity="0.8"}onDragLeave(e){e.preventDefault(),e.stopPropagation(),this.background="#fff",this.opacity="1"}onDrop(e){e.preventDefault(),e.stopPropagation(),this.background="#f5fcff",this.opacity="1";const t=e.dataTransfer.files;t.length>0&&this.onFilesDropped.emit(t)}}class rM{constructor(e){this.appInsightsService=e,this.onFilesSubmitted=new Cr}onFilesDropped(e){this.appInsightsService.trackEvent("upload-file-onFilesDropped",{component:"upload"}),e&&this.onFilesSubmitted.emit([e,!0])}onFilesSelected(e){this.appInsightsService.trackEvent("upload-file-onFilesSelected",{component:"upload"}),e&&e.target&&e.target.files&&this.onFilesSubmitted.emit([e.target.files,!1])}}var lM=jn({encapsulation:0,styles:[['@font-face{font-family:CortMDL2;src:url(/assets/fonts/CortMDL2.woff) format("woff");font-weight:400;font-style:normal}@font-face{font-family:MemMDL2;src:url(/assets/fonts/MemMDL2.woff) format("woff");font-weight:400;font-style:normal}']],data:{}});function sM(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","badge badge-warning"]],null,null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.errorText)}))}function oM(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.displayText)}))}function aM(e){return Xl(0,[(e()(),Dl(0,0,null,null,10,"div",[["upload-host",""]],[[4,"background-color",null],[4,"opacity",null]],[[null,"onFilesDropped"],[null,"dragover"],[null,"dragleave"],[null,"drop"]],(function(e,t,n){var i=!0,r=e.component;return"dragover"===t&&(i=!1!==Vi(e,1).onDragOver(n)&&i),"dragleave"===t&&(i=!1!==Vi(e,1).onDragLeave(n)&&i),"drop"===t&&(i=!1!==Vi(e,1).onDrop(n)&&i),"onFilesDropped"===t&&(i=!1!==r.onFilesDropped(n)&&i),i}),null,null)),Yi(1,16384,null,0,iM,[],null,{onFilesDropped:"onFilesDropped"}),(e()(),Dl(2,0,null,null,4,"div",[["class","text-center pt-4"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,sM)),Yi(4,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,oM)),Yi(6,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(7,0,null,null,3,"div",[["class","text-center pt-4 pb-4"]],null,null,null,null,null)),(e()(),Dl(8,0,[["file",1]],null,0,"input",[["style","display:none;"],["type","file"]],[[8,"placeholder",0]],[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onFilesSelected(n)&&i),i}),null,null)),(e()(),Dl(9,0,null,null,1,"button",[["class","btn btn-link"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Vi(e,8).click()&&i),i}),null,null)),(e()(),Wl(10,null,["",""]))],(function(e,t){var n=t.component;e(t,4,0,""!==n.errorText),e(t,6,0,""===n.errorText)}),(function(e,t){var n=t.component;e(t,0,0,Vi(t,1).background,Vi(t,1).opacity),e(t,8,0,fi(1,"",n.buttonText,"")),e(t,10,0,n.buttonText)}))}function cM(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"upload",[],null,null,null,aM,lM)),Yi(1,49152,null,0,rM,[Hb],null,null)],null,null)}var uM=Mi("upload",rM,cM,{displayText:"displayText",buttonText:"buttonText",errorText:"errorText"},{onFilesSubmitted:"onFilesSubmitted"},[]);class hM{constructor(){this.displayText="",this.onRemovePillClick=e=>{this.parentRef.onPillRemove(e)}}ngOnInit(){this.displayText=this.data.type===Dw.collection?this.data.caption.replace(/[Aa]ssets/,""):this.data.caption}}var dM=jn({encapsulation:0,styles:[['@charset "UTF-8";@font-face{font-family:CortMDL2;src:url(/assets/fonts/CortMDL2.woff) format("woff");font-weight:400;font-style:normal}@font-face{font-family:MemMDL2;src:url(/assets/fonts/MemMDL2.woff) format("woff");font-weight:400;font-style:normal}.badge-pill[_ngcontent-%COMP%]{padding-top:.32em;padding-bottom:.45em}.remove-icon[_ngcontent-%COMP%]{font-family:MemMDL2;font-size:8px;cursor:pointer;padding:.2em .2em .2em .25em}.remove-icon[_ngcontent-%COMP%]:before{content:"\ue711"}']],data:{}});function pM(e){return Xl(0,[(e()(),Dl(0,0,null,null,5,"span",[["class","badge badge-pill badge-primary pl-2 pr-1 mr-3 font-weight-normal"],["test-id","pill-caption"]],null,null,null,null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(2,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(3,{"d-none":0}),(e()(),Wl(4,null,[" "," "])),(e()(),Dl(5,0,null,null,0,"span",[["class","remove-icon rounded-circle bg-white text-primary font-weight-bold ml-1"],["test-id","pill-remove"]],null,[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onRemovePillClick(r.data.type)&&i),i}),null,null))],(function(e,t){var n=e(t,3,0,!t.component.data.caption);e(t,2,0,"badge badge-pill badge-primary pl-2 pr-1 mr-3 font-weight-normal",n)}),(function(e,t){e(t,4,0,t.component.displayText)}))}function fM(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"pill",[],null,null,null,pM,dM)),Yi(1,114688,null,0,hM,[],null,null)],(function(e,t){e(t,1,0)}),null)}var gM=Mi("pill",hM,fM,{},{},[]);class mM{transform(e,t){const n=new RegExp(t,"gi");return e.replace(n,`<mark class="text-secondary">${t}</mark>`)}}class yM{constructor(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}call(e,t){return t.subscribe(new bM(e,this.project,this.concurrent,this.scheduler))}}class bM extends L{constructor(e,t,n,i){super(e),this.project=t,this.concurrent=n,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(e){const{subscriber:t,result:n,value:i,index:r}=e;t.subscribeToProjection(n,i,r)}_next(e){const t=this.destination;if(t.closed)return void this._complete();const n=this.index++;if(this.active<this.concurrent){t.next(e);try{const{project:t}=this,i=t(e,n);this.scheduler?this.destination.add(this.scheduler.schedule(bM.dispatch,0,{subscriber:this,result:i,value:e,index:n})):this.subscribeToProjection(i,e,n)}catch(i){t.error(i)}}else this.buffer.push(e)}subscribeToProjection(e,t,n){this.active++,this.destination.add(A(this,e,t,n))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,i,r){this._next(t)}notifyComplete(e){const t=this.buffer;this.destination.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}class vM{constructor(e){this.total=e}call(e,t){return t.subscribe(new wM(e,this.total))}}class wM extends f{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}class CM{}class SM extends CM{tick(e){return Ra(0).pipe(function(e,t=Number.POSITIVE_INFINITY,n){return t=(t||0)<1?Number.POSITIVE_INFINITY:t,i=>i.lift(new yM(e,t,n))}(()=>{const t=Date.now(),n=Math.round(Math.abs(t-e)/1e3),i=n<60?1e3:n<3600?6e4:n<86400?36e5:0;return i?function(e=0,t,n){let i=-1;return Bx(t)?i=Number(t)<1?1:Number(t):T(t)&&(n=t),T(n)||(n=Gx),new w(t=>{const r=Bx(e)?e:+e-n.now();return n.schedule(Hx,r,{index:0,period:i,subscriber:t})})}(i):Ua()}),e=>e.lift(new vM(1)))}}class _M{constructor(){this.changes=new I}}class xM{}class IM extends xM{format(e){const{suffix:t,value:n,unit:i}=function(e){const t=Date.now(),n=Math.round(Math.abs(t-e)/1e3),i=e<t?"ago":"from now",[r,l]=n<60?[Math.round(n),"second"]:n<3600?[Math.round(n/60),"minute"]:n<86400?[Math.round(n/3600),"hour"]:n<604800?[Math.round(n/86400),"day"]:n<2592e3?[Math.round(n/604800),"week"]:n<31536e3?[Math.round(n/2592e3),"month"]:[Math.round(n/31536e3),"year"];return{value:r,unit:l,suffix:i}}(e);return this.parse(n,i,t)}parse(e,t,n){return 1!==e&&(t+="s"),e+" "+t+" "+n}}class kM{constructor(e,t,n,i){this.clock=i,this.live=!0,this.stateChanges=new I,e&&(this.intlSubscription=e.changes.subscribe(()=>this.stateChanges.next())),this.stateChanges.subscribe(()=>{this.value=n.format(this.date),t.markForCheck()})}transform(e,...t){const n=function(e){const t=new Date(e);if(!Number.isNaN(t.valueOf()))return t;const n=String(e).match(/\d+/g);if(null===n||n.length<=2)return t;{const[e,t,...i]=n.map(e=>parseInt(e,10));return new Date(Date.UTC(e,t-1,...i))}}(e).valueOf();let i;if(i=null!=t[0]?function(e){return null!=e&&""+e!="false"}(t[0]):this.live,this.date===n&&this.live===i)return this.value;if(this.date=n,this.live=i,!this.date)throw new SyntaxError("Wrong parameter in TimeagoPipe. Expected a valid date, received: "+e);return this.clockSubscription&&(this.clockSubscription.unsubscribe(),this.clockSubscription=void 0),this.clockSubscription=this.clock.tick(this.date).pipe(Ga(()=>this.live,this)).subscribe(()=>this.stateChanges.next()),this.stateChanges.next(),this.value}ngOnDestroy(){this.intlSubscription&&(this.intlSubscription.unsubscribe(),this.intlSubscription=void 0),this.clockSubscription&&(this.clockSubscription.unsubscribe(),this.clockSubscription=void 0),this.stateChanges.complete()}}class TM{static forRoot(e={}){return{ngModule:TM,providers:[e.clock||{provide:CM,useClass:SM},e.intl||[],e.formatter||{provide:xM,useClass:IM}]}}static forChild(e={}){return{ngModule:TM,providers:[e.clock||{provide:CM,useClass:SM},e.intl||[],e.formatter||{provide:xM,useClass:IM}]}}}class MM{constructor(e,t){this.document=e,this.platformId=t,this.documentIsAccessible=function(e){return"browser"===e}(this.platformId)}check(e){return!!this.documentIsAccessible&&(e=encodeURIComponent(e),this.getCookieRegExp(e).test(this.document.cookie))}get(e){if(this.documentIsAccessible&&this.check(e)){e=encodeURIComponent(e);const t=this.getCookieRegExp(e).exec(this.document.cookie);return decodeURIComponent(t[1])}return""}getAll(){if(!this.documentIsAccessible)return{};const e={},t=this.document;if(t.cookie&&""!==t.cookie){const n=t.cookie.split(";");for(let t=0;t<n.length;t+=1){const i=n[t].split("=");i[0]=i[0].replace(/^ /,""),e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}}return e}set(e,t,n,i,r,l,s="None"){if(!this.documentIsAccessible)return;let o=encodeURIComponent(e)+"="+encodeURIComponent(t)+";";n&&(o+="number"==typeof n?"expires="+new Date((new Date).getTime()+1e3*n*60*60*24).toUTCString()+";":"expires="+n.toUTCString()+";"),i&&(o+="path="+i+";"),r&&(o+="domain="+r+";"),l&&(o+="secure;"),o+="sameSite="+s+";",this.document.cookie=o}delete(e,t,n){this.documentIsAccessible&&this.set(e,"",new Date("Thu, 01 Jan 1970 00:00:01 GMT"),t,n,void 0,"Lax")}deleteAll(e,t){if(!this.documentIsAccessible)return;const n=this.getAll();for(const i in n)n.hasOwnProperty(i)&&this.delete(i,e,t)}getCookieRegExp(e){const t=e.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+t+"|;\\s*"+t+")=(.*?)(?:;|$)","g")}}class EM{constructor(e,t,n,i){this.router=e,this.notificationApiService=t,this.appInsightsService=n,this.cookieService=i,this.notifications=[],this.markAsReadKeys="",this.markAsReadCookieName="mark-as-read-keys",this.allMarkedAsRead=!1,this.unreadNotificationCount=0,this.notificationsSubscription=new h,this.unreadNotificationsSubscription=new h,this.onNotificationClick=(e,t)=>{e&&"a"!==e.target.tagName.toLowerCase()&&(e.stopPropagation(),e.preventDefault()),this.markAsRead(t);const n=this.notifications.find(e=>e.key===t);n&&this.appInsightsService.trackEvent("Notification",{component:"notification dropdown",type:Pw[n.type],title:n.title,isDismissible:n.isDismissible?"true":"false",read:"true",key:n.key})},this.onNotificationLinkClick=(e,t,n)=>{if(e&&e.preventDefault(),this.markAsRead(t),n&&n.startsWith("http"))return window.open(n,"_blank"),!1;this.router.navigate([decodeURI(n)]);const i=this.notifications.find(e=>e.key===t);i&&this.appInsightsService.trackEvent("Notification",{component:"notification dropdown",type:Pw[i.type],title:i.title,isDismissible:i.isDismissible?"true":"false",read:"true",key:i.key,linkText:i.linkText,linkUrl:i.linkUrl,linkClicked:"true"})},this.onMarkAllAsReadClick=e=>{e&&(e.stopPropagation(),e.preventDefault());const t=this.notifications.map(e=>e.key);this.setMarkAsReadCookie(t),this.markAsReadKeys=this.getMarkAsReadCookie(),this.allMarkedAsRead=!0,this.updateUnreadCount(0)},this.getMarkAsReadCookie=()=>this.cookieService.get(this.markAsReadCookieName),this.setMarkAsReadCookie=e=>{this.cookieService.set(this.markAsReadCookieName,e.join(","),365,"/","",!1,"Lax")},this.isMarkedAsRead=e=>(this.markAsReadKeys.length>0?this.markAsReadKeys.split(","):[]).some(t=>t===e),this.getUnmarkedAsReadKeys=()=>{const e=this.getMarkAsReadCookie(),t=e?e.split(","):[];return this.notifications.map(e=>e.key).filter(e=>!t.some(t=>t===e))},this.areAllMarkedAsRead=()=>{const e=this.getUnmarkedAsReadKeys();return e&&0===e.length},this.markAsRead=e=>{let t=this.getMarkAsReadCookie(),n=[];t&&(n=t.split(",")),this.isMarkedAsRead(e)||(n.push(e),this.updateUnreadCount(this.unreadNotificationCount-1)),this.setMarkAsReadCookie(n),this.markAsReadKeys=this.getMarkAsReadCookie()},this.updateUnreadCount=e=>{this.notificationApiService.unreadNotifications.next(e)}}ngOnInit(){this.notificationsSubscription=this.notificationApiService.notificationsLoaded$.subscribe(e=>{if(e){this.markAsReadKeys=this.getMarkAsReadCookie(),this.notifications=this.notificationApiService.notifications,this.notifications.map(e=>{this.appInsightsService.trackEvent("Notification",{component:"notification dropdown",type:Pw[e.type],title:e.title,isDismissible:e.isDismissible?"true":"false",read:"false",key:e.key,linkText:e.linkText,linkUrl:e.linkUrl,linkClicked:"false"})});const e=this.getUnmarkedAsReadKeys();this.updateUnreadCount(e?e.length:0);const t=this.notifications.filter(e=>e.type===Pw.alert);t&&t.length>0&&t.map(e=>{this.markAsRead(e.key)}),this.areAllMarkedAsRead()&&(this.allMarkedAsRead=this.areAllMarkedAsRead(),this.updateUnreadCount(0))}}),this.unreadNotificationsSubscription=this.notificationApiService.unreadNotifications$.subscribe(e=>{this.unreadNotificationCount=e})}ngOnDestroy(){this.notificationsSubscription.unsubscribe(),this.unreadNotificationsSubscription.unsubscribe()}}var PM=jn({encapsulation:0,styles:[[".dropdown-menu[_ngcontent-%COMP%]{top:41px;width:250px;left:calc((250px - 100%)/ -2);transform:translate3d(0,0,0)!important}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-caret[_ngcontent-%COMP%]{position:absolute;top:calc(8px / -2);left:calc((250px - 8px)/ 2);z-index:10;background-color:#fff;width:8px;height:8px;transform:rotate(135deg)}.dropdown-menu[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]{padding:4px 12px}.dropdown-menu[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none}.dropdown-menu[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{background-color:rgba(128,128,128,.08);margin-bottom:4px;padding:8px 12px}.dropdown-menu[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:14px}.dropdown-menu[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px}.dropdown-menu[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .time-ago[_ngcontent-%COMP%]{font-size:10px}.dropdown-menu[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0;border-top:0}.dropdown-menu[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .notification.read[_ngcontent-%COMP%]{background-color:#fff;padding:8px 12px 0;transition:background-color 250ms ease-in-out}.dropdown-menu[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .notification.read[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-top:8px;border-top:1px solid #d5d5d5}.dropdown-menu[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .notification.read[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:400}.dropdown-menu[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .mark-all-as-read[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer}.dropdown-menu[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .mark-all-as-read.text-muted[_ngcontent-%COMP%]{cursor:default}"]],data:{}});function OM(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"p",[["class","text-sm-center m-0"]],null,null,null,null,null)),(e()(),Wl(-1,null,["No notifications to show"]))],null,null)}function DM(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"a",[["class","d-block text-decoration-none pt-1"]],[[1,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onNotificationLinkClick(n,e.parent.context.$implicit.key,e.parent.context.$implicit.linkUrl)&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(2,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(3,{"text-primary":0}),(e()(),Wl(4,null,["",""]))],(function(e,t){var n=e(t,3,0,0!==t.parent.context.$implicit.type);e(t,2,0,"d-block text-decoration-none pt-1",n)}),(function(e,t){e(t,0,0,t.parent.context.$implicit.linkUrl),e(t,4,0,t.parent.context.$implicit.linkText)}))}function NM(e){return Xl(0,[(e()(),Dl(0,0,null,null,17,"li",[["class","m-0 p-0"],["test-id","notification"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,16,"article",[["class","notification"]],[[1,"test-key",0],[1,"test-read-status",0],[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onNotificationClick(n,e.context.$implicit.key)&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(3,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(4,{read:0}),(e()(),Dl(5,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),Wl(6,null,["",""])),(e()(),Dl(7,0,null,null,4,"p",[["test-id","description"]],null,null,null,null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(9,278528,null,0,aa,[la],{ngClass:[0,"ngClass"]},null),ql(10,{"text-muted":0}),(e()(),Wl(11,null,["",""])),(e()(),Ol(16777216,null,null,1,null,DM)),Yi(13,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(14,0,null,null,2,"p",[["class","time-ago text-muted pt-1"]],null,null,null,null,null)),(e()(),Wl(15,null,["",""])),Ji(131072,kM,[[2,_M],wt,xM,CM]),(e()(),Dl(17,0,null,null,0,"hr",[],null,null,null,null,null))],(function(e,t){var n=t.component,i=e(t,4,0,n.isMarkedAsRead(t.context.$implicit.key));e(t,3,0,"notification",i);var r=e(t,10,0,n.isMarkedAsRead(t.context.$implicit.key));e(t,9,0,r),e(t,13,0,t.context.$implicit.linkUrl&&t.context.$implicit.linkUrl.length>0)}),(function(e,t){e(t,1,0,t.context.$implicit.key,t.component.isMarkedAsRead(t.context.$implicit.key)?"read":"unread","notification-"+t.context.index),e(t,6,0,t.context.$implicit.title),e(t,11,0,t.context.$implicit.description),e(t,15,0,t.context.$implicit.startDate?Un(t,15,0,Vi(t,16).transform(t.context.$implicit.startDate)):"")}))}function RM(e){return Xl(0,[(e()(),Dl(0,0,null,null,5,"li",[["class","m-0 p-0"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,4,"a",[["class","small text-decoration-none mark-all-as-read"],["href","#"],["test-id","mark-all-as-read-link"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onMarkAllAsReadClick(n)&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(3,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(4,{"text-muted":0}),(e()(),Wl(-1,null,["Mark all as read"]))],(function(e,t){var n=e(t,4,0,!0===t.component.allMarkedAsRead);e(t,3,0,"small text-decoration-none mark-all-as-read",n)}),null)}function AM(e){return Xl(0,[(e()(),Dl(0,0,null,null,8,"section",[["class","dropdown-menu border-0 shadow animate"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,0,"span",[["class","dropdown-caret"]],null,null,null,null,null)),(e()(),Dl(2,0,null,null,6,"ul",[["class","list-group"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,OM)),Yi(4,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,NM)),Yi(6,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null),(e()(),Ol(16777216,null,null,1,null,RM)),Yi(8,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,0===n.notifications.length),e(t,6,0,n.notifications),e(t,8,0,n.notifications&&n.notifications.length>0)}),null)}class LM{constructor(e,t){this.styleLoaderService=e,this.libraryMetadataService=t,this.libraryMetadataAvailableSubscription=new h,this.selectedLibrarySubscription=new h,this.buildFontStyle=(e,t)=>{let n=this.styleLoaderService.constructFontStyleFromMetadata(e,t);this.styleLoaderService.addUpdateFontStyleInHeader(n)},this.getCollectionsMetadata=e=>{if(ho(e.collectionsDownloadMetadata))return[];let t=[];return ho(this.collections)?e.collectionsDownloadMetadata.forEach(e=>{t.push(e.metaData)}):this.collections.forEach(n=>{let i=e.collectionsDownloadMetadata.find(e=>e.name===n.name);i&&t.push(i.metaData)}),t},this.buildLibraryGroupFontStyles=()=>{let e=this.libraryGroupName;ho(e)&&(e="All Libraries");const t=this.libraryMetadataService.getLibrariesByGroupName(e);if(!ho(t)){const e=[];t.forEach(t=>{if(t&&"Glyph"===t.iconType){const n=this.getCollectionsMetadata(t);ho(n)||n.forEach(t=>e.push(t))}}),ho(e)||this.buildFontStyle(this.containerClassName,e)}}}ngOnInit(){this.selectedLibraryGroup$?this.selectedLibrarySubscription=this.selectedLibraryGroup$.subscribe(e=>{e?this.libraryGroupName!==e.name&&(this.libraryGroupName=e.name,this.collections=e.collections,this.containerClassName=this.styleLoaderService.constructContainerClassName(this.containerClassNamePrefix,this.libraryGroupName),this.buildLibraryGroupFontStyles()):(this.libraryGroupName="",this.collections=[],this.containerClassName=this.styleLoaderService.constructContainerClassName(this.containerClassNamePrefix,this.libraryGroupName))}):this.containerClassName=this.styleLoaderService.constructContainerClassName(this.containerClassNamePrefix,this.libraryGroupName),this.libraryMetadataAvailableSubscription=this.libraryMetadataService.allLibraryMetadataAvailable$.subscribe(e=>{e&&(this.buildLibraryGroupFontStyles(),this.libraryMetadataAvailableSubscription.unsubscribe())})}ngOnDestroy(){this.selectedLibrarySubscription.unsubscribe(),this.libraryMetadataAvailableSubscription.unsubscribe()}}var FM=jn({encapsulation:0,styles:[[""]],data:{}});function $M(e){return Xl(0,[],null,null)}class VM{constructor(e,t,n){this.downloadApiService=e,this.appInsightsService=t,this.sendFeedbackService=n,this.body=document.getElementsByTagName("body")[0],this.downloadFrame=document.createElement("iframe"),this.token=(new Date).getTime(),this.frameContent="",this.src="",this.onDownloadFontFile=(e,t,n)=>{this.removeExistingiFrame(),this.src=this.downloadApiService.getFontFileDownloadUrl(e,t,n),this.onDownloadFile()},this.onDownloadIconFile=(e,t,n,i)=>{this.removeExistingiFrame();const r=this.downloadApiService.getIconFileDownloadUrl(e,t,n,i);(r.indexOf("iconKeys=&")>0||r.indexOf("iconKeys={0}&")>0)&&t?this.appInsightsService.trackEvent("download-icon-bad-url",{component:"download-file",downloadUrl:r,libraryName:e,iconKey:t,fileExtension:n,resizeTo:i.toString()}):this.appInsightsService.trackEvent("download-icon-no-icon-key",{component:"download-file",libraryName:e,fileExtension:n,resizeTo:i.toString()}),this.src=r,this.onDownloadFile()},this.onDownloadFile=()=>{this.downloadFrame.setAttribute("id",this.token.toString()),this.downloadFrame.setAttribute("style","border:0;clip:rect(0 0 0 0);height:1px;width:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;"),this.downloadFrame.addEventListener("load",this.handleIframeLoad.bind(this),{once:!0}),this.downloadFrame.setAttribute("src",this.src),this.body.appendChild(this.downloadFrame)}}handleIframeLoad(){window.alert("Your request could not be processed due to a server error. Please retry in a new browser window. If the issue still persists, please contact WDG Design Tools Feedback <WDGDesignToolsFB@microsoft.com>."),this.sendFeedbackService.postFeedback({feedback:"Your request could not be processed due to a server error.",subjectType:"Error",isBlocking:!0},e=>{})}removeExistingiFrame(){if(this.body.querySelectorAll("iframe").length>0){const e=this.body.querySelectorAll("iframe");this.body.removeChild(e[0])}}}var UM=jn({encapsulation:0,styles:[[""]],data:{}});function jM(e){return Xl(0,[],null,null)}class zM{constructor(e){this.activeModal=e,this.passedConfirmation=new Cr,this.onConfirmationClick=()=>{this.passedConfirmation.emit(!0)}}ngOnInit(){}}class GM{constructor(e,t,n){this.downloadApiService=e,this.appInsightsService=t,this.modalService=n,this.isFullWidth=!1,this.onCollectionSelection=new Cr,this.showWarning=!1,this.openModal=()=>{const e=this.modalService.open(zM,{size:"lg",centered:!0,windowClass:"download-warning-class"});e.componentInstance.warningText=this.warningText,e.componentInstance.passedConfirmation.subscribe(()=>{this.finishDownload()})},this.onDownloadFontClick=e=>{if(this.showWarning)return this.extensionToDownload=e,void this.openModal();this.downloadFileComponent.onDownloadFontFile(this.libraryData.name,this.downloadApiService.getFileName(e,this.collectionMetadata.fontFiles),this.collectionMetadata.baseFileName),this.appInsightsService.trackEvent("download-font",{component:"font-tab",libraryName:this.libraryData.name,collectionName:this.collectionMetadata.name,fileExtension:e})},this.onCollectionClick=(e,t,n)=>{e.stopPropagation(),e.preventDefault();const i=this.libraryData.collectionsMetadata.find(e=>e.name===n);this.onCollectionSelection.emit(new Uw(t,n,i.internalKey)),this.appInsightsService.trackEvent("collection-click",{component:"subset-collection-directory",libraryName:t,collectionName:n})}}evaluateWarningData(){if(this.libraryData&&this.libraryData.showWarning&&this.collectionMetadata){if(this.isMasterCollection)this.showWarning=!0,this.warningText=this.libraryData.warningText;else{const e=this.libraryData.collectionsMetadata.find(e=>e.name===this.collectionMetadata.name);e&&(this.showWarning=e.showWarning,this.warningText=e.warningText)}this.modalFriendlyAssetName=this.collectionMetadata.name.replace(/\s/g,"")}}finishDownload(){this.downloadFileComponent.onDownloadFontFile(this.libraryData.name,this.downloadApiService.getFileName(this.extensionToDownload,this.collectionMetadata.fontFiles),this.collectionMetadata.baseFileName),this.appInsightsService.trackEvent("download-font",{component:"font-tab",libraryName:this.libraryData.name,collectionName:this.collectionMetadata.name,fileExtension:this.extensionToDownload})}ngOnInit(){this.evaluateWarningData()}ngOnChanges(e){(e.libraryData||e.collectionMetadata)&&this.evaluateWarningData()}getButtonText(){return this.isMasterCollection?this.libraryData.name.replace("Assets","")+" font .TTF":"Download font .TTF"}}var BM=jn({encapsulation:0,styles:[['@charset "UTF-8";.compact-icon[_ngcontent-%COMP%]{color:gray;font-family:MemMDL2;font-size:16px}.compact-icon[_ngcontent-%COMP%]:hover{color:#0275d8}.compact-icon[_ngcontent-%COMP%]:before{content:"\ue712"}.dropdown-menu-right[_ngcontent-%COMP%]{right:0!important;top:30px!important}.download-split-button[_ngcontent-%COMP%]{border-right-color:#0078d4!important}.extra-z-index[_ngcontent-%COMP%]{z-index:100}.dropdown-menu[_ngcontent-%COMP%]{border:0;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important;min-width:unset;top:50px;left:auto!important;cursor:pointer;transform:translate3d(0,0,0)!important}.compact-container[_ngcontent-%COMP%]{width:3em;position:relative;overflow:visible}.compact-container[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{top:30px!important;right:0!important}']],data:{}});function HM(e){return Xl(0,[(e()(),Dl(0,0,null,null,19,"div",[["class","btn-group-sm btn-group"]],null,null,null,null,null)),er(512,null,ba,va,[Xt,bn,nn]),Yi(2,278528,null,0,Ca,[ba],{ngStyle:[0,"ngStyle"]},null),ql(3,{width:0}),(e()(),Dl(4,0,null,null,1,"button",[["class","btn btn-outline-primary tab-action-button"],["type","button"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDownloadFontClick("ttf")&&i),i}),null,null)),(e()(),Wl(5,null,["",""])),(e()(),Dl(6,0,null,null,2,"button",[["aria-expanded","false"],["aria-haspopup","true"],["class","download-split-button-toggle btn btn-outline-primary dropdown-toggle dropdown-toggle-split"],["data-toggle","dropdown"],["id","ttfDownload"],["type","button"]],[[1,"test-id",0]],null,null,null,null)),(e()(),Dl(7,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Toggle Dropdown"])),(e()(),Dl(9,0,null,null,10,"div",[["class","dropdown-menu dropdown-menu-right animate fadeIn extra-z-index"]],null,null,null,null,null)),(e()(),Dl(10,0,null,null,1,"span",[["class","dropdown-item"],["role","link"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDownloadFontClick("ttf")&&i),i}),null,null)),(e()(),Wl(-1,null,["Download font .TTF"])),(e()(),Dl(12,0,null,null,1,"span",[["class","dropdown-item"],["role","link"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDownloadFontClick("eot")&&i),i}),null,null)),(e()(),Wl(-1,null,["Download font .EOT"])),(e()(),Dl(14,0,null,null,1,"span",[["class","dropdown-item"],["role","link"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDownloadFontClick("svg")&&i),i}),null,null)),(e()(),Wl(-1,null,["Download font .SVG"])),(e()(),Dl(16,0,null,null,1,"span",[["class","dropdown-item"],["role","link"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDownloadFontClick("woff")&&i),i}),null,null)),(e()(),Wl(-1,null,["Download font .WOFF"])),(e()(),Dl(18,0,null,null,1,"span",[["class","dropdown-item"],["role","link"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDownloadFontClick("woff2")&&i),i}),null,null)),(e()(),Wl(-1,null,["Download font .WOFF2"]))],(function(e,t){var n=e(t,3,0,t.component.isMasterCollection?"15em;":"12em;");e(t,2,0,n)}),(function(e,t){var n=t.component;e(t,4,0,fi(1,"download-font-ttf-",n.libraryData.name,"")),e(t,5,0,n.getButtonText()),e(t,6,0,fi(1,"ttfDownload-",n.libraryData.name,"-picker")),e(t,10,0,fi(1,"download-font-ttf-",n.libraryData.name,"")),e(t,12,0,fi(1,"download-font-eot-",n.libraryData.name,"")),e(t,14,0,fi(1,"download-font-svg-",n.libraryData.name,"")),e(t,16,0,fi(1,"download-font-woff-",n.libraryData.name,"")),e(t,18,0,fi(1,"download-font-woff2-",n.libraryData.name,""))}))}function qM(e){return Xl(0,[(e()(),Dl(0,0,null,null,17,"div",[["class","compact-container"],["title","View download options"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,2,"button",[["aria-expanded","false"],["aria-haspopup","true"],["class","compact-icon btn"],["data-toggle","dropdown"],["id","ttfDownload"],["type","button"]],[[1,"test-id",0]],null,null,null,null)),(e()(),Dl(2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Toggle Dropdown"])),(e()(),Dl(4,0,null,null,13,"div",[["class","dropdown-menu animate fadeIn"],["title",""]],null,null,null,null,null)),(e()(),Dl(5,0,null,null,1,"a",[["class","dropdown-item"],["href","#"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onCollectionClick(n,r.libraryData.name,r.collectionMetadata.name)&&i),i}),null,null)),(e()(),Wl(-1,null,["View Collection"])),(e()(),Dl(7,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(e()(),Dl(8,0,null,null,1,"span",[["class","dropdown-item"],["role","link"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDownloadFontClick("ttf")&&i),i}),null,null)),(e()(),Wl(-1,null,["Download font .TTF"])),(e()(),Dl(10,0,null,null,1,"span",[["class","dropdown-item"],["role","link"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDownloadFontClick("eot")&&i),i}),null,null)),(e()(),Wl(-1,null,["Download font .EOT"])),(e()(),Dl(12,0,null,null,1,"span",[["class","dropdown-item"],["role","link"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDownloadFontClick("svg")&&i),i}),null,null)),(e()(),Wl(-1,null,["Download font .SVG"])),(e()(),Dl(14,0,null,null,1,"span",[["class","dropdown-item"],["role","link"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDownloadFontClick("woff")&&i),i}),null,null)),(e()(),Wl(-1,null,["Download font .WOFF"])),(e()(),Dl(16,0,null,null,1,"span",[["class","dropdown-item"],["role","link"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDownloadFontClick("woff2")&&i),i}),null,null)),(e()(),Wl(-1,null,["Download font .WOFF2"]))],null,(function(e,t){var n=t.component;e(t,1,0,fi(1,"ttfDownload-",n.collectionMetadata.name,"")),e(t,5,0,fi(1,"collection-link-",n.collectionMetadata.name,"")),e(t,8,0,fi(1,"download-font-ttf-",n.collectionMetadata.name,"")),e(t,10,0,fi(1,"download-font-eot-",n.collectionMetadata.name,"")),e(t,12,0,fi(1,"download-font-svg-",n.collectionMetadata.name,"")),e(t,14,0,fi(1,"download-font-woff-",n.collectionMetadata.name,"")),e(t,16,0,fi(1,"download-font-woff2-",n.collectionMetadata.name,""))}))}function KM(e){return Xl(0,[Fl(671088640,1,{downloadFileComponent:0}),(e()(),Dl(1,0,null,null,6,"section",[],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,HM)),Yi(3,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,qM)),Yi(5,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(6,0,null,null,1,"download-file",[],null,null,null,jM,UM)),Yi(7,49152,[[1,4]],0,VM,[KS,Hb,p_],null,null)],(function(e,t){var n=t.component;e(t,3,0,"Full"===n.uiMode),e(t,5,0,"Compact"===n.uiMode)}),null)}class WM{constructor(){this.onModalActivated=new Cr,this.onCollectionSelectionEmitToParent=new Cr,this.onModalActivatedHandler=e=>{this.onModalActivated.emit(e)},this.onCollectionSelection=e=>{console.log("oncollectionSelection => ",e.libraryName,e.collectionName),this.onCollectionSelectionEmitToParent.emit(e)}}ngOnChanges(e){e.libraryData&&void 0!==e.libraryData.currentValue&&(this.masterCollectionMetadata=new vw("","",[],"","","",0,"",[],0,"",""),this.collectionMetadata=new vw("","",[],"","","",0,"",[],0,"",""),this.collectionMetadata$&&this.collectionMetadata$.subscribe(e=>{ho(e.libraryName)||(this.isMasterCollection=e.libraryName.toLowerCase()===e.name.toLowerCase(),this.isMasterCollection?this.masterCollectionMetadata=e:(this.masterCollectionMetadata=e,this.collectionMetadata=e),this.collectionType=this.isMasterCollection?"master":"subset")}))}}var QM=jn({encapsulation:0,styles:[[""]],data:{}});function ZM(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"font-menu",[],null,[[null,"onModalActivated"],[null,"onCollectionSelection"]],(function(e,t,n){var i=!0,r=e.component;return"onModalActivated"===t&&(i=!1!==r.onModalActivatedHandler(n)&&i),"onCollectionSelection"===t&&(i=!1!==r.onCollectionSelection(n)&&i),i}),KM,BM)),Yi(1,638976,null,0,GM,[KS,Hb,ck],{libraryData:[0,"libraryData"],isMasterCollection:[1,"isMasterCollection"],collectionMetadata:[2,"collectionMetadata"],uiMode:[3,"uiMode"]},{onCollectionSelection:"onCollectionSelection"})],(function(e,t){var n=t.component;e(t,1,0,n.libraryData,n.isMasterCollection,"master"===n.collectionType?n.masterCollectionMetadata:n.collectionMetadata,n.uiMode)}),null)}var XM=function(e){return e[e.Glyph=1]="Glyph",e[e.Svg=2]="Svg",e[e.Png=3]="Png",e}({}),YM=function(e){return e.LoadIconPreviews="[Icons] Load Icon Previews",e.LoadIconPreviewsSuccess="[Icons] Load Icon Previews Success",e.LoadIconPreviewsError="[Icons] Load Icon Previews Error",e}({});class JM{constructor(e,t){this.key=e,this.iconPreviews=t}}class eE{constructor(e){this.payload=e,this.type=YM.LoadIconPreviews}}class tE{constructor(e){this.payload=e,this.type=YM.LoadIconPreviewsSuccess}}class nE{constructor(e){this.payload=e,this.type=YM.LoadIconPreviewsError}}let iE=(()=>{class e{constructor(e,t,n,i){this.actions$=e,this.iconApiService=t,this.transformedGlyphsService=n,this.sanitizer=i,this.loadIconPreviews$=this.actions$.pipe(DC(YM.LoadIconPreviews),wc(e=>this.iconApiService.getPreviewIcons(e.payload.libraryName,e.payload.collectionName).pipe(F(t=>{const n=[{isLoaded:!1},{isLoaded:!1},{isLoaded:!1},{isLoaded:!1},{isLoaded:!1},{isLoaded:!1},{isLoaded:!1},{isLoaded:!1}];let i=0;return t.slice(0,8).forEach(e=>{e&&XS(e)?t_(e)&&this.transformedGlyphsService.transformGlyph(e):YS(e)?n[i].htmlContent=e&&e.svgXml?this.sanitizer.bypassSecurityTrustHtml(this.fixUpSvgXml(e.svgXml)):"":JS(e)&&(n[i].htmlContent=e&&e.pngBase64Data?this.sanitizer.bypassSecurityTrustHtml('<img style="width:24px" src="data:image/png;base64, '+e.pngBase64Data+'"/>'):""),n[i].icon=e,n[i].isLoaded=!0,i++}),new tE(new JM(`${e.payload.libraryName}.${e.payload.collectionName}`,n))}),rc(e=>Ra(new nE(e))))))}fixUpSvgXml(e){const t=(new DOMParser).parseFromString(e,"text/xml");return t.documentElement.removeAttribute("width"),t.documentElement.removeAttribute("height"),(new XMLSerializer).serializeToString(t.documentElement)}}return lo([TC(),so("design:type",Object)],e.prototype,"loadIconPreviews$",void 0),e})();const rE={iconPreviews:{}};function lE(e=rE,t){switch(t.type){case YM.LoadIconPreviews:return Object.assign({},e);case YM.LoadIconPreviewsSuccess:return Object.assign({},e,{iconPreviews:Object.assign({},e.iconPreviews,{[t.payload.key]:t.payload.iconPreviews})});default:return e}}const sE=Wv(Zv("coreState"),e=>e.core),oE=Wv(sE,(e,t)=>void 0!==e.iconPreviews[t.key]),aE=Wv(sE,(e,t)=>e.iconPreviews[t.key]);class cE{constructor(e){this.store=e,this.onCollectionSelection=new Cr,this.isHovering=!1,this.isHoveringOnDownloadMenu=!1,this.defaultSvgSize=24,this.defaultPngSize=24,this.onToggleHoverState=e=>{this.isHovering=e},this.onToggleFontMenuHoverState=e=>{this.isHoveringOnDownloadMenu=e},this.onCollectionSelectionEmitToParent=()=>{this.onCollectionSelection.emit(this.collectionItem)},this.onCardBodyClick=()=>{this.isHoveringOnDownloadMenu||this.onCollectionSelection.emit(this.collectionItem)}}isGlyphType(){return this.collectionItem.collection.iconType===XM.Glyph}isGlyph(e){return XS(e)}isSvg(e){return YS(e)}isPng(e){return JS(e)}setCollectionType(){this.collectionItem.collection.iconType===XM.Glyph?this.collectionType="Glyph":this.collectionItem.collection.iconType===XM.Svg?this.collectionType="SVG":this.collectionItem.collection.iconType===XM.Png&&(this.collectionType="PNG")}setCollectionName(){let e="";e=this.collectionItem.collection.name.endsWith("Assets")?this.collectionItem.collection.name.replace("Assets",""):this.collectionItem.collection.name.endsWith("assets")?this.collectionItem.collection.name.replace("assets",""):this.collectionItem.collection.name,this.collectionName=e}ngOnInit(){var e,t;this.iconPreviews=[{isLoaded:!1},{isLoaded:!1},{isLoaded:!1},{isLoaded:!1},{isLoaded:!1},{isLoaded:!1},{isLoaded:!1},{isLoaded:!1}],this.setCollectionName(),this.setCollectionType(),this.iconPreview$=this.store.select(aE,{key:`${this.libraryData.name}.${this.collectionItem.collection.name}`}),this.iconPreviewSubscription=this.iconPreview$.subscribe(e=>{void 0!==e&&(this.iconPreviews=e)}),(e=this.store,t=new GS(this.libraryData.name,this.collectionItem.collection.name),e.select(oE,{key:`${t.libraryName}.${t.collectionName}`}).pipe(Cc(n=>{n||e.dispatch(new eE(t))}),Ga(e=>e),oc(1))).subscribe(()=>{})}ngOnDestroy(){this.iconPreviewSubscription.unsubscribe()}}var uE=jn({encapsulation:0,styles:[['.card[_ngcontent-%COMP%]{margin:0 10px 10px 0}.card[_ngcontent-%COMP%]   .isHover[_ngcontent-%COMP%]{cursor:pointer}.card.loaded[_ngcontent-%COMP%]:before{position:relative;transform-origin:center center 0;transform:scale(0)}.card.loaded[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{font-size:24px;transition:font-size .1s ease-in-out,transform 1s ease-in-out}.card[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{height:32px;width:32px;font-size:24px}.card[_ngcontent-%COMP%]:before{height:100%;width:100%;display:block;flex:unset;border-width:0;background-color:rgba(128,128,128,.01);content:"";position:relative;top:auto;left:auto}.card[_ngcontent-%COMP%]   .card-item[_ngcontent-%COMP%]{width:300px;height:160px;background-color:rgba(128,128,128,.05)}.feature_value[_ngcontent-%COMP%]{width:inherit}.preview-icon-grid[_ngcontent-%COMP%]{list-style-type:none;height:32px;width:32px}.unloaded[_ngcontent-%COMP%]{background:#f9f9f9;height:32px;width:32px}.separator[_ngcontent-%COMP%]{height:4px;width:4px;border-radius:50%;background:#c4c4c4}']],data:{}});function hE(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"div",[["class","d-inline-block mr-2 p-0"]],[[4,"margin-left",null]],[[null,"mouseenter"],[null,"mouseleave"]],(function(e,t,n){var i=!0,r=e.component;return"mouseenter"===t&&(i=!1!==r.onToggleFontMenuHoverState(!0)&&i),"mouseleave"===t&&(i=!1!==r.onToggleFontMenuHoverState(!1)&&i),i}),null,null)),(e()(),Dl(1,0,null,null,1,"collection-font-download",[["class","p-0 text-right"]],null,[[null,"onCollectionSelectionEmitToParent"]],(function(e,t,n){var i=!0;return"onCollectionSelectionEmitToParent"===t&&(i=!1!==e.component.onCollectionSelectionEmitToParent(n)&&i),i}),ZM,QM)),Yi(2,573440,null,0,WM,[],{collectionMetadata$:[0,"collectionMetadata$"],libraryData:[1,"libraryData"],uiMode:[2,"uiMode"]},{onCollectionSelectionEmitToParent:"onCollectionSelectionEmitToParent"})],(function(e,t){var n=t.component;e(t,2,0,n.collectionItem.collectionMetadata$,n.libraryData,"Compact")}),(function(e,t){e(t,0,0,"auto")}))}function dE(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function pE(e){return Xl(0,[(e()(),Dl(0,0,null,null,3,"li",[["class","preview-icon-grid mr-2"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,2,null,dE)),Yi(2,540672,null,0,Sa,[xn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),ql(3,{$implicit:0})],(function(e,t){var n=e(t,3,0,t.context.$implicit);e(t,2,0,n,Vi(t.parent,26))}),null)}function fE(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function gE(e){return Xl(0,[(e()(),Dl(0,0,null,null,3,"li",[["class","preview-icon-grid mr-2"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,2,null,fE)),Yi(2,540672,null,0,Sa,[xn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),ql(3,{$implicit:0})],(function(e,t){var n=e(t,3,0,t.context.$implicit);e(t,2,0,n,Vi(t.parent,26))}),null)}function mE(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"div",[["class","unloaded"]],null,null,null,null,null))],null,null)}function yE(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"div",[["class","glyph text-center"]],null,null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.icon.transformedGlyph?t.parent.context.$implicit.icon.transformedGlyph:t.parent.context.$implicit.icon.glyph)}))}function bE(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"div",[["class","align-middle text-center d-block"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"div",[["class","d-inline-block"]],null,null,null,null,null)),(e()(),Dl(2,0,null,null,0,":svg:svg",[],[[4,"height","px"],[4,"width","px"],[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,2,0,n.defaultSvgSize,n.defaultSvgSize,t.parent.context.$implicit.htmlContent)}))}function vE(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"div",[["class","align-middle text-center d-block"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"div",[["class","d-inline-block"]],null,null,null,null,null)),(e()(),Dl(2,0,null,null,0,"div",[],[[4,"height","px"],[4,"width","px"],[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,2,0,n.defaultPngSize,n.defaultPngSize,t.parent.context.$implicit.htmlContent)}))}function wE(e){return Xl(0,[(e()(),Ol(16777216,null,null,1,null,mE)),Yi(1,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,yE)),Yi(3,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,bE)),Yi(5,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,vE)),Yi(7,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,!t.context.$implicit.isLoaded),e(t,3,0,t.context.$implicit.isLoaded&&t.context.$implicit.icon&&n.isGlyph(t.context.$implicit.icon)),e(t,5,0,t.context.$implicit.isLoaded&&t.context.$implicit.icon&&n.isSvg(t.context.$implicit.icon)),e(t,7,0,t.context.$implicit.isLoaded&&t.context.$implicit.icon&&n.isPng(t.context.$implicit.icon))}),null)}function CE(e){return Xl(0,[(e()(),Dl(0,0,null,null,25,"div",[["class","card border-0"]],[[1,"test-id",0]],null,null,null,null)),(e()(),Dl(1,0,null,null,24,"div",[["class","card-body card-item d-flex flex-column rounded p-3"]],null,[[null,"mouseenter"],[null,"mouseleave"],[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"mouseenter"===t&&(i=!1!==r.onToggleHoverState(!0)&&i),"mouseleave"===t&&(i=!1!==r.onToggleHoverState(!1)&&i),"click"===t&&(i=!1!==r.onCardBodyClick()&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(3,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(4,{"shadow-sm":0,"bg-white":1,"border-light":2,isHover:3}),(e()(),Dl(5,0,null,null,4,"div",[["class","d-flex d-flex-row align-items-center p-0 ml-2"]],[[4,"height","px"]],null,null,null,null)),(e()(),Dl(6,0,null,null,1,"span",[["class","d-inline-block text-truncate feature_value text-primary"],["test-id","collection-name"]],null,null,null,null,null)),(e()(),Wl(7,null,["",""])),(e()(),Ol(16777216,null,null,1,null,hE)),Yi(9,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(10,0,null,null,5,"div",[["class","d-flex d-flex-row align-items-center ml-2 p-0"]],null,null,null,null,null)),(e()(),Dl(11,0,null,null,1,"span",[["class","small text-secondary font-weight-normal"],["test-id","collection_iconcount"]],null,null,null,null,null)),(e()(),Wl(12,null,[""," Icons"])),(e()(),Dl(13,0,null,null,0,"span",[["class","separator mx-2"]],null,null,null,null,null)),(e()(),Dl(14,0,null,null,1,"span",[["class","small text-secondary font-weight-normal"],["test-id","collection_type"]],null,null,null,null,null)),(e()(),Wl(15,null,["",""])),(e()(),Dl(16,0,null,null,4,"div",[["class","mt-2"]],null,null,null,null,null)),(e()(),Dl(17,0,null,null,3,"ul",[["class","d-flex px-2 justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,2,null,pE)),Yi(19,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null),Ji(0,Ea,[]),(e()(),Dl(21,0,null,null,4,"div",[["class","mt-2"]],null,null,null,null,null)),(e()(),Dl(22,0,null,null,3,"ul",[["class","d-flex px-2 justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,2,null,gE)),Yi(24,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null),Ji(0,Ea,[]),(e()(),Ol(0,[["icon",2]],null,0,null,wE))],(function(e,t){var n=t.component,i=e(t,4,0,n.isHovering,n.isHovering,n.isHovering,n.isHovering);e(t,3,0,"card-body card-item d-flex flex-column rounded p-3",i),e(t,9,0,n.isGlyphType()),e(t,19,0,Un(t,19,0,Vi(t,20).transform(n.iconPreviews,0,4))),e(t,24,0,Un(t,24,0,Vi(t,25).transform(n.iconPreviews,4,8)))}),(function(e,t){var n=t.component;e(t,0,0,fi(1,"collectionCard-",n.collectionItem.collection.name,"")),e(t,5,0,20),e(t,7,0,n.collectionName),e(t,12,0,null==n.collectionItem?null:n.collectionItem.collection.iconCount),e(t,15,0,n.collectionType)}))}class SE{constructor(e,t,n){this.iconApiService=e,this.libraryMetadataService=t,this.styleLoaderService=n,this.onCollectionClicked=new Cr,this.allLibrariesFacetName="All Libraries",this.collectionItemByInternalKey={},this.hasGlyphs=!1,this.isReady=!1,this.libraryDataByCollectionInternalKey={},this.containerClassNamePrefix="featured-collection-card-grid",this.onCollectionSelection=e=>{this.onCollectionClicked.emit(e.collection)}}ngOnInit(){this.iconApiService.getFeaturedCollections().toPromise().then(e=>{this.collections=e,this.collections.forEach(e=>{let t=this.libraryMetadataService.getLibraryByName(e.libraryName);t.collectionNames.forEach(n=>{if(n===e.name){const i=t.collectionsMetadata.find(e=>e.name===n);this.libraryDataByCollectionInternalKey[i.internalKey]=t,this.collectionItemByInternalKey[i.internalKey]=new Sw(i,Ra(e))}}),this.hasGlyphs=this.hasGlyphs||"Glyph"===t.iconType}),this.isReady=!0}),this.containerClassName=this.styleLoaderService.constructContainerClassName(this.containerClassNamePrefix,"All Libraries")}}var _E=jn({encapsulation:0,styles:[[".card-deck[_ngcontent-%COMP%]{-webkit-padding-start:0;padding-inline-start:0;margin-left:0}"]],data:{animation:[{type:7,name:"fadeIn",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"300ms ease-in"}],options:null}],options:{}},{type:7,name:"fadeOut",definitions:[{type:1,expr:":leave",animation:[{type:6,styles:{opacity:1},offset:null},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"200ms ease-in-out"}],options:null}],options:{}}]}});function xE(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"style-loader",[],null,null,null,$M,FM)),Yi(1,245760,null,0,LM,[y_,i_],{containerClassNamePrefix:[0,"containerClassNamePrefix"],libraryGroupName:[1,"libraryGroupName"],collections:[2,"collections"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.containerClassNamePrefix,n.allLibrariesFacetName,n.collections)}),null)}function IE(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"li",[["class","d-flex flex-wrap"]],[[1,"id",0],[1,"test-id",0]],null,null,null,null)),(e()(),Dl(1,0,null,null,1,"collection-card",[],[[1,"test-id",0]],[[null,"onCollectionSelection"]],(function(e,t,n){var i=!0;return"onCollectionSelection"===t&&(i=!1!==e.component.onCollectionSelection(n)&&i),i}),CE,uE)),Yi(2,245760,null,0,cE,[Gv],{libraryData:[0,"libraryData"],collectionItem:[1,"collectionItem"]},{onCollectionSelection:"onCollectionSelection"})],(function(e,t){var n=t.component;e(t,2,0,n.libraryDataByCollectionInternalKey[t.context.$implicit.internalKey],n.collectionItemByInternalKey[t.context.$implicit.internalKey])}),(function(e,t){e(t,0,0,"collection-card-index-"+t.context.index,"collection-card-index-"+t.context.index),e(t,1,0,fi(1,"collection-card-",t.context.$implicit.name,""))}))}function kE(e){return Xl(0,[(e()(),Dl(0,0,null,null,7,"section",[],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,xE)),Yi(2,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(3,0,null,null,4,"ul",[["class","row card-deck grid-container"]],null,null,null,null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(5,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Ol(16777216,null,null,1,null,IE)),Yi(7,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.hasGlyphs),e(t,5,0,"row card-deck grid-container",n.containerClassName),e(t,7,0,n.collections)}),null)}function TE(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"h5",[["class","mx-0 px-0"],["test-id","new-icons-grid-heading"]],[[24,"@fadeIn",0],[24,"@fadeOut",0]],null,null,null,null)),(e()(),Wl(-1,null,["Featured Collections"])),(e()(),Ol(16777216,null,null,1,null,kE)),Yi(4,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,4,0,t.component.isReady)}),(function(e,t){e(t,1,0,void 0,void 0)}))}let ME=(()=>{class e{constructor(e,t,n){this.actions$=e,this.router=t,this.routeSerializerService=n,this.createRouteNavigationPath=e=>{let t="/"+e;const n=this.routeSerializerService.getBrowseLibraryCollectionValueFromStore(),i=this.routeSerializerService.getSearchTermsFromStore(),r=this.routeSerializerService.getKeywordsFromStore(),l=this.routeSerializerService.getSearchImageDataFromStore(),s=this.routeSerializerService.getSearchIconInternalKeyFromStore(),o=this.routeSerializerService.getLibraryNameFromStore(),a=this.routeSerializerService.getSelectedCollectionNameFromStore(),c=this.routeSerializerService.getSelectedIconFromStore();switch(t){case"/browse":n.libraryName.length>0&&(t=`${t}/${n.libraryName}`,void 0!==n.collectionName&&(t=t.concat("/"+n.collectionName))),c&&(t=`${t}/${c.internalKey}`);break;case"/search":0===i.length&&(r.length>0?t+="/keyword":l.length>0?t+="/image":s.length>0&&(t+="/icon")),o.length>0&&(t=`${t}/filter/${o}`,t=a&&a.length>0?`${t}/${a}`:o.length>0?t+"/all":t),i.length>0?t=`${t}/${i}`:r.length>0?t=`${t}/${r}`:l.length>0?t+="/":s.length>0&&(t=`${t}/${s}`),c&&(t=`${t}/${c.internalKey}`);break;default:t=""}return t},this.navigate$=this.actions$.pipe(DC(R_),F(e=>e.payload),Cc(({path:e,query:t})=>{let n=e&&e.length>0?e.toString().split("/"):[],i=n.length>1?n[1]:"",r="",l=this.router.routerState.snapshot.url.split("/"),s=l.length>1?l[1]:"";r=this.createRouteNavigationPath("/"===e.toString()||i.length>0?i:s),console.log("RouterActions.Go effect() => routePath: ",r),this.router.navigate([r],Object.assign({queryParams:t},{replaceUrl:!1}))}))}}return lo([TC({dispatch:!1}),so("design:type",Object)],e.prototype,"navigate$",void 0),e})();const EE=(e,t)=>{const n={path:[""+(t.startsWith("/")||0===t.length?t:"/"+t)]};e.dispatch(new A_(n))},PE=Wv(U_,e=>e.context),OE=(e,t)=>{console.log("ViewContext changing to "+t),e.dispatch(new F_(t))};class DE{constructor(e,t,n){this.appInsightsService=e,this.libraryMetadataService=t,this.store=n,this.onCollectionClicked=e=>{console.log("collection clicked = "+e.name),null!==event&&(event.stopPropagation(),event.preventDefault()),this.appInsightsService.trackEvent("collection-click",{component:"featured-collections",libraryName:e.libraryName,collectionName:e.name}),this.store.dispatch(new Kb(new Uw(e.libraryName,e.name,e.internalKey)));const t=this.libraryMetadataService.getLibraryGroupByCollectionInternalKey(e.internalKey);AS(this.store,t),LS(this.store,new bw(e.name,0,!0,e.internalKey,e.libraryName)),sS(this.store,""),oS(this.store,""),aS(this.store,""),cS(this.store,""),EE(this.store,"browse")}}ngOnInit(){this.viewContext$=this.store.select(PE)}}var NE=jn({encapsulation:0,styles:[[".extra-bottom-margin[_ngcontent-%COMP%]     ul.grid-container{margin-bottom:125px}.main-content-container[_ngcontent-%COMP%]{overflow:hidden;margin-left:260px;min-height:500px}.absolute[_ngcontent-%COMP%], .position-absolute[_ngcontent-%COMP%]{top:15px;right:40px;z-index:1}"]],data:{}});function RE(e){return Xl(0,[(e()(),Dl(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),Dl(1,0,null,null,2,"section",[["class","mt-4 col-12"],["test-id","featured-collections"]],null,null,null,null,null)),(e()(),Dl(2,0,null,null,1,"featured-collection-card-grid",[],null,[[null,"onCollectionClicked"]],(function(e,t,n){var i=!0;return"onCollectionClicked"===t&&(i=!1!==e.component.onCollectionClicked(n)&&i),i}),TE,_E)),Yi(3,114688,null,0,SE,[WS,i_,y_],null,{onCollectionClicked:"onCollectionClicked"})],(function(e,t){e(t,3,0)}),null)}class AE{constructor(e,t,n,i,r){this.appInsightsService=e,this.libraryMetadataService=t,this.sanitizer=n,this.store=i,this.svgElementRef=r,this.canShowGhostIcon=!0,this.currentScale=Lw.default,this.iconFontSizePx="32px",this.isHover=!1,this.onIconClicked=()=>{null!==event&&(event.stopPropagation(),event.preventDefault());const e=this.icon.libraryName,t=this.icon.fonts[0];this.appInsightsService.trackEvent("icon-click",{component:"new-icon-card-component",libraryName:e,collectionName:t,internalKey:this.icon.internalKey});const n=this.libraryMetadataService.getCollectionMetadataByLibraryOrGroupName(e,t),i=this.libraryMetadataService.getLibraryByName(e);this.store.dispatch(new Kb(new Uw(n.libraryName,n.name,n.internalKey))),AS(this.store,new Tw(i.libraryGroupName||e,0,!0,[],[])),LS(this.store,new bw(n.name,n.iconCount,!0,n.internalKey,n.libraryName)),sS(this.store,""),oS(this.store,""),aS(this.store,""),cS(this.store,""),JC(this.store,this.icon),EE(this.store,"browse")},this.onToggleHoverState=()=>{this.isHover=!this.isHover},this.onTooltipClose=e=>{e.close(),clearInterval(this.openTooltipDelay)},this.onTooltipOpen=e=>{this.openTooltipDelay=setTimeout(()=>{e.open()},400)}}isExtendedUnicode(e){return t_(e)}isGlyph(e){return XS(e)}isPng(e){return JS(e)}isSvg(e){return YS(e)}safeInternalKey(e){return ZS(e)}fixUpSvgXml(e){const t=(new DOMParser).parseFromString(e,"text/xml");return t.documentElement.removeAttribute("width"),t.documentElement.removeAttribute("height"),(new XMLSerializer).serializeToString(t.documentElement)}ngOnInit(){this.icon&&(this.htmlContent=this.icon.svgXml?this.sanitizer.bypassSecurityTrustHtml(this.fixUpSvgXml(this.icon.svgXml)):this.icon.pngBase64Data?this.sanitizer.bypassSecurityTrustHtml('<img style="width:32px" src="data:image/png;base64, '+this.icon.pngBase64Data+'"/>'):"")}ngAfterViewInit(){const e=this.svgElementRef.nativeElement.querySelector("svg title");e&&e.innerHTML&&(e.innerHTML="")}ngOnDestroy(){}}var LE=jn({encapsulation:0,styles:[['.card[_ngcontent-%COMP%]{margin:5px 10px 5px 0}.card[_ngcontent-%COMP%]   .isHover[_ngcontent-%COMP%]{cursor:pointer}.card[_ngcontent-%COMP%]:before{height:100%;width:100%;display:block;flex:unset;border-width:0;background-color:rgba(128,128,128,.01);content:"";position:absolute;top:auto;left:auto}.card.loaded[_ngcontent-%COMP%]:before{position:relative;transform-origin:center center 0;transform:scale(0)}.card.loaded[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{font-size:32px;transition:font-size .1s ease-in-out,transform 1s ease-in-out}.card[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{font-size:32px;transform-origin:center center 0}.card[_ngcontent-%COMP%]   .card-item[_ngcontent-%COMP%]{width:103px;height:103px;overflow:hidden;border:2px solid transparent;background-color:rgba(128,128,128,.05);transform:scale(1)}.card[_ngcontent-%COMP%]   .card-item[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{font-size:0;overflow:hidden;transform:scale(1)}.card[_ngcontent-%COMP%]   .card-item.scale-xsmall[_ngcontent-%COMP%]{width:43px;height:43px;transform:scale(1);transition:transform 250ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item.scale-xsmall[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{transform:scale(.5);margin-top:-5px;transition:transform 250ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item.scale-xsmall[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{display:none!important}.card[_ngcontent-%COMP%]   .card-item.scale-xsmall.card-body[_ngcontent-%COMP%]{padding:0!important}.card[_ngcontent-%COMP%]   .card-item.scale-small[_ngcontent-%COMP%]{width:95px;height:95px;transform:scale(1);transition:transform 250ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item.scale-small[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{transform:scale(.8);transition:transform 250ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item.scale-default[_ngcontent-%COMP%]{width:103px;height:103px;transform:scale(1);transition:transform 250ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item.scale-default[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{transform:scale(1);transition:transform 250ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item.scale-large[_ngcontent-%COMP%]{width:123px;height:123px;transform:scale(1);transition:transform 250ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item.scale-large[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{transform:scale(1.5);transition:transform 250ms ease-in-out;margin-top:5px}.card[_ngcontent-%COMP%]   .card-item.scale-large[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{margin-top:15px}.card[_ngcontent-%COMP%]   .card-item.scale-xlarge[_ngcontent-%COMP%]{width:140px;height:140px;transform:scale(1);transition:transform 250ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item.scale-xlarge[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{transform:scale(2);transition:transform 250ms ease-in-out;margin-top:17px}.card[_ngcontent-%COMP%]   .card-item.scale-xlarge[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{margin-top:20px}.card[_ngcontent-%COMP%]   .card-item.border-primary[_ngcontent-%COMP%]{border:2px solid}.card[_ngcontent-%COMP%]   .card-item.ghost[_ngcontent-%COMP%]{border:2px solid #f9f9f9;background-color:#fff}.card[_ngcontent-%COMP%]   .card-item.ghost[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{font-size:0;height:32px;width:32px;background-color:#f9f9f9;margin:8px auto 0;color:#f9f9f9}.card[_ngcontent-%COMP%]   .card-item.ghost[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:0}.card[_ngcontent-%COMP%]   .card-item.ghost[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:0;height:12px;width:60px;margin:12px auto 0;background-color:#f9f9f9}.card[_ngcontent-%COMP%]   .card-item.ghost.scale-xsmall[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{margin:4px auto 0}.card[_ngcontent-%COMP%]   .card-item.ghost.scale-large[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{margin:10px auto 0}.card[_ngcontent-%COMP%]   .card-item.ghost.scale-large[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{margin:30px auto 0;width:70px}.card[_ngcontent-%COMP%]   .card-item.ghost.scale-xlarge[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{margin:24px auto 0}.card[_ngcontent-%COMP%]   .card-item.ghost.scale-xlarge[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{margin:32px auto 0;width:80px}.card[_ngcontent-%COMP%]   .card-item[_ngcontent-%COMP%]:not(.ghost){transition:all 150ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item[_ngcontent-%COMP%]:not(.ghost)   .card-text[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-item[_ngcontent-%COMP%]:not(.ghost)   .glyph[_ngcontent-%COMP%]{transition:width 150ms ease-in-out,height 150ms ease-in-out,transform 150ms ease-in-out,background-color 150ms ease-in-out,color 150ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item[_ngcontent-%COMP%]:not(.ghost)   .glyph[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1;transition:opacity 50ms ease-in-out}']],data:{}});function FE(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){var n=t.component;e(t,1,0,n.icon?n.icon.unicodeValue:"")}))}function $E(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"div",[["class","text-center card-item-text text-capitalize"]],null,null,null,null,null)),(e()(),Wl(2,null,["",""])),(e()(),Ol(16777216,null,null,1,null,FE)),Yi(4,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.isGlyph(n.icon))}),(function(e,t){var n=t.component;e(t,2,0,n.icon?n.icon.friendlyName:"")}))}function VE(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"div",[["class","glyph text-center"]],null,null,null,null,null)),er(512,null,ba,va,[Xt,bn,nn]),Yi(2,278528,null,0,Ca,[ba],{ngStyle:[0,"ngStyle"]},null),ql(3,{"font-size":0}),(e()(),Wl(4,null,["",""]))],(function(e,t){var n=e(t,3,0,t.component.iconFontSizePx);e(t,2,0,n)}),(function(e,t){var n=t.component;e(t,4,0,n.icon?n.icon.transformedGlyph?n.icon.transformedGlyph:n.icon.glyph:"")}))}function UE(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"div",[["class","glyph align-middle text-center d-block py-2"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"div",[["class","d-inline-block"],["id","svg-icon"]],null,null,null,null,null)),(e()(),Dl(2,0,null,null,0,":svg:svg",[],[[8,"innerHTML",1],[4,"width",null],[4,"height",null]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,2,0,n.htmlContent,n.iconFontSizePx,n.iconFontSizePx)}))}function jE(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"div",[["class","glyph align-middle text-center d-block py-2"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"div",[["class","d-inline-block"],["id","png-icon"]],null,null,null,null,null)),(e()(),Dl(2,0,null,null,0,"div",[],[[8,"innerHTML",1],[4,"width",null],[4,"height",null]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,2,0,n.htmlContent,n.iconFontSizePx,n.iconFontSizePx)}))}function zE(e){return Xl(0,[(e()(),Dl(0,0,null,null,18,"div",[["class","card border-0"]],[[1,"index",0],[8,"id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onIconClicked()&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(2,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(3,{loaded:0}),(e()(),Ol(0,[["cardTooltipContent",2]],null,0,null,$E)),(e()(),Dl(5,16777216,null,null,13,"div",[["class","card-body card-item rounded px-1"],["test-id","view-scale-element"],["triggers","manual"]],[[1,"test-view-scale",0]],[[null,"mouseenter"],[null,"mouseleave"]],(function(e,t,n){var i=!0,r=e.component;return"mouseenter"===t&&(r.onToggleHoverState(),i=!1!==r.onTooltipOpen(Vi(e,9))&&i),"mouseleave"===t&&(r.onToggleHoverState(),i=!1!==r.onTooltipClose(Vi(e,9))&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(7,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(8,{ghost:0,"border-primary":1,"shadow-sm":2,"bg-white":3,"border-light":4,isHover:5,"scale-xsmall":6,"scale-small":7,"scale-default":8,"scale-large":9,"scale-xlarge":10}),Yi(9,737280,[["tooltip",4]],0,Pk,[Xt,nn,xt,Kt,xn,Tk,Wr,Oa,wt,dl],{placement:[0,"placement"],triggers:[1,"triggers"],ngbTooltip:[2,"ngbTooltip"]},null),Hl(10,2),(e()(),Ol(16777216,null,null,1,null,VE)),Yi(12,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,UE)),Yi(14,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,jE)),Yi(16,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(17,0,null,null,1,"p",[["class","card-text card-item-text d-block text-center text-truncate small text-capitalize"],["test-id","card-friendlyname"]],null,null,null,null,null)),(e()(),Wl(18,null,["",""]))],(function(e,t){var n=t.component,i=e(t,3,0,n.fontLoaded);e(t,2,0,"card border-0",i);var r=e(t,8,1,[!0===n.canShowGhostIcon&&!1===n.isIconReady,n.icon&&n.icon.isSelected,n.isHover||n.icon&&n.icon.isSelected,n.isHover||n.icon&&n.icon.isSelected,n.isHover&&n.icon&&!n.icon.isSelected,n.isHover,0===n.currentScale,1===n.currentScale,2===n.currentScale,3===n.currentScale,4===n.currentScale]);e(t,7,0,"card-body card-item rounded px-1",r);var l=e(t,10,0,"bottom","top");e(t,9,0,l,"manual",Vi(t,4)),e(t,12,0,n.icon&&n.isGlyph(n.icon)),e(t,14,0,n.icon&&n.isSvg(n.icon)),e(t,16,0,n.icon&&n.isPng(n.icon))}),(function(e,t){var n=t.component;e(t,0,0,n.index,fi(1,"iconCard.",n.safeInternalKey(n.icon),"")),e(t,5,0,n.currentScale),e(t,18,0,n.icon?n.icon.friendlyName:"")}))}class GE{constructor(e,t,n,i){this.iconApiService=e,this.libraryMetadataService=t,this.styleLoaderService=n,this.store=i,this.canShowGhostIcon=!0,this.containerClassNamePrefix="new-icons",this.iconsGrouped=[],this.iconsGroupedDisplay=[],this.isIconReady=!1,this.isReady=!1,this.libraryGroupName="All Libraries",this.showIconsLimit=40,this.fontFileLoadedSubscription=new h,this.groupByLibraries=e=>{let t=e,n=[],i=[];return t.forEach((e,r)=>{for(let n=t.length-1;n>=0;n--)t[n].libraryName===e.libraryName&&(i.push(t[n]),t.splice(n,1));i.sort((e,t)=>e.friendlyName<t.friendlyName?-1:e.friendlyName>t.friendlyName?1:0),n.push(i),i=[]}),n.sort((e,t)=>e[0].libraryName<t[0].libraryName?-1:e[0].libraryName<t[0].libraryName?1:0),console.log(n),n},this.reduceIconsGroup=(e,t,n)=>e[t].slice(0,n),this.onShomeMoreClicked=e=>{this.iconsGroupedDisplay[e]=this.iconsGrouped[e].slice(0,this.iconsGroupedDisplay[e].length+this.showIconsLimit),console.log(e,this.iconsGrouped)}}ngAfterViewInit(){if(this.canShowGhostIcon){let e=this.styleLoaderService.getSpecifiedFontFaceCount(this.containerClassName);if("All Libraries"===this.libraryGroupName&&(e=0),e>0){let t=0;this.fontFileLoadedSubscription=this.styleLoaderService.loadFontFiles$(this.containerClassName).pipe(Yx(125)).subscribe(n=>{t+=1,n&&t===e&&(this.isIconReady=!0,this.fontFileLoadedSubscription.unsubscribe())})}else setTimeout(()=>{this.isIconReady=!0},800)}else this.isIconReady=!0}ngOnInit(){this.containerClassName=this.styleLoaderService.constructContainerClassName(this.containerClassNamePrefix,this.libraryGroupName),this.viewContext$=this.store.select(PE),this.selectedLibraryGroup$=this.store.select(TS),this.iconApiService.getNewIcons().toPromise().then(e=>{let t=[];this.icons=e,this.iconsGrouped=this.groupByLibraries(e),e.forEach(e=>{e.fonts.forEach(n=>{const i=this.libraryMetadataService.getCollectionMetadataByLibraryOrGroupName(e.libraryName,n);t.push(new bw(i.name,i.iconCount,!1,i.internalKey,i.libraryName))})}),this.collectionFacets=t,this.isReady=!0,this.isIconReady=!0,this.iconsGrouped.forEach((e,t)=>this.iconsGroupedDisplay[t]=e.slice(0,this.showIconsLimit)),console.log("grouped: ",this.icons),console.log("collections: ",this.collectionFacets)})}}var BE=jn({encapsulation:0,styles:[[".show-more[_ngcontent-%COMP%]{margin:0;cursor:pointer}.card-grid[_ngcontent-%COMP%]{display:flex;align-content:flex-start;align-items:flex-start;flex-wrap:wrap;margin-bottom:2px;list-style-type:none}"]],data:{animation:[{type:7,name:"fadeIn",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"300ms ease-in"}],options:null}],options:{}},{type:7,name:"fadeOut",definitions:[{type:1,expr:":leave",animation:[{type:6,styles:{opacity:1},offset:null},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"200ms ease-in-out"}],options:null}],options:{}}]}});function HE(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"li",[["class","card-grid"]],[[1,"id",0],[1,"test-unicode-value",0],[1,"test-id",0]],null,null,null,null)),(e()(),Dl(1,0,null,null,1,"new-icon-card",[],null,null,null,zE,LE)),Yi(2,4440064,null,0,AE,[Hb,i_,Cu,Gv,Xt],{icon:[0,"icon"],fontLoaded:[1,"fontLoaded"],index:[2,"index"],isIconReady:[3,"isIconReady"]},null)],(function(e,t){var n=t.component;e(t,2,0,t.context.$implicit,n.fontLoaded,t.context.index,n.isIconReady)}),(function(e,t){e(t,0,0,"card-index-"+t.context.index,null!==t.context.$implicit.unicodeValue?t.context.$implicit.unicodeValue:"","card-index-"+t.context.index)}))}function qE(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"a",[["class","show-more"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onShomeMoreClicked(e.parent.context.index)&&i),i}),null,null)),(e()(),Wl(1,null,["Show "," more"]))],null,(function(e,t){e(t,1,0,t.component.showIconsLimit)}))}function KE(e){return Xl(0,[(e()(),Dl(0,0,null,null,10,"li",[["class","card-grid"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,9,"section",[["class","mb-3"]],null,null,null,null,null)),(e()(),Dl(2,0,null,null,1,"h6",[["class","mt-3"]],null,null,null,null,null)),(e()(),Wl(3,null,[""," (",")"])),(e()(),Dl(4,0,null,null,4,"ul",[["class","row card-deck mx-0 p-0 my-0 scrollable-container grid-container"]],null,null,null,null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(6,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Ol(16777216,null,null,1,null,HE)),Yi(8,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null),(e()(),Ol(16777216,null,null,1,null,qE)),Yi(10,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,6,0,"row card-deck mx-0 p-0 my-0 scrollable-container grid-container",n.containerClassName),e(t,8,0,t.context.$implicit),e(t,10,0,t.context.$implicit.length>=n.showIconsLimit)}),(function(e,t){e(t,3,0,t.context.$implicit[0].libraryName,t.component.iconsGrouped[t.context.index].length)}))}function WE(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"section",[["class","border rounded p-3"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"style-loader",[],null,null,null,$M,FM)),Yi(2,245760,null,0,LM,[y_,i_],{containerClassNamePrefix:[0,"containerClassNamePrefix"],libraryGroupName:[1,"libraryGroupName"],collections:[2,"collections"]},null),(e()(),Ol(16777216,null,null,1,null,KE)),Yi(4,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.containerClassNamePrefix,n.libraryGroupName,n.collectionFacets),e(t,4,0,n.iconsGroupedDisplay)}),null)}function QE(e){return Xl(0,[(e()(),Dl(0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),Dl(1,0,null,null,4,"section",[["class","col-12"],["test-id","new-icons"]],null,null,null,null,null)),(e()(),Dl(2,0,null,null,1,"h5",[["class","mx-0 px-0"],["test-id","new-icons-grid-heading"]],[[24,"@fadeIn",0],[24,"@fadeOut",0]],null,null,null,null)),(e()(),Wl(-1,null,["Recently Updated Libraries"])),(e()(),Ol(16777216,null,null,1,null,WE)),Yi(5,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,5,0,t.component.isReady)}),(function(e,t){e(t,2,0,void 0,void 0)}))}class ZE{constructor(){this.onRequestIconClicked=()=>{window.open(this.libraryData.requestIconUrl,"_blank")}}}var XE=jn({encapsulation:0,styles:[[""]],data:{}});function YE(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"button",[["class","btn btn-outline-primary"],["type","button"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onRequestIconClicked()&&i),i}),null,null)),(e()(),Wl(-1,null,["Request an Icon"]))],null,(function(e,t){e(t,0,0,fi(1,"request-icon-",t.component.libraryData.name,""))}))}class JE{constructor(e,t){this.collectionName=e,this.collectionMetadata$=t}}class eP{constructor(e,t,n,i,r,l,s){this.sanitizer=e,this.elemRef=t,this.appComponent=n,this.appInsightsService=i,this.iconApiService=r,this.store=l,this.libraryMetadataService=s,this.library_iconFontMetadata$=null,this.pinnedCollectionName=null,this.pinnedCollection_iconFontMetadata$=null,this.otherCollections=null,this.featureValueHeight=33,this.minimumClientWidth=1280,this.onCollectionSelectionEmitToParent=e=>{this.onCollectionClick(null,e.libraryName,e.collectionName)},this.onCollectionClick=(e,t,n)=>{null!==e&&(e.stopPropagation(),e.preventDefault()),this.appInsightsService.trackEvent("collection-click",{component:"subset-collection-directory",libraryName:t,collectionName:n});const i=this.bufferedLibraryData.collectionsMetadata.find(e=>e.name===n);this.store.dispatch(new Kb(new Uw(t,n,i.internalKey))),AS(this.store,new Tw(t,0,!0,[],[])),LS(this.store,new bw(n,0,!0,i.internalKey,t)),sS(this.store,""),oS(this.store,""),aS(this.store,""),cS(this.store,""),EE(this.store,"browse")},this.onLibraryClick=(e,t)=>{null!==e&&(e.stopPropagation(),e.preventDefault()),this.appInsightsService.trackEvent("library-click",{component:"subset-collection-directory",libraryName:t}),this.store.dispatch(new Kb(new Uw(t,"",""))),this.libraryMetadataService.getLibraryByName(t),AS(this.store,new Tw(t,0,!0,[],[])),LS(this.store,null),sS(this.store,""),oS(this.store,""),aS(this.store,""),cS(this.store,""),EE(this.store,"browse")}}calculateFeatureListHeight(){let e=Math.ceil(this.featureListWidth/248);return Math.ceil(this.libraryData.collectionCount/e)*this.featureValueHeight}calculateFeatureListWidth(e){return e-332}getListHeight(){return this.sanitizer.bypassSecurityTrustStyle(this.featureListHeight+"px")}getValueHeight(){return this.sanitizer.bypassSecurityTrustStyle(this.featureValueHeight+"px")}getIconType(){return"Svg"===this.libraryData.iconType?this.libraryData.iconType.toLocaleUpperCase():this.libraryData.iconType}getVersionTimeStamp(){return"v"+this.libraryData.version+", "+this.libraryData.modifiedOn}updateListDimensions(e,t){t<this.minimumClientWidth&&(t=this.minimumClientWidth),this.featureListWidth=this.calculateFeatureListWidth(t),this.featureListHeight=this.calculateFeatureListHeight();const n=this.elemRef.nativeElement.querySelector("ul");null!=n&&(n.style.height=this.getListHeight())}evaluateUIs(){this.showRequestIcon=null!=this.bufferedLibraryData.requestIconUrl,this.showDownloadButton="Glyph"===this.bufferedLibraryData.iconType}ngOnInit(){this.showVersionTimeStamp=!ho(this.libraryData.version),this.hasCollections=!ho(this.libraryData.collectionNames),this.appComponent.appWidthChanged$.subscribe(e=>{const t=this.elemRef.nativeElement.getBoundingClientRect();this.updateListDimensions(e,t.width)})}ngOnChanges(e){if(e.libraryData){const e={};null!=this.libraryData.collectionsDownloadMetadata&&this.libraryData.collectionsDownloadMetadata.forEach(t=>{e[t.name]=t.metaData}),this.pinnedCollectionName=this.libraryData.masterCollectionName,this.pinnedCollection_iconFontMetadata$=Ra(e[this.libraryData.masterCollectionName]);let t=null;t=null!=this.pinnedCollectionName?this.libraryData.collectionNames.filter(e=>e.replace("Assets","")!==this.libraryData.masterCollectionName.replace("Assets","")).sort():this.libraryData.collectionNames.sort(),this.otherCollections=t.map(t=>new JE(t,Ra(e[t]))),this.iconApiService.getLibraryDataByName(this.libraryData.name).subscribe(e=>{this.bufferedLibraryData=e,"Glyph"===this.libraryData.iconType&&(this.library_iconFontMetadata$=Ra(this.libraryData.masterCollectionDownloadMetadata.metaData)),this.evaluateUIs()})}}}var tP=jn({encapsulation:0,styles:[[".feature_value[_ngcontent-%COMP%]{width:inherit}.subset-collection-directory-container[_ngcontent-%COMP%]{min-width:1218px}.library-summary-container[_ngcontent-%COMP%]{width:300px}@media screen{.collection-item[_ngcontent-%COMP%]{width:216px!important;padding-right:2em!important}}"]],data:{}});function nP(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"div",[["class","small text-secondary font-weight-normal"],["test-id","librarySummary_versionTimeStamp"]],null,null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.getVersionTimeStamp())}))}function iP(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"div",[["class","separator my-2"]],null,null,null,null,null))],null,null)}function rP(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"request-icon",[["class","btn-group-sm"]],null,null,null,YE,XE)),Yi(1,49152,null,0,ZE,[],{libraryData:[0,"libraryData"]},null)],(function(e,t){e(t,1,0,t.component.libraryData)}),null)}function lP(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"div",[["class","separator my-2"]],null,null,null,null,null))],null,null)}function sP(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"collection-font-download",[["class","btn-group-sm"]],null,null,null,ZM,QM)),Yi(1,573440,null,0,WM,[],{collectionMetadata$:[0,"collectionMetadata$"],libraryData:[1,"libraryData"],uiMode:[2,"uiMode"],isMasterCollection:[3,"isMasterCollection"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.library_iconFontMetadata$,n.libraryData,"Full",!0)}),null)}function oP(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"div",[["class","flex-fill text-muted"]],null,null,null,null,null)),(e()(),Wl(-1,null,["No Subset Fonts"]))],null,null)}function aP(e){return Xl(0,[(e()(),Dl(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),Dl(1,0,null,null,5,"li",[["class","collection-item pb-2 pr-1 d-flex align-items-center"]],[[4,"height",null]],null,null,null,null)),(e()(),Dl(2,0,null,null,1,"a",[["class","text-primary d-inline-block text-truncate feature_value"],["href","#"],["test-id","pinned-fontname"]],[[8,"title",0]],[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onCollectionClick(n,r.libraryData.name,r.pinnedCollectionName)&&i),i}),null,null)),(e()(),Wl(3,null,["",""])),(e()(),Dl(4,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),Dl(5,0,null,null,1,"collection-font-download",[["class","p-0 text-right"]],null,[[null,"onCollectionSelectionEmitToParent"]],(function(e,t,n){var i=!0;return"onCollectionSelectionEmitToParent"===t&&(i=!1!==e.component.onCollectionSelectionEmitToParent(n)&&i),i}),ZM,QM)),Yi(6,573440,null,0,WM,[],{collectionMetadata$:[0,"collectionMetadata$"],libraryData:[1,"libraryData"],uiMode:[2,"uiMode"]},{onCollectionSelectionEmitToParent:"onCollectionSelectionEmitToParent"})],(function(e,t){var n=t.component;e(t,6,0,n.pinnedCollection_iconFontMetadata$,n.bufferedLibraryData,"Compact")}),(function(e,t){var n=t.component;e(t,1,0,n.getValueHeight()),e(t,2,0,fi(1,"",n.pinnedCollectionName,"")),e(t,3,0,n.pinnedCollectionName.replace("Assets",""))}))}function cP(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"collection-font-download",[["class","p-0 text-right"]],null,[[null,"onCollectionSelectionEmitToParent"]],(function(e,t,n){var i=!0;return"onCollectionSelectionEmitToParent"===t&&(i=!1!==e.component.onCollectionSelectionEmitToParent(n)&&i),i}),ZM,QM)),Yi(2,573440,null,0,WM,[],{collectionMetadata$:[0,"collectionMetadata$"],libraryData:[1,"libraryData"],uiMode:[2,"uiMode"]},{onCollectionSelectionEmitToParent:"onCollectionSelectionEmitToParent"})],(function(e,t){e(t,2,0,t.parent.context.$implicit.collectionMetadata$,t.component.bufferedLibraryData,"Compact")}),null)}function uP(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"li",[["class","collection-item pb-2 pr-1 d-flex align-items-center"]],[[4,"height",null]],null,null,null,null)),(e()(),Dl(1,0,null,null,1,"a",[["class","text-primary d-inline-block text-truncate feature_value"],["href","#"],["test-id","subset-fontname"]],[[8,"title",0]],[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onCollectionClick(n,r.libraryData.name,e.context.$implicit.collectionName)&&i),i}),null,null)),(e()(),Wl(2,null,["",""])),(e()(),Ol(16777216,null,null,1,null,cP)),Yi(4,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,4,0,"Glyph"===t.component.libraryData.iconType)}),(function(e,t){e(t,0,0,t.component.getValueHeight()),e(t,1,0,fi(1,"",t.context.$implicit.collectionName,""));var n=t.context.$implicit.collectionName.replace("Assets","");e(t,2,0,n)}))}function hP(e){return Xl(0,[(e()(),Dl(0,0,null,null,5,"div",[["class","flex-fill"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,4,"ul",[["class","d-inline-flex flex-column flex-wrap align-content-start mb-2 px-0 list-unstyled"]],[[4,"height",null]],null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,aP)),Yi(3,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,uP)),Yi(5,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.pinnedCollectionName),e(t,5,0,n.otherCollections)}),(function(e,t){e(t,1,0,t.component.getListHeight())}))}function dP(e){return Xl(0,[(e()(),Dl(0,0,null,null,22,"div",[["class","subset-collection-directory-container d-flex flex-row justify-content-between border rounded p-3 mt-2"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,17,"div",[["class","library-summary-container"]],[[1,"test-id",0]],null,null,null,null)),(e()(),Dl(2,0,null,null,2,"a",[["href","#"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onLibraryClick(n,r.libraryData.name)&&i),i}),null,null)),(e()(),Dl(3,0,null,null,1,"h6",[["test-id","library-name"]],null,null,null,null,null)),(e()(),Wl(4,null,["",""])),(e()(),Dl(5,0,null,null,1,"div",[["class","small text-secondary font-weight-normal"],["test-id","librarySummary_type"]],null,null,null,null,null)),(e()(),Wl(6,null,["",""])),(e()(),Dl(7,0,null,null,1,"div",[["class","small text-secondary font-weight-normal"],["test-id","librarySummary_iconcount"]],null,null,null,null,null)),(e()(),Wl(8,null,[""," Collections, "," Icons"])),(e()(),Ol(16777216,null,null,1,null,nP)),Yi(10,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,iP)),Yi(12,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,rP)),Yi(14,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,lP)),Yi(16,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,sP)),Yi(18,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,oP)),Yi(20,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,hP)),Yi(22,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,10,0,n.showVersionTimeStamp),e(t,12,0,n.showRequestIcon||n.showDownloadButton),e(t,14,0,n.showRequestIcon),e(t,16,0,n.showDownloadButton),e(t,18,0,n.showDownloadButton),e(t,20,0,!n.hasCollections),e(t,22,0,n.hasCollections)}),(function(e,t){var n=t.component;e(t,1,0,fi(1,"library-summary-",n.libraryData.name,"")),e(t,2,0,fi(1,"library-link-",n.libraryData.name,"")),e(t,4,0,n.libraryData.name.replace("Assets","")),e(t,6,0,n.getIconType()),e(t,8,0,n.libraryData.collectionCount,n.libraryData.iconCount)}))}class pP{constructor(e){this.store=e,this.title="Icon Directory",this.appendPadding=!0,this.librariesData=[],this.dataLoadedSubscription=new h}isGlyphLibrary(e){return"Glyph"===e.iconType}ngOnInit(){this.dataLoadedSubscription=this.store.select(XC).subscribe(e=>{e&&(this.store.select(YC).subscribe(e=>{this.librariesData=e}).unsubscribe(),this.dataLoadedSubscription.unsubscribe())})}ngOnDestroy(){this.dataLoadedSubscription.unsubscribe()}}var fP=jn({encapsulation:0,styles:[[".fonts-directory[_ngcontent-%COMP%]{padding-top:23px;margin-right:-290px}"]],data:{}});function gP(e){return Xl(0,[(e()(),Dl(0,0,null,null,5,"li",[["class","list-unstyled"]],null,null,null,null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(2,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(3,{"mb-5 pb-5":0}),(e()(),Dl(4,0,null,null,1,"subset-collection-directory",[],null,null,null,dP,tP)),Yi(5,638976,null,0,eP,[Cu,Xt,q_,Hb,WS,Gv,i_],{libraryData:[0,"libraryData"]},null)],(function(e,t){var n=t.component,i=e(t,3,0,t.context.last&&n.appendPadding&&n.isGlyphLibrary(t.context.$implicit));e(t,2,0,"list-unstyled",i),e(t,5,0,t.context.$implicit)}),null)}function mP(e){return Xl(0,[(e()(),Dl(0,0,null,null,7,"section",[["class","main-content-container d-block mt-3"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,2,"header",[["class","px-0 col-12"]],null,null,null,null,null)),(e()(),Dl(2,0,null,null,1,"h5",[["class","col-12 pb-3"]],null,null,null,null,null)),(e()(),Wl(3,null,["",""])),(e()(),Dl(4,0,null,null,3,"div",[["class","px-3"]],null,null,null,null,null)),(e()(),Dl(5,0,null,null,2,"ul",[["class","px-0 col-12"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,gP)),Yi(7,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,7,0,t.component.librariesData)}),(function(e,t){e(t,3,0,t.component.title)}))}function yP(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"collections-directory",[],null,null,null,mP,fP)),Yi(1,245760,null,0,pP,[Gv],null,null)],(function(e,t){e(t,1,0)}),null)}var bP=Mi("collections-directory",pP,yP,{title:"title",appendPadding:"appendPadding"},{},[]);function vP(e,t=Gx){return n=>n.lift(new wP(e,t))}class wP{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new CP(e,this.dueTime,this.scheduler))}}class CP extends f{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(SP,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function SP(e){e.debouncedNext()}class _P{constructor(e,t,n,i){this.activeModal=e,this.http=t,this.sendFeedbackService=n,this.appInsightsService=i,this.notSubmitted=!0,this.submitSuccess=!1,this.submitFailed=!1,this.waiting=!1,this.isBlocking=!1,this.disableSubmit=!0}onFeedBackTextInput(e){this.disableSubmit=e.length<1,this.submitText=e}toggleIsBlocking(e){this.isBlocking=e}onSubmit(){return oo(this,void 0,void 0,(function*(){this.appInsightsService.trackEvent("submit-feedback-click",{component:"modal-feedback",feedback:this.submitText,isBlocking:this.isBlocking.toString()}),this.notSubmitted=!1,this.waiting=!0;const e={feedback:this.submitText,subjectType:"Feedback",isBlocking:this.isBlocking};try{this.sendFeedbackService.postFeedback(e,t=>{this.waiting=!1,t.feedback===e.feedback?(this.submitSuccess=!0,this.submitFailed=!1):(console.dir(t),this.submitSuccess=!1,this.submitFailed=!0)})}catch(t){console.log(t),this.submitSuccess=!1,this.submitFailed=!0}}))}ngOnInit(){}}class xP{constructor(e,t,n,i,r,l,s,o,a){this.appInsightsService=e,this.iconApiService=t,this.libraryMetadataService=n,this.modalService=i,this.notificationApiService=r,this.router=l,this.searchInputService=s,this.store=o,this.userProfileService=a,this.libraryGroupFacets=[],this.searchValue="",this.isEnterKeyPressed=!1,this.openSuggestionBox=!1,this.minInputLength=2,this.suggestions=[],this.keywords=[],this.relatedKeywords=[],this.suggestedCollections=[],this.exactMatchKeyword="",this.placeholderText="",this.userProfile=void 0,this.profileImageSrc="",this.userInitials="",this.userEmail="",this.userDisplayEmail="",this.userDisplayName="",this.userDisplayTitle="",this.userSignoutUrl="",this.openUserProfileDropdown=!1,this.visualSearchErrorText="",this.pngFileSupportEnabled=!1,this.buildInfoSubscription=new h,this.enterKeySubscription=new h,this.keyInputSubscription=new h,this.libraryMetadataSubscription=new h,this.onClearSearchButtonClick=()=>{this.isEnterKeyPressed?this.isEnterKeyPressed=!1:(this.searchValue="",this.openSuggestionBox=!1,this.appInsightsService.trackEvent("search-clear-click",{component:"search home"}))},this.onLibraryGroupFacetClick=(e,t)=>{null===e&&null!==t||(e.stopPropagation(),e.preventDefault()),this.appInsightsService.trackEvent("library-click",{component:"home-view-libraries-directory",groupFacetName:t.name}),this.store.dispatch(new Kb(new Uw(t.name,"",""))),AS(this.store,t),LS(this.store,null),sS(this.store,""),oS(this.store,""),aS(this.store,""),cS(this.store,""),EE(this.store,"browse")},this.onSearchButtonClick=(e,t)=>{t&&0!==t.length&&(e&&e.preventDefault(),1===t.length&&this.isGlyphSearch(t)&&(t=this.getUnicodeFromGlyph(t)),sS(this.store,t),oS(this.store,""),aS(this.store,""),cS(this.store,""),JC(this.store,null),EE(this.store,"search"),this.appInsightsService.trackEvent("search-click",{component:"search home",terms:t}),this.openSuggestionBox=!1)},this.onSuggestionClick=e=>{this.searchInputService.setTerms(e),this.searchInputService.setKeyWords(""),sS(this.store,e),oS(this.store,""),aS(this.store,""),cS(this.store,""),JC(this.store,null),EE(this.store,"search"),this.appInsightsService.trackEvent("search-suggestion-click",{component:"suggestion-dropdown",terms:e}),this.openSuggestionBox=!1},this.onRelatedKeywordClick=(e,t=!1)=>{this.searchInputService.setTerms(""),oS(this.store,e),sS(this.store,""),aS(this.store,""),cS(this.store,""),this.appInsightsService.trackEvent("search-related-keyword-click",{component:"suggestion-dropdown",[t?"exactKeyword":"keyword"]:e}),this.openSuggestionBox=!1,EE(this.store,"search")},this.onFontCollectionClick=e=>{this.searchInputService.setTerms(""),this.searchInputService.setKeyWords(""),this.searchInputService.setImage(null),this.appInsightsService.trackEvent("search-suggestion-click",{component:"suggestion-dropdown",collection:e.collectionName}),this.openSuggestionBox=!1,this.router.navigate([`/home/${e.libraryName}/${e.collectionName}`])},this.onSearchInputKeyUp=e=>{this.searchInputService.setKeyboardInput(e.target.value)},this.onSearchInputKeyPress=e=>{13===e.keyCode&&(this.searchInputService.setEnterKeyPressed(!0),this.searchButton.nativeElement.focus(),this.searchButton.nativeElement.focus()&&this.searchInputService.setEnterKeyPressed(!1))},this.unreadNotificationSubscription=new h,this.unreadNotificationCount=0,this.onSubmitFeedbackClick=()=>{this.appInsightsService.trackEvent("submit-feedback-click",{component:"home-view"}),this.modalService.open(_P,{size:"lg",centered:!0}),this.closeUserProfileDropdown()},this.userProfileSubscription=new h,this.onUserProfileClick=e=>{this.toggleUserProfileDropdown(),e.preventDefault()},this.onUserProfileDropdownMouseleave=()=>{this.closeUserProfileDropdown()},this.onFilesSubmitted=([e,t])=>{if(e.length>1)return this.visualSearchErrorText="Multiple files not supported.",void(t||alert(this.visualSearchErrorText));const n=e[0];if(n.size>1048576||"image/svg+xml"!==n.type&&("image/png"!==n.type||!this.pngFileSupportEnabled))return this.visualSearchErrorText="File Type is not supported or size is too large.",void(t||alert(this.visualSearchErrorText));if(this.visualSearchErrorText="",n.type&&("image/svg+xml"===n.type||"image/png"===n.type)){const e=new FileReader;e.onload=t=>{var n=e.result;sS(this.store,""),oS(this.store,""),aS(this.store,n.toString()),cS(this.store,""),JC(this.store,null),AS(this.store,new Tw("All Libraries",0,!0,[],[])),LS(this.store,null),EE(this.store,"search/image"),this.appInsightsService.trackEvent("search-file-dropped",{component:"search"})},("image/svg+xml"===n.type||"image/png"===n.type)&&e.readAsDataURL(n)}},this.isGlyphLibrary=e=>"Glyph"===e.iconType,this.getInitials=e=>{const t=e.split(" ");let n="";return t.forEach((e,t)=>{e[0].match(/^[a-zA-Z]/)&&t<2&&(n+=e[0].toUpperCase())}),n},this.titleCaseWord=e=>e.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "),this.closeUserProfileDropdown=()=>{this.openUserProfileDropdown=!1},this.toggleUserProfileDropdown=()=>{this.openUserProfileDropdown=!this.openUserProfileDropdown},this.isGlyphSearch=e=>!/\w/.test(e),this.getUnicodeFromGlyph=e=>{let t=e.charCodeAt(0).toString(16);return t.length>=4?t.toUpperCase():e},this.onSearchInputFocus=()=>{this.openSuggestionBox=this.searchValue.length>this.minInputLength},this.getExactMatchKeyword=e=>this.keywords.find(t=>e===t),this.popularSearches=[],this.onPopularSearchClick=e=>{this.searchInputService.setTerms(e),this.searchInputService.setKeyWords(""),sS(this.store,e),oS(this.store,""),aS(this.store,""),cS(this.store,""),JC(this.store,null),EE(this.store,"search"),this.appInsightsService.trackEvent("popular-search-click",{component:"home-view",terms:e}),this.openSuggestionBox=!1},this.onVisualSearchClick=()=>{this.closeUserProfileDropdown()}}ngOnInit(){this.libraryMetadataSubscription=this.libraryMetadataService.allLibraryMetadataAvailable$.subscribe(e=>{if(e){const e=this.libraryMetadataService.allLibraryMetadata;if(e&&e.length>0){this.libraryGroupFacets=this.libraryMetadataService.constructLibraryGroupFacets();let t=0;e.forEach(e=>{t+=e.iconCount}),this.placeholderText="Search through "+t+" icons across all libraries"}this.libraryMetadataSubscription.unsubscribe()}}),this.unreadNotificationSubscription=this.notificationApiService.unreadNotifications$.subscribe(e=>{this.unreadNotificationCount=e}),this.userProfileSubscription=this.userProfileService.getUserProfile().subscribe(e=>{null!==e?(this.userProfile=e,this.userSignoutUrl=this.userProfile.signOutUrl,this.userDisplayEmail=this.userProfile.userEmail?this.userProfile.userEmail.toLowerCase():"",this.userDisplayTitle=this.userProfile.userTitle?this.titleCaseWord(this.userProfile.userTitle):"",this.userDisplayName=this.userProfile.userName,null===this.userProfile.userPhoto?this.userInitials=this.getInitials(this.userDisplayName):this.profileImageSrc="data:image/gif;base64,"+this.userProfile.userPhoto):this.userProfile=e},e=>{console.log("Received an Error from userProfileService.getUserProfile() => "+e.message)}),this.buildInfoSubscription=this.userProfileService.getBuildInfo().subscribe(e=>{this.buildInfo||(this.buildInfo=e)}),this.iconApiService.getPopularSearches().toPromise().then(e=>{this.popularSearches=e}),AS(this.store,new Tw("",0,!1,[],[])),LS(this.store,null),JC(this.store,null),EE(this.store,"/"),this.enterKeySubscription=this.searchInputService.enterKeyPressed$.subscribe(e=>{this.isEnterKeyPressed=e,e&&this.onSearchButtonClick(null,this.searchValue)}),this.keyInputSubscription=this.searchInputService.getKeyboardInput().pipe(vP(300),Cc(e=>{this.openSuggestionBox=e.length>this.minInputLength&&!this.isEnterKeyPressed}),pc(e=>(e&&e.length>this.minInputLength&&this.iconApiService.getSuggestions(e).subscribe(t=>{t&&(this.suggestions=t.names,this.keywords=t.keywords,this.relatedKeywords=t.relatedKeywords,this.suggestedCollections=t.collections&&t.collections.length>8?t.collections.slice(0,8):t.collections,this.exactMatchKeyword=this.getExactMatchKeyword(e))}),Ra(e)))).subscribe()}ngOnDestroy(){this.buildInfoSubscription.unsubscribe(),this.enterKeySubscription.unsubscribe(),this.keyInputSubscription.unsubscribe(),this.libraryMetadataSubscription.unsubscribe(),this.unreadNotificationSubscription.unsubscribe(),this.userProfileSubscription.unsubscribe()}onDocumentClicked(e){this.searchElement&&(this.searchElement.nativeElement.contains(e.target)||(this.openSuggestionBox=!1)),e.stopImmediatePropagation()}}var IP=jn({encapsulation:0,styles:[['@charset "UTF-8";@font-face{font-family:CortMDL2;src:url(/assets/fonts/CortMDL2.woff) format("woff");font-weight:400;font-style:normal}@font-face{font-family:MemMDL2;src:url(/assets/fonts/MemMDL2.woff) format("woff");font-weight:400;font-style:normal}.bottom-section[_ngcontent-%COMP%]{background-color:#f5f5f5;margin:0 -20px;padding-bottom:20px;padding-top:20px}input[_ngcontent-%COMP%]{font-size:18px;font-weight:100}.homemenu-icon[_ngcontent-%COMP%]{width:29px;height:18px}.home-view[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:5rem 0 2.5rem}.home-view[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]{font-family:MemMDL2;font-size:1.2rem}.home-view[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]:before{content:"\ue711"}.home-view[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{top:17px;left:unset}.home-view[_ngcontent-%COMP%]   .dropdown-panel[_ngcontent-%COMP%]{left:auto;right:0;top:52px;width:auto}.home-view[_ngcontent-%COMP%]   .dropdown-panel[_ngcontent-%COMP%]   .dropdown-caret[_ngcontent-%COMP%]{position:absolute;top:calc(8px / -2);right:16px;z-index:10;background-color:#fff;width:8px;height:8px;transform:rotate(135deg)}.home-view[_ngcontent-%COMP%]   .dropdown-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer}.home-view[_ngcontent-%COMP%]   .dropdown-panel[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%], .home-view[_ngcontent-%COMP%]   .dropdown-panel[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:36px;height:36px}.home-view[_ngcontent-%COMP%]   .dropdown-panel[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-title[_ngcontent-%COMP%]{font-size:14px}.home-view[_ngcontent-%COMP%]   .dropdown-panel[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{cursor:pointer}.home-view[_ngcontent-%COMP%]   .icon-menu[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.home-view[_ngcontent-%COMP%]   .libraries-btn-dropdown[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .home-view[_ngcontent-%COMP%]   .libraries-btn-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}.home-view[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{align-items:unset}.home-view[_ngcontent-%COMP%]   .notification-btn-dropdown[_ngcontent-%COMP%]{margin:10px 0;position:relative}.home-view[_ngcontent-%COMP%]   .notification-btn-dropdown[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:0;right:17px;height:10px;width:10px;z-index:20}.home-view[_ngcontent-%COMP%]   .notifications[_ngcontent-%COMP%]{font-family:MemMDL2;font-size:1.2rem}.home-view[_ngcontent-%COMP%]   .notifications[_ngcontent-%COMP%]:before{content:"\uea8f"}.home-view[_ngcontent-%COMP%]   .null-profile-icon[_ngcontent-%COMP%]{font-family:MemMDL2;font-size:1.2rem}.home-view[_ngcontent-%COMP%]   .null-profile-icon[_ngcontent-%COMP%]:before{content:"\ue77b"}.home-view[_ngcontent-%COMP%]   .popular-searches[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{cursor:pointer;color:#0078d4}.home-view[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{font-family:MemMDL2;font-size:1.2rem}.home-view[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]:before{content:"\ue721"}.home-view[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:transparent solid 0}.home-view[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{opacity:.2}.home-view[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus::-moz-placeholder{opacity:.2}.home-view[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus:-ms-input-placeholder{opacity:.2}.home-view[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus::-ms-input-placeholder{opacity:.2}.home-view[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus::placeholder{opacity:.2}.home-view[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::-webkit-input-placeholder{padding-left:0;font-size:18px;font-weight:100;color:#1f1f1f}.home-view[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::-moz-placeholder{padding-left:0;font-size:18px;font-weight:100;color:#1f1f1f}.home-view[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:-ms-input-placeholder{padding-left:0;font-size:18px;font-weight:100;color:#1f1f1f}.home-view[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::-ms-input-placeholder{padding-left:0;font-size:18px;font-weight:100;color:#1f1f1f}.home-view[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{padding-left:0;font-size:18px;font-weight:100;color:#1f1f1f}.home-view[_ngcontent-%COMP%]   .top-section[_ngcontent-%COMP%]{background-color:#e2f1ff;margin:0 -20px}.home-view[_ngcontent-%COMP%]   .notification-link[_ngcontent-%COMP%]:hover{text-decoration:none}.home-view[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]{margin-right:0}.home-view[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .user-profile-link[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:transparent}.home-view[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .user-profile-link[_ngcontent-%COMP%]   .profile-photo[_ngcontent-%COMP%]{width:40px;height:40px}.home-view[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .user-profile-link[_ngcontent-%COMP%]   .profile-photo[_ngcontent-%COMP%]:hover{box-shadow:0 0 0 2px rgba(255,255,255,.35);cursor:pointer}.home-view[_ngcontent-%COMP%]   .search-query[_ngcontent-%COMP%]:focus{outline:0}.home-view[_ngcontent-%COMP%]   .search-query[_ngcontent-%COMP%]:focus + button[_ngcontent-%COMP%]{z-index:3}.home-view[_ngcontent-%COMP%]   #custom-search-form[_ngcontent-%COMP%]{margin:0 auto;position:relative;width:932px;transition:box-shadow .3s}.home-view[_ngcontent-%COMP%]   #custom-search-form[_ngcontent-%COMP%]:hover{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important;cursor:pointer}.home-view[_ngcontent-%COMP%]   #custom-search-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background:0 0;position:absolute;right:12px;top:2px}.home-view[_ngcontent-%COMP%]   #custom-search-form[_ngcontent-%COMP%]   button.clear[_ngcontent-%COMP%]{opacity:0;right:50px;top:10px}.home-view[_ngcontent-%COMP%]   #custom-search-form[_ngcontent-%COMP%]   button.clear.show[_ngcontent-%COMP%]{opacity:1}.home-view[_ngcontent-%COMP%]   #suggestion-dropdown[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0;border:0 solid transparent;left:0;top:50px;width:932px}.home-view[_ngcontent-%COMP%]   #suggestion-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:0}.home-view[_ngcontent-%COMP%]   #suggestion-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{cursor:pointer}.home-view[_ngcontent-%COMP%]   #suggestion-dropdown[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%], .home-view[_ngcontent-%COMP%]   #suggestion-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:active{background-color:#d3d3d3;color:inherit}.home-view[_ngcontent-%COMP%]   #suggestion-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .dropdown-item-text[_ngcontent-%COMP%]{font-weight:500}.home-view[_ngcontent-%COMP%]   #suggestion-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .dropdown-item-text[_ngcontent-%COMP%]     mark{font-weight:400;background-color:transparent;padding:0}.home-view[_ngcontent-%COMP%]   #suggestion-dropdown[_ngcontent-%COMP%]   .collection-list[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]:hover, .home-view[_ngcontent-%COMP%]   #suggestion-dropdown[_ngcontent-%COMP%]   .collection-list[_ngcontent-%COMP%]   .keyword[_ngcontent-%COMP%]:hover, .home-view[_ngcontent-%COMP%]   #suggestion-dropdown[_ngcontent-%COMP%]   .keyword-list[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]:hover, .home-view[_ngcontent-%COMP%]   #suggestion-dropdown[_ngcontent-%COMP%]   .keyword-list[_ngcontent-%COMP%]   .keyword[_ngcontent-%COMP%]:hover{cursor:pointer}.home-view[_ngcontent-%COMP%]   #suggestion-dropdown[_ngcontent-%COMP%]   .keyword[_ngcontent-%COMP%]{color:unset;cursor:pointer}.home-view[_ngcontent-%COMP%]   #suggestion-dropdown[_ngcontent-%COMP%]   .keyword[_ngcontent-%COMP%]:hover{color:#0078d4}']],data:{}});function kP(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"li",[["class","list-group-item list-group-item-action d-flex align-items-center border-0 rounded"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onLibraryGroupFacetClick(n,e.context.$implicit)&&i),i}),null,null)),(e()(),Dl(1,0,null,null,1,"span",[["class","d-inline-block text-truncate"],["test-id","library-group-name"]],[[8,"title",0]],null,null,null,null)),(e()(),Wl(2,null,["",""]))],null,(function(e,t){e(t,0,0,fi(1,"library-facet-",t.context.$implicit.name,"")),e(t,1,0,fi(1,"",t.context.$implicit.name,"")),e(t,2,0,t.context.$implicit.name)}))}function TP(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"img",[["class","rounded-circle d-flex justify-content-center align-items-center"],["height","36"],["width","36"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,0,0,fi(1,"",t.component.profileImageSrc,""))}))}function MP(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","rounded-circle bg-light text-primary d-flex justify-content-center align-items-center"]],null,null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.userInitials)}))}function EP(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"span",[["class","null-profile-icon rounded-circle w-100 h-100 bg-light text-primary d-flex justify-content-center align-items-center"]],null,null,null,null,null))],null,null)}function PP(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"li",[["class","dropdown-item p-0"]],[[8,"tabIndex",0],[1,"test-id",0]],null,null,null,null)),(e()(),Dl(1,0,null,null,1,"span",[["class","dropdown-item-text py-1"]],[[8,"innerHTML",1]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onSuggestionClick(e.context.$implicit)&&i),i}),null,null)),Bl(2,2)],null,(function(e,t){var n=t.component;e(t,0,0,0,"suggestion-item-"+t.context.index);var i=Un(t,1,0,e(t,2,0,Vi(t.parent,0),t.context.$implicit,n.searchValue));e(t,1,0,i)}))}function OP(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","keyword badge badge-light text-capitalize font-weight-normal border py-1 px-2 mt-2 mr-1"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onRelatedKeywordClick(r.exactMatchKeyword,!0)&&i),i}),null,null)),(e()(),Wl(1,null,[" "," "]))],null,(function(e,t){var n=t.component;e(t,0,0,"suggestion-kw-0"),e(t,1,0,n.exactMatchKeyword)}))}function DP(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","keyword badge badge-light text-capitalize font-weight-normal border py-1 px-2 mt-2 mr-1"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onRelatedKeywordClick(e.context.$implicit)&&i),i}),null,null)),(e()(),Wl(1,null,[" "," "]))],null,(function(e,t){e(t,0,0,"suggestion-kw-"+(t.context.index+1)),e(t,1,0,t.context.$implicit)}))}function NP(e){return Xl(0,[(e()(),Dl(0,0,null,null,6,"section",[["class","keyword-list mt-4 mb-2 px-4"],["test-id","keyword-list"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"h6",[["class","text-muted font-weight-normal mt-2 small"],["test-id","keyword-list-heading"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Related keywords"])),(e()(),Ol(16777216,null,null,1,null,OP)),Yi(4,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,DP)),Yi(6,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.keywords&&n.keywords.length>0),e(t,6,0,n.relatedKeywords)}),null)}function RP(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"a",[["class","collection text-capitalize font-weight-normal text-primary py-1 px-0 mt-2"]],[[1,"test-id",0],[8,"innerHTML",1]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onFontCollectionClick(e.context.$implicit)&&i),i}),null,null))],null,(function(e,t){var n=t.component,i="suggestion-font-"+t.context.index,r=t.context.$implicit.collectionName.replace(" Assets","")+(t.context.index===n.suggestedCollections.length-1?"":"<span class='text-secondary'>, </span>");e(t,0,0,i,r)}))}function AP(e){return Xl(0,[(e()(),Dl(0,0,null,null,7,"section",[["class","collection-list mt-0 mb-2 px-4"],["test-id","collection-list"]],null,null,null,null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(2,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(3,{"mt-4":0}),(e()(),Dl(4,0,null,null,1,"h6",[["class","text-muted font-weight-normal mt-2 small"],["test-id","collection-list-heading"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Fonts"])),(e()(),Ol(16777216,null,null,1,null,RP)),Yi(7,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component,i=e(t,3,0,n.relatedKeywords&&n.relatedKeywords.length>0||n.suggestions&&n.suggestions.length>0);e(t,2,0,"collection-list mt-0 mb-2 px-4",i),e(t,7,0,n.suggestedCollections)}),null)}function LP(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","badge badge-light text-capitalize font-weight-normal border py-1 px-2 mt-2 mr-1 keyword"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onPopularSearchClick(e.context.$implicit)&&i),i}),null,null)),(e()(),Wl(1,null,[" "," "]))],null,(function(e,t){e(t,0,0,"popular-search-"+t.context.index),e(t,1,0,t.context.$implicit)}))}function FP(e){return Xl(0,[Ji(0,mM,[]),Fl(671088640,1,{clearSearchButton:0}),Fl(671088640,2,{searchElement:0}),Fl(671088640,3,{searchButton:0}),(e()(),Dl(4,0,null,null,166,"section",[["class","home-view"]],null,null,null,null,null)),(e()(),Dl(5,0,null,null,123,"section",[["class","top-section"]],null,null,null,null,null)),(e()(),Dl(6,0,null,null,57,"nav",[["class","navbar navbar-expand-sm"]],null,null,null,null,null)),Yi(7,16384,null,0,ZI,[],null,null),(e()(),Dl(8,0,null,null,55,"div",[["class","col-12 container d-flex flex-row justify-content-between"]],null,null,null,null,null)),(e()(),Dl(9,0,null,null,10,"section",[["class","libraries-btn-dropdown"]],null,null,null,null,null)),(e()(),Dl(10,0,null,null,1,"a",[["data-toggle","dropdown"],["test-id","icon-libraries"],["title","Icon Libraries"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.closeUserProfileDropdown()&&i),i}),null,null)),(e()(),Dl(11,0,null,null,0,"img",[["class","homemenu-icon"],["src","../../assets/library_menu.svg"]],null,null,null,null,null)),(e()(),Dl(12,0,null,null,7,"section",[["class","dropdown-menu border-0 shadow animate fadeIn p-3"]],null,null,null,null,null)),(e()(),Dl(13,0,null,null,0,"span",[["class","dropdown-caret"]],null,null,null,null,null)),(e()(),Dl(14,0,null,null,5,"ul",[["class","list-group"]],null,null,null,null,null)),(e()(),Dl(15,0,null,null,2,"li",[["attr.test-id","library-facet-home"],["class","list-group-item-primary list-group-item bg-primary list-group-item-action d-flex align-items-center border-0 rounded p-2 pl-3"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onLibraryGroupFacetClick(n,null)&&i),i}),null,null)),(e()(),Dl(16,0,null,null,1,"span",[["class","d-inline-block text-truncate text-white"],["test-id","library-group-name"],["title","Home"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Home"])),(e()(),Ol(16777216,null,null,1,null,kP)),Yi(19,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null),(e()(),Dl(20,0,null,null,43,"div",[["class","align-items-center d-flex"]],null,null,null,null,null)),(e()(),Dl(21,0,null,null,9,"div",[["class","icon-menu d-flex p-1"]],null,null,null,null,null)),(e()(),Dl(22,0,null,null,8,"section",[["class","notification-btn-dropdown"]],null,null,null,null,null)),(e()(),Dl(23,0,null,null,5,"a",[["class","notification-link rounded"],["data-toggle","dropdown"],["test-id","notifications"],["title","Notifications"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.closeUserProfileDropdown()&&i),i}),null,null)),(e()(),Dl(24,0,null,null,3,"span",[["class","badge badge-danger rounded"],["test-id","notification-badge"]],null,null,null,null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(26,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(27,{"d-block":0}),(e()(),Dl(28,0,null,null,0,"span",[["class","notifications"]],null,null,null,null,null)),(e()(),Dl(29,0,null,null,1,"notification-dropdown",[],null,null,null,AM,PM)),Yi(30,245760,null,0,EM,[Zd,r_,Hb,MM],null,null),(e()(),Dl(31,0,null,null,32,"div",[["class","user-menu d-flex p-1"]],null,null,null,null,null)),(e()(),Dl(32,0,null,null,31,"section",[["class","dropdown"]],null,null,null,null,null)),(e()(),Dl(33,0,null,null,2,"a",[["class","user-profile-link rounded-circle pr-0"],["data-toggle","dropdown"],["id","userprofile"],["test-id","userprofile"],["title","User Profile"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onUserProfileClick(n)&&i),i}),null,null)),(e()(),Dl(34,0,null,null,1,"span",[["class","profile-photo rounded-circle text-white d-flex align-items-center"]],null,null,null,null,null)),(e()(),Dl(35,0,null,null,0,"span",[["class","null-profile-icon rounded-circle w-100 h-100 bg-light text-primary d-flex justify-content-center align-items-center"]],null,null,null,null,null)),(e()(),Dl(36,0,null,null,27,"section",[["class","dropdown-menu dropdown-panel pt-3 pb-2 shadow border-light animate fadeIn show"]],null,[[null,"mouseleave"]],(function(e,t,n){var i=!0;return"mouseleave"===t&&(i=!1!==e.component.onUserProfileDropdownMouseleave()&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(38,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(39,{show:0}),(e()(),Dl(40,0,null,null,0,"span",[["class","dropdown-caret"]],null,null,null,null,null)),(e()(),Dl(41,0,null,null,12,"header",[["class","user-info d-flex w-100 px-3"]],null,null,null,null,null)),(e()(),Dl(42,0,null,null,6,"aside",[["class","photo rounded-circle profile-photo-sm text-white d-flex align-items-center"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,TP)),Yi(44,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,MP)),Yi(46,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,EP)),Yi(48,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(49,0,null,null,4,"section",[["class","align-items-center"]],null,null,null,null,null)),(e()(),Dl(50,0,null,null,1,"h6",[["class","ml-2 mb-0 text-nowrap"]],null,null,null,null,null)),(e()(),Wl(51,null,["",""])),(e()(),Dl(52,0,null,null,1,"span",[["class","mt-1 ml-2 text-nowrap text-small text-secondary"]],null,null,null,null,null)),(e()(),Wl(53,null,["",""])),(e()(),Dl(54,0,null,null,5,"section",[["class","mt-2"]],null,null,null,null,null)),(e()(),Dl(55,0,null,null,0,"div",[["class","dropdown-divider w-100 my-1"]],null,null,null,null,null)),(e()(),Dl(56,0,null,null,1,"a",[["class","dropdown-item w-100 px-3 py-1"],["href","https://iconcloudblog.azurewebsites.net/help/release-notes/"],["target","_blank"],["test-id","release-notes"]],null,null,null,null,null)),(e()(),Wl(57,null,["Release notes v",""])),(e()(),Dl(58,0,null,null,1,"a",[["class","dropdown-item w-100 px-3 py-1"],["href","https://iconcloudblog.azurewebsites.net/article/roadmap/"],["target","_blank"],["test-id","feature-roadmap"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Feature roadmap"])),(e()(),Dl(60,0,null,null,3,"footer",[],null,null,null,null,null)),(e()(),Dl(61,0,null,null,0,"div",[["class","dropdown-divider w-100 my-1"]],null,null,null,null,null)),(e()(),Dl(62,0,null,null,1,"a",[["class","dropdown-item w-100 px-3"],["test-id","sign-out"]],[[8,"href",4]],null,null,null,null)),(e()(),Wl(-1,null,["Sign out"])),(e()(),Dl(64,0,null,null,37,"section",[],null,null,null,null,null)),(e()(),Dl(65,0,null,null,1,"div",[["class","d-flex flex-row justify-content-center p-3"]],null,null,null,null,null)),(e()(),Dl(66,0,null,null,0,"img",[["src","../../assets/MS_IC_Logo_Black.svg"],["width","250"]],null,null,null,null,null)),(e()(),Dl(67,0,null,null,34,"div",[["class","d-flex flex-row justify-content-center p-3"]],null,null,null,null,null)),(e()(),Dl(68,0,null,null,33,"form",[["class","form-search"],["id","custom-search-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Vi(e,70).onSubmit(n)&&i),"reset"===t&&(i=!1!==Vi(e,70).onReset()&&i),i}),null,null)),Yi(69,16384,null,0,Ux,[],null,null),Yi(70,4210688,null,0,Nx,[[8,null],[8,null]],null,null),er(2048,null,X_,null,[Nx]),Yi(72,16384,null,0,nx,[[4,X_]],null,null),(e()(),Dl(73,0,null,null,28,"div",[],null,null,null,null,null)),(e()(),Dl(74,0,[[2,0],["search",1]],null,6,"input",[["aria-label","Search"],["autocomplete","off"],["class","d-block search-input pl-4 p-3 border-0 rounded shadow-sm w-100 ng-valid ng-touched ng-dirty"],["id","searchInput"],["test-id","searchInput"],["type","text"]],[[1,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keypress"],[null,"keyup"],[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,r=e.component;return"input"===t&&(i=!1!==Vi(e,75)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Vi(e,75).onTouched()&&i),"compositionstart"===t&&(i=!1!==Vi(e,75)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Vi(e,75)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(r.searchValue=n)&&i),"keypress"===t&&(i=!1!==r.onSearchInputKeyPress(n)&&i),"keyup"===t&&(i=!1!==r.onSearchInputKeyUp(n)&&i),"focus"===t&&(i=!1!==r.onSearchInputFocus()&&i),i}),null,null)),Yi(75,16384,null,0,Q_,[nn,Xt,[2,W_]],null,null),er(1024,null,K_,(function(e){return[e]}),[Q_]),Yi(77,671744,null,0,Vx,[[2,X_],[8,null],[8,null],[6,K_]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),ql(78,{standalone:0}),er(2048,null,J_,null,[Vx]),Yi(80,16384,null,0,tx,[[4,J_]],null,null),(e()(),Dl(81,0,[[1,0],["clearSearchButton",1]],null,4,"button",[["class","btn clear py-1 text-secondary"],["tabindex","-1"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onClearSearchButtonClick()&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(83,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(84,{"show animate fadeIn":0}),(e()(),Dl(85,0,null,null,0,"span",[["class","clear-icon"]],null,null,null,null,null)),(e()(),Dl(86,0,[[3,0],["searchButton",1]],null,1,"button",[["class","btn text-primary mt-2"],["tabindex","-1"],["type","submit"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onSearchButtonClick(n,Vi(e,74).value)&&i),i}),null,null)),(e()(),Dl(87,0,null,null,0,"span",[["class","search"]],null,null,null,null,null)),(e()(),Dl(88,0,null,null,13,"ul",[["aria-labelledby","search-dropdown"],["class","dropdown-menu box-shadow animate fadeIn m-0 py-2 border-primary border-top-0 rounded-bottom rounded-top-0"],["id","suggestion-dropdown"],["test-id","suggestion-dropdown"]],null,null,null,null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(90,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(91,{show:0}),(e()(),Dl(92,0,null,null,3,"li",[["class","dropdown-panel"]],null,null,null,null,null)),(e()(),Dl(93,0,null,null,2,"ul",[["class","suggestion-list p-0"],["test-id","suggestion-list"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,PP)),Yi(95,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null),(e()(),Dl(96,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,NP)),Yi(98,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(99,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,AP)),Yi(101,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(102,0,null,null,5,"section",[["class","justify-content-center popular-searches"]],null,null,null,null,null)),(e()(),Dl(103,0,null,null,4,"div",[["class","p-3 text-center"],["test-id","popular-searches"]],null,null,null,null,null)),(e()(),Dl(104,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Wl(-1,null,["Popular Searches: "])),(e()(),Ol(16777216,null,null,1,null,LP)),Yi(107,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null),(e()(),Dl(108,0,null,null,20,"section",[],null,null,null,null,null)),(e()(),Dl(109,0,null,null,19,"div",[["class","d-flex flex-row justify-content-center p-3"]],null,null,null,null,null)),(e()(),Dl(110,0,null,null,18,"div",[["class","d-flex p-2"]],null,null,null,null,null)),(e()(),Dl(111,0,null,null,8,"div",[["class","rounded shadow-sm align-items-center bg-white p-2"],["style","width: 438px"],["test-id","visual-search"]],null,null,null,null,null)),(e()(),Dl(112,0,null,null,7,"div",[["class","p-3"]],null,null,null,null,null)),(e()(),Dl(113,0,null,null,1,"h5",[["class","text-center"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Try Visual Search (Beta)"])),(e()(),Dl(115,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Search with a picture instead of text"])),(e()(),Dl(117,0,null,null,2,"div",[["style","border-radius: 10px; border: 2px dashed #ffd800;"]],null,null,null,null,null)),(e()(),Dl(118,0,null,null,1,"upload",[["buttonText","or browse file"],["displayText","Drag and Drop Icon File Here<br>SVG up to 1Mb size"]],null,[[null,"onFilesSubmitted"]],(function(e,t,n){var i=!0;return"onFilesSubmitted"===t&&(i=!1!==e.component.onFilesSubmitted(n)&&i),i}),aM,lM)),Yi(119,49152,null,0,rM,[Hb],{displayText:[0,"displayText"],buttonText:[1,"buttonText"],errorText:[2,"errorText"]},{onFilesSubmitted:"onFilesSubmitted"}),(e()(),Dl(120,0,null,null,0,"div",[["class","p-1"],["style","width: 56px"]],null,null,null,null,null)),(e()(),Dl(121,0,null,null,7,"div",[["class","rounded shadow-sm align-items-center bg-white d-flex flex-column p-2"],["style","width: 438px"],["test-id","use-figma"]],null,null,null,null,null)),(e()(),Dl(122,0,null,null,1,"h5",[["class","p-3"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Use Icons from IconCloud in Figma"])),(e()(),Dl(124,0,null,null,1,"div",[["class","p-3"]],null,null,null,null,null)),(e()(),Dl(125,0,null,null,0,"img",[["src","../../assets/Content Reel.png"],["style","height: 76px"]],null,null,null,null,null)),(e()(),Dl(126,0,null,null,2,"div",[["class","p-3"]],null,null,null,null,null)),(e()(),Dl(127,0,null,null,1,"a",[["href","https://contentreel.design/"],["style","font-size: 16px"],["target","_blank"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Install Content Reel Figma Plugin"])),(e()(),Dl(129,0,null,null,3,"section",[],null,null,null,null,null)),(e()(),Dl(130,0,null,null,2,"div",[["class","p-3"]],null,null,null,null,null)),(e()(),Dl(131,0,null,null,1,"featured-collections",[],null,null,null,RE,NE)),Yi(132,114688,null,0,DE,[Hb,i_,Gv],null,null),(e()(),Dl(133,0,null,null,3,"section",[],null,null,null,null,null)),(e()(),Dl(134,0,null,null,2,"div",[["class","p-3"]],null,null,null,null,null)),(e()(),Dl(135,0,null,null,1,"new-icons",[],null,null,null,QE,BE)),Yi(136,4308992,null,0,GE,[WS,i_,y_,Gv],null,null),(e()(),Dl(137,0,null,null,3,"section",[],null,null,null,null,null)),(e()(),Dl(138,0,null,null,2,"div",[["class","p-3"]],null,null,null,null,null)),(e()(),Dl(139,0,null,null,1,"collections-directory",[],null,null,null,mP,fP)),Yi(140,245760,null,0,pP,[Gv],{title:[0,"title"],appendPadding:[1,"appendPadding"]},null),(e()(),Dl(141,0,null,null,29,"section",[["class","bottom-section"]],null,null,null,null,null)),(e()(),Dl(142,0,null,null,28,"div",[["class","align-content-center container col-12 d-flex flex-row justify-content-between"]],null,null,null,null,null)),(e()(),Dl(143,0,null,null,3,"div",[["class","align-items-center d-flex flex-row justify-content-start pl-lg-3"]],null,null,null,null,null)),(e()(),Dl(144,0,null,null,2,"div",[["class","icon-menu d-flex p-3"]],null,null,null,null,null)),(e()(),Dl(145,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Wl(-1,null,["\xa9 Microsoft 2022 | WXC Design Tools | Internal Only"])),(e()(),Dl(147,0,null,null,23,"div",[["class","d-flex flex-row justify-content-end pr-lg-3"]],null,null,null,null,null)),(e()(),Dl(148,0,null,null,2,"div",[["class","d-flex p-3"]],null,null,null,null,null)),(e()(),Dl(149,0,null,null,1,"a",[["href","https://iconcloudblog.azurewebsites.net/help/release-notes/"],["target","_blank"],["test-id","footer-release-notes"],["title","Release Notes"]],null,null,null,null,null)),(e()(),Wl(150,null,["Release Notes v",""])),(e()(),Dl(151,0,null,null,1,"div",[["class","d-flex p-3"]],null,null,null,null,null)),(e()(),Wl(-1,null,["|"])),(e()(),Dl(153,0,null,null,2,"div",[["class","d-flex p-3"]],null,null,null,null,null)),(e()(),Dl(154,0,null,null,1,"a",[["href","https://iconcloudblog.azurewebsites.net/"],["target","_blank"],["test-id","footer-help-site"],["title","Help Site"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Help Site"])),(e()(),Dl(156,0,null,null,1,"div",[["class","d-flex p-3"]],null,null,null,null,null)),(e()(),Wl(-1,null,["|"])),(e()(),Dl(158,0,null,null,2,"div",[["class","d-flex p-3"]],null,null,null,null,null)),(e()(),Dl(159,0,null,null,1,"a",[["href","#"],["test-id","footer-send-feedback"],["title","Send Feedback"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onSubmitFeedbackClick()&&i),i}),null,null)),(e()(),Wl(-1,null,["Send Feedback"])),(e()(),Dl(161,0,null,null,1,"div",[["class","d-flex p-3"]],null,null,null,null,null)),(e()(),Wl(-1,null,["|"])),(e()(),Dl(163,0,null,null,2,"div",[["class","d-flex p-3"]],null,null,null,null,null)),(e()(),Dl(164,0,null,null,1,"a",[["href","https://iconcloudblog.azurewebsites.net/article/roadmap/"],["target","_blank"],["test-id","footer-feature-roadmap"],["title","Feature Roadmap"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Feature Roadmap"])),(e()(),Dl(166,0,null,null,1,"div",[["class","d-flex p-3"]],null,null,null,null,null)),(e()(),Wl(-1,null,["|"])),(e()(),Dl(168,0,null,null,2,"div",[["class","d-flex p-3"]],null,null,null,null,null)),(e()(),Dl(169,0,null,null,1,"a",[["test-id","footer-sign-out"],["title","Sign Out"]],[[8,"href",4]],null,null,null,null)),(e()(),Wl(-1,null,["Sign Out"]))],(function(e,t){var n=t.component;e(t,19,0,n.libraryGroupFacets);var i=e(t,27,0,n.unreadNotificationCount>0);e(t,26,0,"badge badge-danger rounded",i),e(t,30,0);var r=e(t,39,0,n.openUserProfileDropdown);e(t,38,0,"dropdown-menu dropdown-panel pt-3 pb-2 shadow border-light animate fadeIn show",r),e(t,44,0,n.userProfile&&n.userProfile.userPhoto),e(t,46,0,n.userProfile&&null===n.userProfile.userPhoto),e(t,48,0,null===n.userProfile);var l=n.searchValue,s=e(t,78,0,!0);e(t,77,0,l,s);var o=e(t,84,0,n.searchValue.length>0);e(t,83,0,"btn clear py-1 text-secondary",o);var a=e(t,91,0,n.openSuggestionBox&&(n.suggestions&&n.suggestions.length>0||n.relatedKeywords&&n.relatedKeywords.length>0||n.suggestedCollections&&n.suggestedCollections.length>0));e(t,90,0,"dropdown-menu box-shadow animate fadeIn m-0 py-2 border-primary border-top-0 rounded-bottom rounded-top-0",a),e(t,95,0,n.suggestions),e(t,98,0,n.relatedKeywords&&n.relatedKeywords.length>0),e(t,101,0,n.suggestedCollections&&n.suggestedCollections.length>0),e(t,107,0,n.popularSearches),e(t,119,0,"Drag and Drop Icon File Here<br>SVG up to 1Mb size","or browse file",fi(1,"",n.visualSearchErrorText,"")),e(t,132,0),e(t,136,0),e(t,140,0,"Library Directory",!1)}),(function(e,t){var n=t.component;e(t,51,0,n.userDisplayName),e(t,53,0,""==n.userDisplayTitle?n.userDisplayEmail:n.userDisplayTitle),e(t,57,0,n.buildInfo),e(t,62,0,fi(1,"",n.userSignoutUrl,"")),e(t,68,0,Vi(t,72).ngClassUntouched,Vi(t,72).ngClassTouched,Vi(t,72).ngClassPristine,Vi(t,72).ngClassDirty,Vi(t,72).ngClassValid,Vi(t,72).ngClassInvalid,Vi(t,72).ngClassPending),e(t,74,0,n.placeholderText,Vi(t,80).ngClassUntouched,Vi(t,80).ngClassTouched,Vi(t,80).ngClassPristine,Vi(t,80).ngClassDirty,Vi(t,80).ngClassValid,Vi(t,80).ngClassInvalid,Vi(t,80).ngClassPending),e(t,150,0,n.buildInfo),e(t,169,0,fi(1,"",n.userSignoutUrl,""))}))}function $P(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"home-view",[],null,[["document","click"]],(function(e,t,n){var i=!0;return"document:click"===t&&(i=!1!==Vi(e,1).onDocumentClicked(n)&&i),i}),FP,IP)),Yi(1,245760,null,0,xP,[Hb,WS,i_,ck,r_,Zd,d_,Gv,w_],null,null)],(function(e,t){e(t,1,0)}),null)}var VP=Mi("home-view",xP,$P,{},{},[]);class UP{constructor(e){this.iconApiService=e,this.libraryName="",this.isMasterCollection=!1,this.isLoaded=!1,this.showVersionTimeStamp=!1}ngOnInit(){this.masterCollectionMetadata=new vw("","",[],"","","",0,"",[],0,"",""),this.collectionMetadata=new vw("","",[],"","","",0,"",[],0,"",""),this.libraryData=new Hw([],null,[],[],"","","","",0,0,"",!1,"","","",0,[],[],[],0,null,null,null,"",""),this.collectionMetadata$&&this.collectionMetadata$.subscribe(e=>{e.libraryName.length>0&&this.iconApiService.getLibraryDataByName(e.libraryName).subscribe(t=>{if(this.libraryData=t,this.isMasterCollection=e.libraryName.toLowerCase()===e.name.toLowerCase(),this.isMasterCollection)this.libraryName=this.libraryData.name,this.masterCollectionMetadata=e;else{let t=null;this.libraryData.collectionNames.forEach(e=>{this.libraryData.name.toLowerCase()===e.toLowerCase()&&(t=e)}),null!==t?(this.libraryName=t,this.masterCollectionMetadata.name!==this.libraryName&&this.iconApiService.getCollectionMetaData(e.libraryName,t).subscribe(e=>{this.masterCollectionMetadata=e})):(this.libraryName=e.libraryName,this.masterCollectionMetadata=e),this.collectionMetadata=e}this.collectionType=e.iconType,this.evaluateShowVersionTimeStamp(),this.isLoaded=!0})})}evaluateShowVersionTimeStamp(){this.showVersionTimeStamp=null!=this.libraryData.version&&void 0!==this.libraryData.version}getIconType(){return"Svg"===this.collectionType?this.collectionType.toLocaleUpperCase():this.collectionType}getIconCount(){let e;return e=this.isMasterCollection?this.masterCollectionMetadata.iconCount:this.collectionMetadata.iconCount,e}getVersionTimeStamp(){let e="";return e=this.isMasterCollection?null!==this.masterCollectionMetadata.modifiedOn&&null!=this.masterCollectionMetadata.modifiedOn?", "+this.masterCollectionMetadata.modifiedOn:"":null!==this.collectionMetadata.modifiedOn&&null!=this.collectionMetadata.modifiedOn?", "+this.collectionMetadata.modifiedOn:"",`v${this.libraryData.version}${e}`}}var jP=jn({encapsulation:0,styles:[[".separator[_ngcontent-%COMP%]{height:4px;width:4px;border-radius:50%;background:#c4c4c4}"]],data:{}});function zP(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"span",[["class","separator mx-2"]],null,null,null,null,null))],null,null)}function GP(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","small text-secondary font-weight-normal"],["test-id","collectionSummary_versionTimeStamp"]],null,null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.getVersionTimeStamp())}))}function BP(e){return Xl(0,[(e()(),Dl(0,0,null,null,9,"section",[["class","collection-summary d-flex pb-2 mb-3 align-items-center"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"span",[["class","small text-secondary font-weight-normal"],["test-id","collectionSummary_type"]],null,null,null,null,null)),(e()(),Wl(2,null,["",""])),(e()(),Dl(3,0,null,null,0,"span",[["class","separator mx-2"]],null,null,null,null,null)),(e()(),Dl(4,0,null,null,1,"span",[["class","small text-secondary font-weight-normal"],["test-id","collectionSummary_iconcount"]],null,null,null,null,null)),(e()(),Wl(5,null,[""," Icons"])),(e()(),Ol(16777216,null,null,1,null,zP)),Yi(7,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,GP)),Yi(9,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,7,0,n.showVersionTimeStamp),e(t,9,0,n.showVersionTimeStamp)}),(function(e,t){var n=t.component;e(t,2,0,n.getIconType()),e(t,5,0,n.getIconCount())}))}function HP(e){return Xl(0,[(e()(),Ol(16777216,null,null,1,null,BP)),Yi(1,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.isLoaded)}),null)}class qP{constructor(e,t,n){this.transformedGlyphsService=e,this.sanitizer=t,this.svgElementRef=n,this.isHover=!1,this.iconFontSizePx="32px",this.viewScale=Lw.default,this.selectedViewScaleSubscription=new h,this.onIconSelected=()=>{this.icon.isSelected=!this.icon.isSelected},this.onToggleHoverState=()=>{this.isHover=!this.isHover},this.onTooltipOpen=e=>{this.openTooltipDelay=setTimeout(()=>{e.open()},400)},this.onTooltipClose=e=>{e.close(),clearInterval(this.openTooltipDelay)}}safeInternalKey(e){return ZS(e)}isGlyph(e){return XS(e)}isSvg(e){return YS(e)}isPng(e){return JS(e)}isExtendedUnicode(e){return t_(e)}fixUpSvgXml(e){const t=(new DOMParser).parseFromString(e,"text/xml");return t.documentElement.removeAttribute("width"),t.documentElement.removeAttribute("height"),(new XMLSerializer).serializeToString(t.documentElement)}ngOnInit(){this.selectedViewScale$?this.selectedViewScaleSubscription=this.selectedViewScale$.subscribe(e=>{this.viewScale=e}):this.viewScale=Lw.default,this.selectedIcon$.subscribe(e=>{this.icon.isSelected=!!e_(this.icon,e)}),this.icon&&(this.htmlContent=this.icon.svgXml?this.sanitizer.bypassSecurityTrustHtml(this.fixUpSvgXml(this.icon.svgXml)):this.icon.pngBase64Data?this.sanitizer.bypassSecurityTrustHtml('<img style="width:32px" src="data:image/png;base64, '+this.icon.pngBase64Data+'"/>'):"")}ngAfterViewInit(){const e=this.svgElementRef.nativeElement.querySelector("svg title");e&&e.innerHTML&&(e.innerHTML="")}ngOnDestroy(){this.selectedViewScaleSubscription.unsubscribe()}}var KP=jn({encapsulation:0,styles:[['.card[_ngcontent-%COMP%]{margin:5px 10px 5px 0}.card[_ngcontent-%COMP%]   .isHover[_ngcontent-%COMP%]{cursor:pointer}.card[_ngcontent-%COMP%]:before{height:100%;width:100%;display:block;flex:unset;border-width:0;background-color:rgba(128,128,128,.01);content:"";position:absolute;top:auto;left:auto}.card.loaded[_ngcontent-%COMP%]:before{position:relative;transform-origin:center center 0;transform:scale(0)}.card.loaded[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{font-size:32px;transition:font-size .1s ease-in-out,transform 1s ease-in-out}.card[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{font-size:32px;transform-origin:center center 0}.card[_ngcontent-%COMP%]   .card-item[_ngcontent-%COMP%]{width:103px;height:103px;overflow:hidden;border:2px solid transparent;background-color:rgba(128,128,128,.05);transform:scale(1)}.card[_ngcontent-%COMP%]   .card-item[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{font-size:0;overflow:hidden;transform:scale(1)}.card[_ngcontent-%COMP%]   .card-item.scale-xsmall[_ngcontent-%COMP%]{width:43px;height:43px;transform:scale(1);transition:transform 250ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item.scale-xsmall[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{transform:scale(.5);margin-top:-5px;transition:transform 250ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item.scale-xsmall[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{display:none!important}.card[_ngcontent-%COMP%]   .card-item.scale-xsmall.card-body[_ngcontent-%COMP%]{padding:0!important}.card[_ngcontent-%COMP%]   .card-item.scale-small[_ngcontent-%COMP%]{width:95px;height:95px;transform:scale(1);transition:transform 250ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item.scale-small[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{transform:scale(.8);transition:transform 250ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item.scale-default[_ngcontent-%COMP%]{width:103px;height:103px;transform:scale(1);transition:transform 250ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item.scale-default[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{transform:scale(1);transition:transform 250ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item.scale-large[_ngcontent-%COMP%]{width:123px;height:123px;transform:scale(1);transition:transform 250ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item.scale-large[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{transform:scale(1.5);transition:transform 250ms ease-in-out;margin-top:5px}.card[_ngcontent-%COMP%]   .card-item.scale-large[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{margin-top:15px}.card[_ngcontent-%COMP%]   .card-item.scale-xlarge[_ngcontent-%COMP%]{width:140px;height:140px;transform:scale(1);transition:transform 250ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item.scale-xlarge[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{transform:scale(2);transition:transform 250ms ease-in-out;margin-top:17px}.card[_ngcontent-%COMP%]   .card-item.scale-xlarge[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{margin-top:20px}.card[_ngcontent-%COMP%]   .card-item.border-primary[_ngcontent-%COMP%]{border:2px solid}.card[_ngcontent-%COMP%]   .card-item.ghost[_ngcontent-%COMP%]{border:2px solid #f9f9f9;background-color:#fff}.card[_ngcontent-%COMP%]   .card-item.ghost[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{font-size:0;height:32px;width:32px;background-color:#f9f9f9;margin:8px auto 0;color:#f9f9f9}.card[_ngcontent-%COMP%]   .card-item.ghost[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:0}.card[_ngcontent-%COMP%]   .card-item.ghost[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:0;height:12px;width:60px;margin:12px auto 0;background-color:#f9f9f9}.card[_ngcontent-%COMP%]   .card-item.ghost.scale-xsmall[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{margin:4px auto 0}.card[_ngcontent-%COMP%]   .card-item.ghost.scale-large[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{margin:10px auto 0}.card[_ngcontent-%COMP%]   .card-item.ghost.scale-large[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{margin:30px auto 0;width:70px}.card[_ngcontent-%COMP%]   .card-item.ghost.scale-xlarge[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{margin:24px auto 0}.card[_ngcontent-%COMP%]   .card-item.ghost.scale-xlarge[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{margin:32px auto 0;width:80px}.card[_ngcontent-%COMP%]   .card-item[_ngcontent-%COMP%]:not(.ghost){transition:all 150ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item[_ngcontent-%COMP%]:not(.ghost)   .card-text[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-item[_ngcontent-%COMP%]:not(.ghost)   .glyph[_ngcontent-%COMP%]{transition:width 150ms ease-in-out,height 150ms ease-in-out,transform 150ms ease-in-out,background-color 150ms ease-in-out,color 150ms ease-in-out}.card[_ngcontent-%COMP%]   .card-item[_ngcontent-%COMP%]:not(.ghost)   .glyph[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1;transition:opacity 50ms ease-in-out}']],data:{}});function WP(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"div",[["class","text-center"]],null,null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){var n=t.component;e(t,1,0,n.icon?n.icon.unicodeValue:"")}))}function QP(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"div",[["class","text-center card-item-text text-capitalize"]],null,null,null,null,null)),(e()(),Wl(2,null,["",""])),(e()(),Ol(16777216,null,null,1,null,WP)),Yi(4,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.isGlyph(n.icon))}),(function(e,t){var n=t.component;e(t,2,0,n.icon?n.icon.friendlyName:"")}))}function ZP(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"div",[["class","glyph text-center"]],null,null,null,null,null)),er(512,null,ba,va,[Xt,bn,nn]),Yi(2,278528,null,0,Ca,[ba],{ngStyle:[0,"ngStyle"]},null),ql(3,{"font-size":0}),(e()(),Wl(4,null,["",""]))],(function(e,t){var n=e(t,3,0,t.component.iconFontSizePx);e(t,2,0,n)}),(function(e,t){var n=t.component;e(t,4,0,n.icon?n.icon.transformedGlyph?n.icon.transformedGlyph:n.icon.glyph:"")}))}function XP(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"div",[["class","glyph align-middle text-center d-block py-2"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"div",[["class","d-inline-block"],["id","svg-icon"]],null,null,null,null,null)),(e()(),Dl(2,0,null,null,0,":svg:svg",[],[[8,"innerHTML",1],[4,"width",null],[4,"height",null]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,2,0,n.htmlContent,n.iconFontSizePx,n.iconFontSizePx)}))}function YP(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"div",[["class","glyph align-middle text-center d-block py-2"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"div",[["class","d-inline-block"],["id","png-icon"]],null,null,null,null,null)),(e()(),Dl(2,0,null,null,0,"div",[],[[8,"innerHTML",1],[4,"width",null],[4,"height",null]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,2,0,n.htmlContent,n.iconFontSizePx,n.iconFontSizePx)}))}function JP(e){return Xl(0,[(e()(),Dl(0,0,null,null,18,"div",[["class","card border-0"]],[[1,"index",0],[8,"id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onIconSelected()&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(2,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(3,{loaded:0}),(e()(),Ol(0,[["cardTooltipContent",2]],null,0,null,QP)),(e()(),Dl(5,16777216,null,null,13,"div",[["class","card-body card-item rounded px-1"],["test-id","view-scale-element"],["triggers","manual"]],[[1,"test-view-scale",0]],[[null,"mouseenter"],[null,"mouseleave"]],(function(e,t,n){var i=!0,r=e.component;return"mouseenter"===t&&(r.onToggleHoverState(),i=!1!==r.onTooltipOpen(Vi(e,9))&&i),"mouseleave"===t&&(r.onToggleHoverState(),i=!1!==r.onTooltipClose(Vi(e,9))&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(7,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(8,{ghost:0,"border-primary":1,"shadow-sm":2,"bg-white":3,"border-light":4,isHover:5,"scale-xsmall":6,"scale-small":7,"scale-default":8,"scale-large":9,"scale-xlarge":10}),Yi(9,737280,[["tooltip",4]],0,Pk,[Xt,nn,xt,Kt,xn,Tk,Wr,Oa,wt,dl],{placement:[0,"placement"],triggers:[1,"triggers"],ngbTooltip:[2,"ngbTooltip"]},null),Hl(10,2),(e()(),Ol(16777216,null,null,1,null,ZP)),Yi(12,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,XP)),Yi(14,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,YP)),Yi(16,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(17,0,null,null,1,"p",[["class","card-text card-item-text d-block text-center text-truncate small text-capitalize"],["test-id","card-friendlyname"]],null,null,null,null,null)),(e()(),Wl(18,null,["",""]))],(function(e,t){var n=t.component,i=e(t,3,0,n.iconReady);e(t,2,0,"card border-0",i);var r=e(t,8,1,[!0===n.canShowGhostIcon&&!1===n.fontLoaded,n.icon&&n.icon.isSelected,n.isHover||n.icon&&n.icon.isSelected,n.isHover||n.icon&&n.icon.isSelected,n.isHover&&n.icon&&!n.icon.isSelected,n.isHover,0===n.viewScale,1===n.viewScale,2===n.viewScale,3===n.viewScale,4===n.viewScale]);e(t,7,0,"card-body card-item rounded px-1",r);var l=e(t,10,0,"bottom","top");e(t,9,0,l,"manual",Vi(t,4)),e(t,12,0,n.icon&&n.isGlyph(n.icon)),e(t,14,0,n.icon&&n.isSvg(n.icon)),e(t,16,0,n.icon&&n.isPng(n.icon))}),(function(e,t){var n=t.component;e(t,0,0,n.index,fi(1,"iconCard.",n.safeInternalKey(n.icon),"")),e(t,5,0,n.viewScale),e(t,18,0,n.icon?n.icon.friendlyName:"")}))}class eO{constructor(e,t){this.period=e,this.scheduler=t}call(e,t){return t.subscribe(new tO(e,this.period,this.scheduler))}}class tO extends f{constructor(e,t,n){super(e),this.period=t,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(nO,t,{subscriber:this,period:t}))}_next(e){this.lastValue=e,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function nO(e){let{subscriber:t,period:n}=e;t.notifyNext(),this.schedule(e,n)}function iO(e,t,n,i){const r=window&&!!window.document&&window.document.documentElement;let l=r&&t?window:n;if(e&&(l=e&&r&&"string"==typeof e?function(e,t,n){return(n?window.document:t).querySelector(e)}(e,n.nativeElement,i):e,!l))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return l}function rO(e){return e&&!e.firstChange}const lO={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},sO={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class oO{constructor(e=!0){this.vertical=e,this.propsMap=e?lO:sO}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function aO(e){return["Window","global"].some(t=>Object.prototype.toString.call(e).includes(t))}function cO(e,t){return e?t.document.documentElement:null}function uO(e,t){const n=function({container:e,isWindow:t,axis:n}){const{offsetHeightKey:i,clientHeightKey:r}=hO(n);return dO(e,t,i,r)}(t);return t.isWindow?function(e,t,n){const{axis:i,container:r,isWindow:l}=n,{offsetHeightKey:s,clientHeightKey:o}=hO(i),a=e+pO(cO(l,r),i,l),c=dO(t.nativeElement,l,s,o);return{height:e,scrolled:a,totalToScroll:function(e,t,n){const i=t.topKey();if(e.getBoundingClientRect)return e.getBoundingClientRect()[i]+pO(e,t,n)}(t.nativeElement,i,l)+c,isWindow:l}}(n,e,t):function(e,t,n){const{axis:i,container:r}=n;return{height:e,scrolled:r[i.scrollTopKey()],totalToScroll:r[i.scrollHeightKey()],isWindow:!1}}(n,0,t)}function hO(e){return{offsetHeightKey:e.offsetHeightKey(),clientHeightKey:e.clientHeightKey()}}function dO(e,t,n,i){if(isNaN(e[n])){const n=cO(t,e);return n?n[i]:0}return e[n]}function pO(e,t,n){const i=t.pageYOffsetKey(),r=t.scrollTopKey(),l=t.offsetTopKey();return isNaN(window[i])?cO(n,e)[r]:e.ownerDocument?e.ownerDocument.defaultView[i]:e[l]}function fO(e,t,n){let i,r;if(e.totalToScroll<=0)return!1;const l=e.isWindow?e.scrolled:e.height+e.scrolled;return n?(i=(e.totalToScroll-l)/e.totalToScroll,r=t.down/10):(i=e.scrolled/(e.scrolled+(e.totalToScroll-l)),r=t.up/10),i<=r}class gO{constructor({totalToScroll:e}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=e}updateScrollPosition(e){return this.lastScrollPosition=e}updateTotalToScroll(e){this.lastTotalToScroll!==e&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=e)}updateScroll(e,t){this.updateScrollPosition(e),this.updateTotalToScroll(t)}updateTriggeredFlag(e,t){t?this.triggered.down=e:this.triggered.up=e}isTriggeredScroll(e,t){return t?this.triggered.down===e:this.triggered.up===e}}function mO(e){const{scrollDown:t,stats:{scrolled:n}}=e;return{type:t?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:n}}}class yO{constructor(e,t){this.element=e,this.zone=t,this.scrolled=new Cr,this.scrolledUp=new Cr,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:e,infiniteScrollDisabled:t,infiniteScrollDistance:n}){const i=rO(e),r=rO(t),l=rO(n),s=!r&&!this.infiniteScrollDisabled||r&&!t.currentValue||l;(i||r||l)&&(this.destroyScroller(),s&&this.setup())}setup(){"undefined"!=typeof window&&this.zone.runOutsideAngular(()=>{this.disposeScroller=function(e){const{scrollContainer:t,scrollWindow:n,element:i,fromRoot:r}=e,l=function({windowElement:e,axis:t}){return function(e,t){return Object.assign({},e,{container:e.isWindow||t&&!t.nativeElement?t:t.nativeElement})}({axis:t,isWindow:aO(e)},e)}({axis:new oO(!e.horizontal),windowElement:iO(t,n,i,r)}),s=new gO({totalToScroll:uO(i,l)}),o={up:e.upDistance,down:e.downDistance};return function(e){let t=qx(e.container,"scroll");return e.throttle&&(t=t.pipe(function(e,t=Gx){return n=>n.lift(new eO(e,t))}(e.throttle))),t}({container:l.container,throttle:e.throttle}).pipe(z(()=>Ra(uO(i,l))),F(e=>function(e,t,n){const{scrollDown:i,fire:r}=function(e,t,n){const i=function(e,t){return e<t.scrolled}(e,t);return{fire:fO(t,n,i),scrollDown:i}}(e,t,n);return{scrollDown:i,fire:r,stats:t}}(s.lastScrollPosition,e,o)),Cc(({stats:e})=>s.updateScroll(e.scrolled,e.totalToScroll)),Ga(({fire:t,scrollDown:n,stats:{totalToScroll:i}})=>function(e,t,n){return!(!e||!t)||!(n||!t)}(e.alwaysCallback,t,s.isTriggeredScroll(i,n))),Cc(({scrollDown:e,stats:{totalToScroll:t}})=>{s.updateTriggeredFlag(t,e)}),F(mO))}({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(e=>this.zone.run(()=>this.handleOnScroll(e)))})}handleOnScroll({type:e,payload:t}){switch(e){case"[NGX_ISE] DOWN":return this.scrolled.emit(t);case"[NGX_ISE] UP":return this.scrolledUp.emit(t);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}class bO{}class vO{constructor(e,t){this.inlineViewerContainer=e,this.store=t,this.selectedIconGridIndex=-1,this.viewContext=qw.browse,this.onWeightedWordEmitToParentContainer=e=>{oS(this.store,e),sS(this.store,""),aS(this.store,""),cS(this.store,""),EE(this.store,"search")},this.onCloseViewerClick=()=>{this.selectedIcon&&(this.selectedIcon.isSelected=!1),this.parentComponentRef.onIconSelected(null,this.selectedIcon,this.selectedIconGridIndex)},this.updateWidths=(e,t)=>{this.contentWidth=t;let n=this.inlineViewerContainer.nativeElement.querySelector("li");if(n){let t=n.getAttribute("style");n.setAttribute("style",`${t?t+";":""}width:${e}px`)}let i=this.inlineViewerContainer.nativeElement.querySelector("section.icon-viewer-content-container");i&&i.setAttribute("style",`width:${t}px`)}}}var wO=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Down=2]="Down",e[e.Up=3]="Up",e[e.Home=4]="Home",e[e.End=5]="End",e}({});const CO={35:wO.End,36:wO.Home,37:wO.Left,38:wO.Up,39:wO.Right,40:wO.Down};class SO{constructor(e,t,n,i,r,l,s,o,a,c,u,d,p,f,g,m,y,b,v,w){this.store=e,this.cdref=t,this.clipboardService=n,this.toastService=i,this.iconApiService=r,this.searchApiService=l,this.searchFilterService=s,this.scrollToService=o,this.styleLoaderService=a,this.libraryMetadataService=c,this.downloadApiService=u,this.appInsightsService=d,this.componentFactoryResolver=p,this.gridContainerElementRef=f,this.sendFeedbackService=g,this.sortFilterService=m,this.transformedGlyphsService=y,this.lastIconInSelectionRowElementRef=b,this.injector=v,this.appRef=w,this.isDynamic=!0,this.iconsReady=!1,this.showHeading=!0,this.showMetadata=!1,this.canScrollGrid=!0,this.canShowGhostIcon=!1,this.onIconSelection=new Cr,this.fontLoaded=!1,this.localLibraryName="",this.localCollectionName="",this.pageIndex=0,this.viewportWidth=document.body.clientWidth?document.body.clientWidth:window.innerWidth,this.insertionIndex=-1,this.gridContainerWidth=document.body.clientWidth?document.body.clientWidth:window.innerWidth,this.isIconViewerShowing=!1,this.selectedFontSubscription=new h,this.libraryMetaDataSubscription=new h,this.selectedIconSubscription=new h,this.sortBySubscription=new h,this.viewScaleSubscription=new h,this.collectionChangeSubscription=new h,this.resizeWindowSubscription=new h,this.iconsSubscription=new h,this.collectionMetadataSubscription=new h,this.viewContextSubscription=new h,this.isFontFileLoadedSubscription=new h,this.containerClassNamePrefix="icon-grid",this.collectionMetadataLoaded=!1,this.onIconSelected=(e,t,n=-1)=>{this.onIconSelection.emit(t),n>-1&&(this.icons[n].isSelected=t.isSelected)},this.getIconsPerRow=e=>Math.floor(this.getGridWidth()/e),this.getGridWidth=()=>this.gridContainerElementRef&&this.gridContainerElementRef.nativeElement&&this.gridContainerElementRef.nativeElement.querySelector("ul.grid-container")?Math.floor(this.gridContainerElementRef.nativeElement.querySelector("ul.grid-container").clientWidth):this.gridContainerWidth,this.getSelectedIconIndexInGrid=e=>{let t=-1;return this.icons&&this.icons.length>0&&(t=this.icons.findIndex(t=>e_(t,e))),t},this.createIconViewerComponent=(e,t)=>{const n=this.getIconsPerRow(t);let i=n>0?e+(n-e%n)-1:-1;if(i>=this.icons.length&&(i=this.icons.length-1),i===this.insertionIndex&&this.isIconViewerShowing)this.updateIconViewerContent(e,t,n);else{this.removeIconViewerFromDom();const r=this.componentFactoryResolver.resolveComponentFactory(vO);this.iconViewerComponentRef=r.create(this.injector),this.updateIconViewerContent(e,t,n),this.appRef.attachView(this.iconViewerComponentRef.hostView),this.iconViewerDomElement=this.iconViewerComponentRef.hostView.rootNodes[0],this.insertIconViewerElement(i),this.insertionIndex=i,this.isIconViewerShowing=!0}},this.updateIconViewerContent=(e,t,n)=>{let i="";this.selectedCollection&&(i=this.selectedCollection.name),this.iconViewerComponentRef.instance.selectedIcon=this.selectedIcon,this.iconViewerComponentRef.instance.selectedIconGridIndex=e,this.iconViewerComponentRef.instance.contentWidth=n*t-10,this.iconViewerComponentRef.instance.updateWidths(this.gridContainerWidth,n*t-10),this.iconViewerComponentRef.instance.libraryName=this.libraryName,this.iconViewerComponentRef.instance.collectionName=i,this.iconViewerComponentRef.instance.viewContext=this.viewContext,this.iconViewerComponentRef.instance.parentComponentRef=this},this.insertIconViewerElement=e=>{setTimeout(()=>{const t=this.lastIconInSelectionRowElementRef.nativeElement.querySelector("#card-index-"+e);t&&t.parentNode&&(t.parentNode.insertBefore(this.iconViewerDomElement,t.nextSibling),this.scrollToService.scrollElementToTop(t))})},this.removeIconViewerFromDom=()=>{const e=document.getElementById("inline-icon-viewer");e&&e.remove(),this.iconViewerComponentRef&&this.iconViewerComponentRef.hostView&&(this.appRef.detachView(this.iconViewerComponentRef.hostView),this.iconViewerComponentRef.destroy()),this.insertionIndex=-1,this.isIconViewerShowing=!1},this.showInlineIconViewer=e=>{e>-1&&this.createIconViewerComponent(e,this.sortFilterService.getIconClientWidthByScale(this.viewScale))},this.onCopyGlyphKeydown=()=>{this.selectedIcon$.subscribe(e=>{e&&(null!=e.unicodeValue?this.copyGlyphToClipboard(e,"ctrl-c-shortcut","preview-icon-tab"):this.copySvgToClipboard(e,"preview-icon-tab",24))}).unsubscribe()},this.onArrowNavigation=e=>{if(this.selectedIcon){const t=this.getSelectedIconIndexInGrid(this.selectedIcon);let n=0;switch(e){case wO.Home:if(0===t)return;n=0;break;case wO.End:if(t===this.totalIconCount-1)return;return void this.scrollToEndAndSelectIcon();case wO.Left:if(0===t)return;n=t-1;break;case wO.Right:if(t===this.iconsInGrid.length-1)return;n=t+1;break;case wO.Up:{const e=this.sortFilterService.getIconClientWidthByScale(this.viewScale),i=this.getIconsPerRow(e);if(t>=0&&t<=i)return;n=t-i;break}case wO.Down:{const e=this.sortFilterService.getIconClientWidthByScale(this.viewScale),i=this.getIconsPerRow(e);let r=!1;const l=this.iconsInGrid.length%i;if(0===l){const e=this.iconsInGrid.length-1;r=t>=this.iconsInGrid.length-1-i&&t<=e}else{const e=this.iconsInGrid.length-1;r=t>=this.iconsInGrid.length-l&&t<=e}if(r)return;n=t+i,n>this.iconsInGrid.length-1&&(n=this.iconsInGrid.length-1);break}}console.log("updating selected icon via navigation keys"),this.updateSelectedIcons(this.icons[n]),this.onIconSelected(null,this.icons[n],n)}},this.onScrollDown=()=>{if(!this.canScrollGrid)return!1;const e=this.icons?this.icons.length:0;this.pageIndex+=1;var t=this.transformedGlyphsService.transformGlyphs(this.searchApiService.getPagedResults(this.pageIndex));return this.icons=this.icons.concat(t),(this.icons?this.icons.length:-1)>e},this.updateSelectedIcons=e=>{if(!e)return;const t=this.getSelectedIconIndexInGrid(e);var n;t>-1?(this.icons[t].isSelected=e.isSelected,JC(this.store,new xw((n=e=this.icons[t]).internalKey,n.glyph,n.unicodeValue,n.friendlyName,n.description,n.keywords,n.categories,n.metaphors,n.fonts,n.isSelected,n.isHidden,n.pngBase64Data,n.svgKey,n.svgXml,n.svgPath,n.size,n.iconGroup,n.libraryName,null)),e.isSelected&&this.showInlineIconViewer(t)):(this.isIconViewerShowing&&this.removeIconViewerFromDom(),setTimeout(()=>{if(this.icons&&this.canScrollGrid){const t=this.searchApiService.getFullResultsCount(this.localCollectionName);t>0&&this.icons.length<t&&this.onScrollDown()&&this.updateSelectedIcons(e)}}))},this.backfillIconGrid=()=>{if(this.viewContext!==qw.search&&(this.searchFilterService.recalcMaxItemsPerPage(this.viewScale),this.icons&&this.icons.length>0&&this.icons.length<this.searchFilterService.maxItemsToReturn)){const e=this.transformedGlyphsService.transformGlyphs(this.searchApiService.getPartialPageResults(this.localCollectionName,this.icons.length));this.icons=this.icons.concat(e)}},this.getSvgContent=e=>{const t=[ZS(e)];return this.downloadApiService.getIconFileContents(e.libraryName,t,".svg",24)},this.sendToast=(e,t="copied")=>{this.toastService.setToastMessage(`${e} ${t}`)}}keyEvent(e){if((e.ctrlKey||e.metaKey)&&67===e.keyCode)this.onCopyGlyphKeydown();else if(e.keyCode>=35&&e.keyCode<=40){if(this.viewContext===qw.search)return;this.onArrowNavigation(CO[e.keyCode])}e.stopImmediatePropagation()}scrollToEndAndSelectIcon(){if(this.selectedIcon)if(this.onScrollDown(),this.totalIconCount-this.iconsInGrid.length>0)setTimeout(()=>{this.scrollToEndAndSelectIcon()},2e3);else{const e=this.icons.length-1;this.updateSelectedIcons(this.icons[e]),this.onIconSelected(null,this.icons[e],e)}}copyGlyphToClipboard(e,t,n){this.clipboardService.copyFromContent(e.glyph),this.sendToast("Glyph"),this.appInsightsService.trackEvent(t,{component:n,iconFormat:"glyph",libraryName:this.localLibraryName,collectionName:this.localCollectionName,glyphName:this.getIconName(e),glyphValue:this.getIconInternalKey(e)})}copySvgToClipboard(e,t,n=32){this.getSvgContent(e).toPromise().then(e=>{this.clipboardService.copyFromContent(""+e),this.sendToast(`Icon .SVG ${n}px`)}).catch(()=>{this.handleDownloadError()}),this.appInsightsService.trackEvent("ctrl-c-shortcut",{component:t,iconFormat:"svg",libraryName:this.localLibraryName,collectionName:this.localCollectionName,glyphName:this.getIconName(e),glyphValue:this.getIconInternalKey(e)})}handleDownloadError(){window.alert("Your request could not be processed due to a server error. Please retry in a new browser window. If the issue still persists, please contact WDG Design Tools Feedback <WDGDesignToolsFB@microsoft.com>."),this.sendFeedbackService.postFeedback({feedback:"Your request could not be processed due to a server error.",subjectType:"Error",isBlocking:!0},()=>{})}getIconName(e){return e?e.friendlyName:null}getIconInternalKey(e){return e?e.internalKey:null}ngOnInit(){this.containerClassName=this.styleLoaderService.constructContainerClassName(this.containerClassNamePrefix,this.libraryGroupName),this.isDynamic&&(this.selectedFontSubscription=this.selectedCollection$.subscribe(e=>{this.localLibraryName===e.libraryName&&this.localCollectionName===e.collectionName||(this.collectionMetadataLoaded=!1,this.localLibraryName=e.libraryName,this.localCollectionName=e.collectionName,this.libraryName=this.libraryName?this.libraryName:this.localLibraryName,this.collections=this.collections&&this.collections.length>0?this.collections:[new bw(this.localCollectionName,0,!0,e.internalKey,this.libraryName)],this.containerClassName=this.styleLoaderService.constructContainerClassName(this.containerClassNamePrefix,this.libraryGroupName),this.removeIconViewerFromDom(),this.pageIndex=0,this.selectedIcon&&setTimeout(()=>{this.icons&&0===this.icons.length?this.iconsSubscription=this.icons$.subscribe(e=>{this.icons=e,this.removeIconViewerFromDom(),this.updateSelectedIcons(this.selectedIcon),this.iconsSubscription.unsubscribe()}):(this.removeIconViewerFromDom(),this.updateSelectedIcons(this.selectedIcon))}))}),this.libraryMetaDataSubscription=this.libraryMetadataService.allLibraryMetadataAvailable$.subscribe(e=>{if(e){const e=this.libraryMetadataService.getLibraryByName(this.libraryName);e&&e.collectionsDownloadMetadata&&e.collectionsDownloadMetadata.find(e=>this.collections&&this.collections[0]?e.name===this.collections[0].name:this.selectedCollection?e.name===this.selectedCollection.name:void 0)&&(this.collectionMetadataLoaded=!0),this.libraryMetaDataSubscription.unsubscribe()}}),this.collectionMetadata$&&(this.collectionMetadataSubscription=this.collectionMetadata$.subscribe(e=>{e.libraryName.length>0&&(this.collectionMetadataLoaded=!0)})),this.viewContextSubscription=this.viewContext$.subscribe(e=>{this.viewContext=e}),this.selectedCollectionFacet$&&(this.collectionChangeSubscription=this.selectedCollectionFacet$.subscribe(e=>{this.removeIconViewerFromDom(),this.selectedCollection=e||null,this.selectedIcon&&(this.iconsSubscription=this.icons$.subscribe(e=>{this.icons=e,this.updateSelectedIcons(this.selectedIcon),this.iconsSubscription.unsubscribe()}))}))),this.selectedSortByOption$&&(this.sortBySubscription=this.selectedSortByOption$.subscribe(e=>{this.icons=this.sortFilterService.sortIcons(this.icons,e)})),this.collections&&0===this.collections.length&&this.libraryName.length>0&&this.iconApiService.getLibraryDataByName(this.libraryName).subscribe(e=>{e&&e.collectionNames&&(this.collections=e.collectionNames.map(t=>{const n=e.collectionsMetadata.find(e=>e.name===t);return new bw(t,0,!1,n.internalKey,e.name)}))}).unsubscribe(),this.selectedViewScale$?this.viewScaleSubscription=this.selectedViewScale$.subscribe(e=>{this.viewScale=e,this.canScrollGrid&&this.backfillIconGrid(),this.selectedIcon&&this.showInlineIconViewer(this.getSelectedIconIndexInGrid(this.selectedIcon))}):this.viewScale=Lw.default,this.resizeWindowSubscription=qx(window,"resize").pipe(vP(200)).subscribe(()=>{this.backfillIconGrid(),this.viewportWidth!==document.body.clientWidth&&(this.viewportWidth=document.body.clientWidth,this.gridContainerWidth=this.getGridWidth(),this.selectedIcon&&this.showInlineIconViewer(this.getSelectedIconIndexInGrid(this.selectedIcon)))})}ngAfterViewInit(){if(this.canShowGhostIcon){let e=this.styleLoaderService.getSpecifiedFontFaceCount(this.containerClassName);"All Libraries"===this.libraryName&&(e=0),e>0?this.isFontFileLoadedSubscription=this.styleLoaderService.loadFontFiles$(this.containerClassName).subscribe(t=>{t&&t.length===e&&(this.isFontFileLoadedSubscription.unsubscribe(),this.fontLoaded=!0,this.cdref.detectChanges())}):setTimeout(()=>{this.fontLoaded=!0,this.cdref&&!this.cdref.destroyed&&this.cdref.detectChanges()},800)}else this.fontLoaded=!0,this.cdref.detectChanges();this.iconsInGrid.toArray(),this.selectedIconSubscription=this.selectedIcon$.subscribe(e=>{const t=this.selectedIcon?ZS(this.selectedIcon):"",n=e?ZS(e):"";""!==t&&""===n&&this.selectedIcon&&(this.selectedIcon.isSelected=!1),(t!==n||this.selectedIcon&&(!this.selectedIcon.friendlyName||""===this.selectedIcon.friendlyName))&&(this.selectedIcon=e,e&&(e.isSelected||n.length>0)?(this.selectedIcon.isSelected=!0,this.icons&&0===this.icons.length?this.iconsSubscription=this.icons$.subscribe(t=>{this.icons=t,this.updateSelectedIcons(e),this.iconsSubscription.unsubscribe()}):this.updateSelectedIcons(e)):(this.selectedIcon&&(this.selectedIcon.isSelected=!1),this.removeIconViewerFromDom()))})}ngOnDestroy(){this.selectedFontSubscription.unsubscribe(),this.libraryMetaDataSubscription.unsubscribe(),this.selectedIconSubscription.unsubscribe(),this.resizeWindowSubscription.unsubscribe(),this.sortBySubscription.unsubscribe(),this.viewScaleSubscription.unsubscribe(),this.collectionChangeSubscription.unsubscribe(),this.collectionMetadataSubscription.unsubscribe(),this.viewContextSubscription.unsubscribe(),this.removeIconViewerFromDom()}}const _O=new _e("WindowToken","undefined"!=typeof window&&window.document?{providedIn:"root",factory:()=>window}:void 0);let xO=(()=>{class e{constructor(e,t){this.document=e,this.window=t,this.copySubject=new I,this.copyResponse$=this.copySubject.asObservable(),this.config={}}configure(e){this.config=e}copy(e){if(!this.isSupported||!e)return this.pushCopyResponse({isSuccess:!1,content:e});const t=this.copyFromContent(e);return this.pushCopyResponse(t?{content:e,isSuccess:t}:{isSuccess:!1,content:e})}get isSupported(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}isTargetValid(e){if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){if(e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}copyFromInputElement(e,t=!0){try{this.selectTarget(e);const n=this.copyText();return this.clearSelection(t?e:void 0,this.window),n&&this.isCopySuccessInIE11()}catch(n){return!1}}isCopySuccessInIE11(){const e=this.window.clipboardData;return!(e&&e.getData&&!e.getData("Text"))}copyFromContent(e,t=this.document.body){if(this.tempTextArea&&!t.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{t.appendChild(this.tempTextArea)}catch(i){throw new Error("Container should be a Dom element")}}this.tempTextArea.value=e;const n=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement),n}destroy(e=this.document.body){this.tempTextArea&&(e.removeChild(this.tempTextArea),this.tempTextArea=void 0)}selectTarget(e){return e.select(),e.setSelectionRange(0,e.value.length),e.value.length}copyText(){return this.document.execCommand("copy")}clearSelection(e,t){e&&e.focus(),t.getSelection().removeAllRanges()}createTempTextArea(e,t){const n="rtl"===e.documentElement.getAttribute("dir");let i;return i=e.createElement("textarea"),i.style.fontSize="12pt",i.style.border="0",i.style.padding="0",i.style.margin="0",i.style.position="absolute",i.style[n?"right":"left"]="-9999px",i.style.top=(t.pageYOffset||e.documentElement.scrollTop)+"px",i.setAttribute("readonly",""),i}pushCopyResponse(e){this.copySubject.next(e)}pushCopyReponse(e){this.pushCopyResponse(e)}}return e.ngInjectableDef=he({factory:function(){return new e(Oe(Oa),Oe(_O,8))},token:e,providedIn:"root"}),e})();class IO{}var kO=jn({encapsulation:0,styles:[[".dummy-element[_ngcontent-%COMP%]{display:none;font-size:20px;height:20px;width:20px;position:absolute;top:0;left:auto;z-index:4}.link[_ngcontent-%COMP%]{color:inherit;cursor:inherit;text-decoration:none}.subset-font-heading[_ngcontent-%COMP%]{margin-left:5px;font-weight:700}.card-grid[_ngcontent-%COMP%]{display:flex;align-content:flex-start;align-items:flex-start;flex-wrap:wrap;margin-bottom:2px;list-style-type:none}.card-deck[_ngcontent-%COMP%]{-webkit-padding-start:0;padding-inline-start:0}"]],data:{animation:[{type:7,name:"fadeIn",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"300ms ease-in"}],options:null}],options:{}},{type:7,name:"fadeOut",definitions:[{type:1,expr:":leave",animation:[{type:6,styles:{opacity:1},offset:null},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"200ms ease-in-out"}],options:null}],options:{}}]}});function TO(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"h5",[["class","mx-0 px-0"],["test-id","grid-heading"]],[[24,"@fadeIn",0],[24,"@fadeOut",0]],null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,void 0,void 0),e(t,1,0,n.headingDisplayText&&n.headingDisplayText.length>0?n.headingDisplayText:"")}))}function MO(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"collection-summary",[],null,null,null,HP,jP)),Yi(1,114688,null,0,UP,[WS],{collectionMetadata$:[0,"collectionMetadata$"]},null)],(function(e,t){e(t,1,0,t.component.collectionMetadata$)}),null)}function EO(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"style-loader",[],null,null,null,$M,FM)),Yi(1,245760,null,0,LM,[y_,i_],{containerClassNamePrefix:[0,"containerClassNamePrefix"],selectedLibraryGroup$:[1,"selectedLibraryGroup$"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.containerClassNamePrefix,n.selectedLibraryGroup$)}),null)}function PO(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"style-loader",[],null,null,null,$M,FM)),Yi(1,245760,null,0,LM,[y_,i_],{containerClassNamePrefix:[0,"containerClassNamePrefix"],libraryGroupName:[1,"libraryGroupName"],collections:[2,"collections"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.containerClassNamePrefix,n.libraryGroupName,n.collections)}),null)}function OO(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"li",[["class","card-grid"]],[[1,"id",0],[1,"test-unicode-value",0],[1,"test-id",0]],null,null,null,null)),(e()(),Dl(1,0,null,null,1,"icon-card",[],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onIconSelected(n,e.context.$implicit,e.context.index)&&i),i}),JP,KP)),Yi(2,4440064,[[3,4]],0,qP,[v_,Cu,Xt],{index:[0,"index"],icon:[1,"icon"],iconReady:[2,"iconReady"],selectedIcon$:[3,"selectedIcon$"],selectedViewScale$:[4,"selectedViewScale$"],canShowGhostIcon:[5,"canShowGhostIcon"],fontLoaded:[6,"fontLoaded"]},null)],(function(e,t){var n=t.component;e(t,2,0,t.context.index,t.context.$implicit,n.iconsReady,n.selectedIcon$,n.selectedViewScale$,n.canShowGhostIcon,n.fontLoaded)}),(function(e,t){e(t,0,0,"card-index-"+t.context.index,null!==t.context.$implicit.unicodeValue?t.context.$implicit.unicodeValue:"","card-index-"+t.context.index)}))}function DO(e){return Xl(0,[(e()(),Dl(0,0,null,null,5,"ul",[["class","row card-deck mx-0 p-0 scrollable-container grid-container"],["infiniteScroll",""]],null,[[null,"scrolled"]],(function(e,t,n){var i=!0;return"scrolled"===t&&(i=!1!==e.component.onScrollDown()&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(2,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Yi(3,4866048,null,0,yO,[Xt,Wr],{infiniteScrollDistance:[0,"infiniteScrollDistance"],infiniteScrollUpDistance:[1,"infiniteScrollUpDistance"],infiniteScrollThrottle:[2,"infiniteScrollThrottle"]},{scrolled:"scrolled"}),(e()(),Ol(16777216,null,null,1,null,OO)),Yi(5,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,2,0,"row card-deck mx-0 p-0 scrollable-container grid-container",n.containerClassName),e(t,3,0,2,1.5,50),e(t,5,0,n.icons)}),null)}function NO(e){return Xl(0,[Fl(671088640,1,{sampleIcon:0}),Fl(671088640,2,{iconOverlay:0}),Fl(671088640,3,{iconsInGrid:1}),(e()(),Ol(16777216,null,null,1,null,TO)),Yi(4,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,MO)),Yi(6,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,EO)),Yi(8,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,PO)),Yi(10,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,DO)),Yi(12,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.showHeading),e(t,6,0,n.showMetadata&&n.collectionMetadataLoaded),e(t,8,0,n.isDynamic),e(t,10,0,!n.isDynamic),e(t,12,0,n.icons)}),null)}class RO{constructor(e,t){this.notificationApiService=e,this.store=t,this.canShowCounts=!1,this.onCollectionFacetSelection=new Cr,this.onLibraryGroupFacetSelection=new Cr,this.selectedCollectionName="",this.alertBarHeight=0,this.alertsShowingHeight=0,this.canShowZeroCounts=!1,this.canShowCollections=!1,this.collectionSectionFixedHeight=74,this.facetClientHeight=42,this.fixedLibraryCollectionHeight=0,this.librarySectionFixedHeight=74,this.navbarHeight=60,this.libraryFacetsSubscription=new h,this.notificationSubscription=new h,this.selectedCollectionSubscription=new h,this.selectedLibrarySubscription=new h,this.onLibraryGroupFacetClick=e=>{e.isSelected=!0,this.onLibraryGroupFacetSelection.emit(e)},this.onCollectionFacetClick=e=>{e.isSelected=!0,this.selectedCollection=e,this.selectedCollectionName=e.name,this.onCollectionFacetSelection.emit(e)},this.onCollectionDropdownClick=e=>{this.canShowCollections=!this.canShowCollections}}scrollToSelectedSelection(){if(this.collectionItems&&this.collectionItems.length>0){const e=this.collectionItems.find(e=>e.nativeElement.id==="collection-facet-"+this.selectedCollectionName);e&&e.nativeElement&&e.nativeElement.scrollIntoView(!0)}}ngOnInit(){this.selectedLibrarySubscription=this.selectedLibraryGroup$.subscribe(e=>{if(this.selectedLibraryGroup=e,this.canShowCollections="All Libraries"!==e.name,this.selectedCollection&&this.selectedCollection.name.length>0){const e=this.selectedLibraryGroup.collections.find(e=>e.name===this.selectedCollection.name);e&&LS(this.store,e)}}),this.selectedCollectionSubscription=this.selectedCollectionFacet$.subscribe(e=>{e?(this.selectedCollection=e,this.selectedCollectionName=this.selectedCollection?this.selectedCollection.name:""):(this.selectedCollection=new bw("",0,!1,"",""),this.selectedCollectionName="")}),this.libraryFacetsSubscription=this.libraryGroupFacets$.subscribe(e=>{const t=e.length;t>0&&(this.canShowZeroCounts="All Libraries"===e[0].name&&0===e[0].iconCount,this.fixedLibraryCollectionHeight=this.navbarHeight+this.librarySectionFixedHeight+this.collectionSectionFixedHeight+t*this.facetClientHeight,this.fixedLibraryCollectionHeight+=this.alertBarHeight<=this.alertsShowingHeight?this.alertsShowingHeight:this.alertsShowingHeight-this.alertBarHeight,this.alertBarHeight=this.alertsShowingHeight)}),this.notificationSubscription=this.notificationApiService.alertsShowing$.subscribe(e=>{this.alertsShowingHeight=52*e,this.fixedLibraryCollectionHeight+=this.alertsShowingHeight-this.alertBarHeight,this.alertBarHeight=this.alertsShowingHeight})}ngAfterViewInit(){this.scrollToSelectedSelection()}ngOnDestroy(){this.notificationSubscription.unsubscribe(),this.selectedLibrarySubscription.unsubscribe(),this.selectedCollectionSubscription.unsubscribe(),this.libraryFacetsSubscription.unsubscribe()}}var AO=jn({encapsulation:0,styles:[['@font-face{font-family:CortMDL2;src:url(/assets/fonts/CortMDL2.woff) format("woff");font-weight:400;font-style:normal}@font-face{font-family:MemMDL2;src:url(/assets/fonts/MemMDL2.woff) format("woff");font-weight:400;font-style:normal}.list-group-item-action[_ngcontent-%COMP%]:hover{cursor:pointer}.filter-panel-section[_ngcontent-%COMP%]{background-color:rgba(128,128,128,.06);margin-bottom:1.5rem!important}.filter-panel-section[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]{padding:13px}.filter-panel-section[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent}.filter-panel-section[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .list-group-item-action[_ngcontent-%COMP%]{padding:7px 13px;margin:2px 0}.filter-panel-section[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .list-group-item-action[_ngcontent-%COMP%]:hover{background-color:#e1effa}.filter-panel-section[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .list-group-item-action.list-group-item-primary[_ngcontent-%COMP%]{color:#fff!important}.filter-panel-section.collections-panel[_ngcontent-%COMP%]{border:1px solid #e3e3e3;padding-top:1.5rem;padding-bottom:1.5rem}.filter-panel-section.collections-panel[_ngcontent-%COMP%]   .collection-list[_ngcontent-%COMP%]{overflow-y:auto;padding:0 13px;display:list-item}.filter-panel-section.collections-panel[_ngcontent-%COMP%]   .collection-list[_ngcontent-%COMP%]   .list-group-item-action[_ngcontent-%COMP%]{padding:7px 13px;margin:2px 0}.filter-panel-section.collections-panel[_ngcontent-%COMP%]   .collection-list[_ngcontent-%COMP%]   .list-group-item-action[_ngcontent-%COMP%]:hover{background-color:rgba(128,128,128,.06)}.filter-panel-section.collections-panel[_ngcontent-%COMP%]   .collection-list[_ngcontent-%COMP%]   .list-group-item-primary[_ngcontent-%COMP%]{color:unset!important;background-color:#e1effa}.filter-panel-section.collections-panel[_ngcontent-%COMP%]   .collection-list[_ngcontent-%COMP%]   .list-group-item-primary[_ngcontent-%COMP%]:hover{background-color:#e1effa}']],data:{animation:[{type:7,name:"fadeIn",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"300ms ease-in"}],options:null}],options:{}},{type:7,name:"fadeOut",definitions:[{type:1,expr:":leave",animation:[{type:6,styles:{opacity:1},offset:null},{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"200ms ease-in-out"}],options:null}],options:{}}]}});function LO(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","pl-1"],["test-id","library-facet-count"]],[[1,"test-library-count",0]],null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,t.parent.context.$implicit.iconCount),e(t,1,0,t.parent.context.$implicit.iconCount>0||t.parent.context.$implicit.name===n.selectedLibraryGroup.name||n.canShowZeroCounts?"("+t.parent.context.$implicit.iconCount+")":"")}))}function FO(e){return Xl(0,[(e()(),Dl(0,0,null,null,7,"li",[["class","list-group-item list-group-item-action d-flex align-items-center border-0 rounded"]],[[1,"test-id",0]],[[null,"click"],[null,"onLibraryGroupFacetClick"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onLibraryGroupFacetClick(e.context.$implicit)&&i),"onLibraryGroupFacetClick"===t&&(i=!1!==r.onLibraryGroupFacetClick(r.libraryFacet)&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(2,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(3,{"list-group-item-primary bg-primary":0}),(e()(),Dl(4,0,null,null,1,"span",[["class","d-inline-block text-truncate"],["test-id","library-name"]],[[8,"title",0]],null,null,null,null)),(e()(),Wl(5,null,["",""])),(e()(),Ol(16777216,null,null,1,null,LO)),Yi(7,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,i=e(t,3,0,t.context.$implicit.name===n.selectedLibraryGroup.name);e(t,2,0,"list-group-item list-group-item-action d-flex align-items-center border-0 rounded",i),e(t,7,0,!0===n.canShowCounts)}),(function(e,t){e(t,0,0,fi(1,"library-facet-",t.context.$implicit.name,"")),e(t,4,0,fi(1,"",t.context.$implicit.name,"")),e(t,5,0,t.context.$implicit.name)}))}function $O(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","pl-1"],["test-id","collection-facet-count"]],[[1,"test-collection-count",0]],null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,t.parent.context.$implicit.iconCount),e(t,1,0,t.parent.context.$implicit&&t.parent.context.$implicit.iconCount>0||n.canShowZeroCounts||n.selectedCollectionName===t.parent.context.$implicit.name?"("+t.parent.context.$implicit.iconCount+")":"")}))}function VO(e){return Xl(0,[(e()(),Dl(0,0,[[1,0],["collectionItem",1]],null,7,"li",[["class","collection-list-item list-group-item list-group-item-action d-flex align-items-center border-0 rounded"]],[[8,"id",0],[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onCollectionFacetClick(e.context.$implicit)&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(2,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(3,{"list-group-item-primary":0}),(e()(),Dl(4,0,null,null,1,"span",[["class","d-inline-block text-truncate"],["test-id","collection-name"]],[[8,"title",0]],null,null,null,null)),(e()(),Wl(5,null,["",""])),(e()(),Ol(16777216,null,null,1,null,$O)),Yi(7,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,i=e(t,3,0,(t.context.$implicit?t.context.$implicit.name:"")===n.selectedCollectionName);e(t,2,0,"collection-list-item list-group-item list-group-item-action d-flex align-items-center border-0 rounded",i),e(t,7,0,!0===n.canShowCounts)}),(function(e,t){e(t,0,0,fi(1,"collection-facet-",t.context.$implicit.name,""),fi(1,"collection-facet-",t.context.$implicit.name,"")),e(t,4,0,fi(1,"",t.context.$implicit?t.context.$implicit.name:"",""));var n=t.context.$implicit?t.context.$implicit.name.replace("Assets","").replace("assets",""):"";e(t,5,0,n)}))}function UO(e){return Xl(0,[(e()(),Dl(0,0,[["collectionList",1]],null,5,"ul",[["class","collection-list list-group"]],[[24,"@fadeIn",0],[24,"@fadeOut",0]],null,null,null,null)),er(512,null,ba,va,[Xt,bn,nn]),Yi(2,278528,null,0,Ca,[ba],{ngStyle:[0,"ngStyle"]},null),ql(3,{"max-height":0}),(e()(),Ol(16777216,null,null,1,null,VO)),Yi(5,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component,i=e(t,3,0,"calc(100vh - "+n.fixedLibraryCollectionHeight+"px)");e(t,2,0,i),e(t,5,0,n.selectedLibraryGroup.collections)}),(function(e,t){e(t,0,0,void 0,void 0)}))}function jO(e){return Xl(0,[Fl(671088640,1,{collectionItems:1}),(e()(),Dl(1,0,null,null,4,"section",[["class","filter-panel-section rounded-lg"],["id","libraries-section"],["test-id","libraries-section"]],null,null,null,null,null)),(e()(),Dl(2,0,null,null,3,"ul",[["class","list-group"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,2,null,FO)),Yi(4,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null),Ji(131072,Ma,[wt]),(e()(),Dl(6,0,null,null,5,"section",[["class","filter-panel-section collections-panel bg-white rounded-lg"],["test-id","collections-section"]],null,null,null,null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(8,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(9,{"d-none":0}),(e()(),Ol(16777216,null,null,1,null,UO)),Yi(11,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,Un(t,4,0,Vi(t,5).transform(n.libraryGroupFacets$)));var i=e(t,9,0,0===n.selectedLibraryGroup.collections.length);e(t,8,0,"filter-panel-section collections-panel bg-white rounded-lg",i),e(t,11,0,n.canShowCollections)}),null)}class zO{constructor(e,t){this.store=e,this.appRoutingStateRulesService=t,this.isBrowseMode=!1,this.libraryDataByCollection={},this.libraryFacets=[],this.libraryFacetCount=0,this.libraryFacetsSubscription=new h,this.allLibraryData=[],this.groupLibraryData=[],this.libraryDataSubscription=new h,this.selectedLibraryGroupSubscription=new h,this.onLibraryGroupFacetSelection=e=>{this.selectedLibraryGroup=e,AS(this.store,e),LS(this.store,null),zS(this.store,[0]),this.appRoutingStateRulesService.clearIconSelection(),this.updateLocalLibraryGroupVariables(),this.setIsBrowseMode(),this.isBrowseMode?Yw(this.store,new Uw(this.selectedLibraryGroup.name,"","")):this.setLibraryFacetProperties(e),EE(this.store,"")},this.onCollectionFacetSelection=e=>{this.appRoutingStateRulesService.clearIconSelection(),LS(this.store,e),this.setIsBrowseMode(),this.isBrowseMode?Yw(this.store,new Uw(this.libraryDataByCollection[e.internalKey].name,e.name,e.internalKey)):this.selectedLibraryGroup&&this.selectedLibraryGroup.libraries&&(this.selectedLibraryGroup.collections=[],this.selectedLibraryGroup.libraries.forEach(t=>{t.collections&&e&&(t.collections.forEach(t=>{t.isSelected=t.name===e.name}),t.collections.filter(e=>!(0===e.iconCount&&!e.isSelected)).forEach(e=>{this.selectedLibraryGroup.collections.push(e)}),AS(this.store,this.selectedLibraryGroup))})),EE(this.store,this.isBrowseMode&&"Full MDL2 Assets"!==e.name?"/browse":"")},this.setIsBrowseMode=()=>{this.isBrowseMode=-1===this.libraryFacets.findIndex(e=>"All Libraries"===e.name)},this.setLibraryFacetProperties=e=>{if(this.libraryFacets.length>0&&"All Libraries"===this.libraryFacets[0].name){this.libraryFacets.forEach(t=>{t.isSelected=t.name===e.name});let t=[];this.libraryFacets[0].iconCount>0&&(t=this.libraryFacets.filter(e=>!(0===e.iconCount&&!e.isSelected))),ES(this.store,t)}}}updateLocalLibraryGroupVariables(){this.allLibraryData&&(this.groupLibraryData=this.allLibraryData.filter(e=>!(!e.libraryGroupName||e.libraryGroupName!==this.selectedLibraryGroup.name)||e.name===this.selectedLibraryGroup.name),this.libraryDataByCollection={},this.groupLibraryData.forEach(e=>{e.collectionsMetadata.forEach(t=>{this.libraryDataByCollection[t.internalKey]=e})}))}ngOnInit(){this.isBrowseMode=!1,this.collectionFacets$=this.store.select(kS),this.selectedCollectionFacet$=this.store.select(MS),this.selectedLibraryGroup$=this.store.select(TS),this.selectedLibraryGroupSubscription=this.selectedLibraryGroup$.subscribe(e=>{this.selectedLibraryGroup=e,this.setLibraryFacetProperties(e)}),this.libraryData$=this.store.select(YC),this.libraryDataSubscription=this.libraryData$.subscribe(e=>{this.allLibraryData=e,this.updateLocalLibraryGroupVariables(),this.setIsBrowseMode()}),this.libraryGroupFacets$=this.store.select(IS),this.libraryFacetsSubscription=this.libraryGroupFacets$.subscribe(e=>{this.libraryFacetCount=e.length,this.libraryFacets=e,this.setIsBrowseMode()})}ngOnDestroy(){this.libraryDataSubscription.unsubscribe(),this.libraryFacetsSubscription.unsubscribe(),this.selectedLibraryGroupSubscription.unsubscribe()}}var GO=jn({encapsulation:0,styles:[[".filter-panel-container[_ngcontent-%COMP%]{position:fixed;top:auto;left:0;width:260px;height:calc(100vh - 60px);z-index:5;padding:1.5rem 1px 1.5rem 1.5rem}"]],data:{}});function BO(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"aside",[["class","filter-panel-container"],["test-id","filter-panel"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"filter-panel-content",[],null,[[null,"onLibraryGroupFacetSelection"],[null,"onCollectionFacetSelection"]],(function(e,t,n){var i=!0,r=e.component;return"onLibraryGroupFacetSelection"===t&&(i=!1!==r.onLibraryGroupFacetSelection(n)&&i),"onCollectionFacetSelection"===t&&(i=!1!==r.onCollectionFacetSelection(n)&&i),i}),jO,AO)),Yi(2,4440064,null,0,RO,[r_,Gv],{canShowCounts:[0,"canShowCounts"],libraryGroupFacets$:[1,"libraryGroupFacets$"],selectedCollectionFacet$:[2,"selectedCollectionFacet$"],selectedLibraryGroup$:[3,"selectedLibraryGroup$"]},{onCollectionFacetSelection:"onCollectionFacetSelection",onLibraryGroupFacetSelection:"onLibraryGroupFacetSelection"})],(function(e,t){var n=t.component;e(t,2,0,!1===n.isBrowseMode,n.libraryGroupFacets$,n.selectedCollectionFacet$,n.selectedLibraryGroup$)}),null)}class HO{constructor(e,t,n){this.caption=e,this.type=t,this.domElement=n}}class qO{constructor(e,t){this.componentFactoryResolver=e,this.store=t,this.activePills=[],this.selectedLibrarySubscription=new h,this.selectedCollectionsSubscription=new h,this.onPillRemove=e=>{const t=this.getActivePillByType(e);if(t){switch(t.type){case Dw.library:this.store.select(IS).subscribe(e=>{e&&(LS(this.store,null),AS(this.store,e[0]))}).unsubscribe();break;case Dw.collection:LS(this.store,null),EE(this.store,"")}this.removePill(t.type)}},this.getActivePillByCaption=e=>this.activePills.find(t=>t.caption===e),this.getActivePillByType=e=>this.activePills.find(t=>t.type===e),this.removePill=e=>{const t=this.activePills.findIndex(t=>t.type===e);if(t>-1){const n=this.getActivePillByType(e);n&&(n.domElement.destroy(),n.domElement.location.nativeElement.remove()),this.activePills.splice(t,1)}},this.createPill=(e,t)=>{const n=new Ow(hM,{caption:e,type:t}),i=this.componentFactoryResolver.resolveComponentFactory(n.component),r=this.pillTemplate.createComponent(i);r.location.nativeElement.setAttribute("test-id",e),r.instance.data=n.data,r.instance.parentRef=this,t===Dw.library&&this.activePills.length>0?this.activePills.unshift(new HO(e,t,r)):this.activePills.push(new HO(e,t,r))}}ngOnInit(){this.selectedLibraryGroup$=this.store.select(TS),this.selectedCollectionFacet$=this.store.select(MS),this.selectedLibrarySubscription=this.selectedLibraryGroup$.subscribe(e=>{this.removePill(Dw.library),e&&"All Libraries"!==e.name&&this.createPill(e.name,Dw.library)}),this.selectedCollectionsSubscription=this.selectedCollectionFacet$.subscribe(e=>{this.removePill(Dw.collection),e&&this.createPill(e.name,Dw.collection)})}ngOnDestroy(){this.selectedLibrarySubscription.unsubscribe(),this.selectedCollectionsSubscription.unsubscribe()}}var KO=jn({encapsulation:0,styles:[[""]],data:{}});function WO(e){return Xl(0,[(e()(),Ol(0,null,null,0))],null,null)}function QO(e){return Xl(0,[Fl(402653184,1,{pillTemplate:0}),(e()(),Dl(1,0,null,null,4,"section",[["class","mt-0 p-0"],["id","pillbar"],["test-id","pillbar"]],null,null,null,null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(3,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(4,{"mt-3":0}),(e()(),Ol(16777216,[[1,3],["pill",2]],null,0,null,WO))],(function(e,t){var n=e(t,4,0,t.component.activePills.length>0);e(t,3,0,"mt-0 p-0",n)}),null)}class ZO{constructor(){this.onSelectionClick=new Cr,this.onDropdownItemClick=e=>{this.selectedIndex=e,this.selectedValue=this.dropdownOptions[this.selectedIndex].label,this.selection.options=[this.dropdownOptions[e]],this.onSelectionClick.emit(this.selection),this.openDropdown=!1},this.onOpenDropdownClick=()=>{this.openDropdown=!this.openDropdown},this.onDropdownMouseleave=()=>{this.openDropdown=!1}}ngOnInit(){this.selectedIndex=this.dropdownOptions.findIndex(e=>e.actionType===this.selectedOptions[0].actionType),this.selection=new $w(this.name,[this.dropdownOptions[this.selectedIndex]])}}var XO=jn({encapsulation:0,styles:[['@charset "UTF-8";.select-dropdown-container[_ngcontent-%COMP%]{font-size:.875rem;display:inline-block;position:relative}.select-dropdown-container[_ngcontent-%COMP%]:hover{cursor:pointer;color:#0078d4}.select-dropdown-container[_ngcontent-%COMP%]:hover   span.label[_ngcontent-%COMP%]{color:#0078d4!important}.select-dropdown-container[_ngcontent-%COMP%]   .icon-chevron-down[_ngcontent-%COMP%]{font-family:MemMDL2;font-size:10px}.select-dropdown-container[_ngcontent-%COMP%]   .icon-chevron-down[_ngcontent-%COMP%]:before{content:"\ue70d"}.select-dropdown-container[_ngcontent-%COMP%]   .dropdown-selection[_ngcontent-%COMP%]{font-weight:500}.dropdown-menu[_ngcontent-%COMP%]{font-size:.875rem;top:24px!important;left:auto!important;right:0!important;transform:translate3d(0,0,0)!important}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-items[_ngcontent-%COMP%]{margin:0;padding:0 13px}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-items[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{margin:2px 0;padding:4px 13px}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-items[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#e1effa;color:unset!important}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-items[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%]{cursor:pointer;background-color:#0078d4;color:#fff!important}']],data:{}});function YO(e){return Xl(0,[(e()(),Dl(0,0,null,null,5,"li",[["class","dropdown-item rounded-lg"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDropdownItemClick(e.context.index)&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(2,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(3,{active:0}),(e()(),Dl(4,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Wl(5,null,["",""]))],(function(e,t){var n=e(t,3,0,t.component.selectedIndex===t.context.index);e(t,2,0,"dropdown-item rounded-lg",n)}),(function(e,t){e(t,5,0,t.context.$implicit.label)}))}function JO(e){return Xl(0,[(e()(),Dl(0,0,null,null,9,"aside",[["class","select-dropdown-container pb-2"],["data-toggle","dropdown"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onOpenDropdownClick()&&i),i}),null,null)),(e()(),Dl(1,0,null,null,1,"span",[["class","label ml-3 pr-2 text-secondary"]],[[1,"id",0]],null,null,null,null)),(e()(),Wl(2,null,["",""])),(e()(),Dl(3,0,null,null,1,"span",[["class","dropdown-selection pr-2"],["test-id","selected-label"]],null,null,null,null,null)),(e()(),Wl(4,null,["",""])),(e()(),Dl(5,0,null,null,0,"span",[["aria-expanded","false"],["aria-haspopup","true"],["class","menu-link icon-chevron-down rounded"],["id","dropdown-link"],["test-id","dropdown-menu-link"]],null,null,null,null,null)),(e()(),Dl(6,0,[["dropdownMenu",1]],null,3,"section",[["aria-labelledby","dropdown-link"],["class","dropdown-menu dropdown-menu-right shadow animate border-0 fadeIn"],["id","dropdown-menu"],["test-id","dropdown-menu"]],null,null,null,null,null)),(e()(),Dl(7,0,null,null,2,"ul",[["class","dropdown-items"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,YO)),Yi(9,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,9,0,t.component.dropdownOptions)}),(function(e,t){var n=t.component;e(t,0,0,n.name),e(t,1,0,n.name),e(t,2,0,n.label),e(t,4,0,n.dropdownOptions[n.selectedIndex].label)}))}class eD{constructor(){this.onSelectionClick=new Cr,this.selectedIndexes=[],this.keepDropdownOpen=e=>{e&&e.stopPropagation()},this.clearDropdownSelections=()=>{this.selectedValue="All",this.dropdownOptions.forEach(e=>e.isSelected=!1);let e=this.dropdownOptions.find(e=>e.actionType===Fw.filterByAll);e.isSelected=!0,this.selectedOptions=[e],this.onSelectionClick.emit(new $w(this.name,this.selectedOptions))},this.onClearAllClick=e=>{e&&(e.stopImmediatePropagation(),e.preventDefault()),this.selectedValue="All",this.dropdownOptions.forEach(e=>e.isSelected=!1);let t=this.dropdownOptions.find(e=>e.actionType===Fw.filterByAll);t.isSelected=!0,this.selectedOptions=[t],this.onSelectionClick.emit(new $w(this.name,this.selectedOptions))},this.onDropdownItemClick=(e,t)=>{this.keepDropdownOpen(e);let n=this.dropdownOptions.find((e,n)=>n===t);if(n)if(this.dropdownOptions[t].isSelected=!n.isSelected,n.actionType===Fw.filterByAll)this.clearDropdownSelections();else if(this.dropdownOptions.some(e=>e.actionType===Fw.filterBySize&&e.isSelected)){let e=this.dropdownOptions.findIndex(e=>e.actionType===Fw.filterByAll);e>-1&&(this.dropdownOptions[e].isSelected=!1)}else this.clearDropdownSelections();this.selectedOptions=this.dropdownOptions.filter(e=>e.isSelected),this.setSelectedValue(),this.onSelectionClick.emit(new $w(this.name,this.selectedOptions))},this.setSelectedValue=()=>{this.selectedOptions&&(this.selectedValue=this.dropdownOptions.filter(e=>e.isSelected).map(e=>0===e.value?"All":e.value).join(","))}}ngOnInit(){this.selectedOptions=this.dropdownOptions.filter(e=>e.isSelected),this.setSelectedValue()}}var tD=jn({encapsulation:0,styles:[['@charset "UTF-8";.select-dropdown-container[_ngcontent-%COMP%]{font-size:.875rem;display:inline-block;position:relative}.select-dropdown-container[_ngcontent-%COMP%]:hover{cursor:pointer;color:#0078d4}.select-dropdown-container[_ngcontent-%COMP%]:hover   span.label[_ngcontent-%COMP%]{color:#0078d4!important}.select-dropdown-container[_ngcontent-%COMP%]   .icon-chevron-down[_ngcontent-%COMP%]{font-family:MemMDL2;font-size:10px}.select-dropdown-container[_ngcontent-%COMP%]   .icon-chevron-down[_ngcontent-%COMP%]:before{content:"\ue70d"}.select-dropdown-container[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-family:MemMDL2;font-size:12px}.select-dropdown-container[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:before{content:"\ue739"}.select-dropdown-container[_ngcontent-%COMP%]   .checkbox.checked[_ngcontent-%COMP%]:before{color:#0078d4;content:"\ue73d"}.select-dropdown-container[_ngcontent-%COMP%]   .dropdown-selection[_ngcontent-%COMP%]{font-weight:500}.dropdown-menu[_ngcontent-%COMP%]{font-size:.875rem;top:24px!important;left:auto!important;right:0!important;min-width:7rem;transform:translate3d(0,0,0)!important}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-items[_ngcontent-%COMP%]{margin:0;padding:0 13px}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-items[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{margin:2px 0;padding:4px 13px}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-items[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#e1effa;color:unset!important}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-items[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%]{cursor:pointer;background-color:#0078d4;color:#fff!important}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-items[_ngcontent-%COMP%]   .dropdown-item.clear-all-container[_ngcontent-%COMP%]:hover{background-color:transparent}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-items[_ngcontent-%COMP%]   .dropdown-item.clear-all-container[_ngcontent-%COMP%]   .clear-all.active[_ngcontent-%COMP%]{color:#0078d4!important}']],data:{}});function nD(e){return Xl(0,[(e()(),Dl(0,0,null,null,3,"span",[["class","checkbox mr-2"]],null,null,null,null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(2,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(3,{checked:0})],(function(e,t){var n=e(t,3,0,t.parent.context.$implicit.isSelected);e(t,2,0,"checkbox mr-2",n)}),null)}function iD(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.label)}))}function rD(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"span",[["class","clear-all text-muted text-decoration-none"],["test-id","clear-all-link"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onClearAllClick(n)&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(2,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(3,{active:0}),(e()(),Wl(-1,null,["clear all"]))],(function(e,t){var n=e(t,3,0,!1===t.parent.context.$implicit.isSelected);e(t,2,0,"clear-all text-muted text-decoration-none",n)}),null)}function lD(e){return Xl(0,[(e()(),Dl(0,0,null,null,9,"li",[["class","dropdown-item rounded-lg"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDropdownItemClick(n,e.context.index)&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(2,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(3,{"clear-all-container":0}),(e()(),Ol(16777216,null,null,1,null,nD)),Yi(5,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,iD)),Yi(7,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,rD)),Yi(9,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=e(t,3,0,0===t.context.$implicit.value);e(t,2,0,"dropdown-item rounded-lg",n),e(t,5,0,t.context.$implicit.value>0),e(t,7,0,t.context.$implicit.value>0),e(t,9,0,0===t.context.$implicit.value)}),null)}function sD(e){return Xl(0,[(e()(),Dl(0,0,null,null,9,"aside",[["class","select-dropdown-container pb-2"],["data-toggle","dropdown"]],[[1,"test-id",0]],null,null,null,null)),(e()(),Dl(1,0,null,null,1,"span",[["class","label ml-3 pr-2 text-secondary"]],[[1,"id",0]],null,null,null,null)),(e()(),Wl(2,null,["",""])),(e()(),Dl(3,0,null,null,1,"span",[["class","dropdown-selection pr-2"],["test-id","selected-label"]],null,null,null,null,null)),(e()(),Wl(4,null,["",""])),(e()(),Dl(5,0,null,null,0,"span",[["aria-expanded","false"],["aria-haspopup","true"],["class","menu-link icon-chevron-down rounded"],["id","dropdown-link"],["test-id","dropdown-menu-link"]],null,null,null,null,null)),(e()(),Dl(6,0,[["dropdownMenu",1]],null,3,"section",[["aria-labelledby","dropdown-link"],["class","dropdown-menu dropdown-menu-right shadow animate border-0 fadeIn"],["id","dropdown-menu"],["test-id","multi-select-dropdown-menu"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.keepDropdownOpen(n)&&i),i}),null,null)),(e()(),Dl(7,0,null,null,2,"ul",[["class","dropdown-items"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.keepDropdownOpen(n)&&i),i}),null,null)),(e()(),Ol(16777216,null,null,1,null,lD)),Yi(9,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,9,0,t.component.dropdownOptions)}),(function(e,t){var n=t.component;e(t,0,0,n.name),e(t,1,0,n.name),e(t,2,0,n.label),e(t,4,0,n.selectedValue)}))}class oD{constructor(e,t,n,i,r){this.name=e,this.label=t,this.actionType=n,this.dropdownOptions=i,this.selectedOptions=r}}class aD{constructor(e,t,n){this.appRoutingStateRulesService=e,this.appInsightsService=t,this.store=n,this.libraryMetadataSubscription=new h,this.viewContextSubscription=new h,this.sortFilterSelects=[],this.sortDropdownOptions=[],this.scaleDropdownOptions=[],this.filterBySizeOptions=[],this.onParentSelectionClick=e=>{let t=e&&e.name?this.sortFilterSelects.find(t=>t.name===e.name):null;t&&(t.selectedOptions=e.options,t.actionType===Rw.sortBy&&jS(this.store,t.selectedOptions[0].actionType),t.actionType===Rw.viewScale&&((e,t)=>{this.store.dispatch(new yS(t))})(0,t.selectedOptions[0].actionType),t.actionType===Rw.iconSizes&&(this.appRoutingStateRulesService.clearIconSelection(),zS(this.store,e.options.map(e=>e.value))),this.appInsightsService.trackEvent("sorting-filtering",{component:"sorting-filtering",viewContext:qw[this.viewContext],iconType:this.iconType,selectActionType:Rw[t.actionType],selectActionValue:t.actionType===Rw.iconSizes?e.options.map(e=>0===e.value?"All":e.value).join(","):t.selectedOptions[0].label}))},this.getExistingIconSizeSelections=()=>{if(this.filterBySizeOptions.length>0){this.store.select(US).subscribe(e=>{this.filterBySizeOptions.length>0&&!ho(e)&&e.forEach(e=>{this.filterBySizeOptions.find(t=>{if(t.value===e)return t.isSelected=!0,!0})})}).unsubscribe();let e=this.filterBySizeOptions.findIndex(e=>e.actionType===Fw.filterByAll);this.filterBySizeOptions[e].isSelected=!this.filterBySizeOptions.some(e=>e.actionType===Fw.filterBySize&&e.isSelected),zS(this.store,this.filterBySizeOptions.filter(e=>e.isSelected).map(e=>e.value))}}}ngOnInit(){this.viewContextSubscription=this.viewContext$.subscribe(e=>{this.viewContext=e}),this.defaultSort=this.viewContext===qw.browse?Aw.nameAtoZ:Aw.relevance,jS(this.store,this.defaultSort),this.sortDropdownOptions=[new Vw("Name A - Z",Aw.nameAtoZ),new Vw("Name Z - A",Aw.nameZtoA)],this.viewContext===qw.search&&this.sortDropdownOptions.unshift(new Vw("Relevance",Aw.relevance)),"Glyph"===this.iconType&&(this.sortDropdownOptions.push(new Vw("Unicode Asc.",Aw.unicodeAsc)),this.sortDropdownOptions.push(new Vw("Unicode Des.",Aw.unicodeDes))),this.sortFilterSelects.push(new oD("sort-by","Sort by:",Rw.sortBy,this.sortDropdownOptions,[this.sortDropdownOptions.find(e=>e.actionType===this.defaultSort)]));let e=Lw.default;this.store.select(VS).subscribe(t=>e=t).unsubscribe(),this.scaleDropdownOptions=[new Vw("XSmall",Lw.xsmall),new Vw("Small",Lw.small),new Vw("Default",Lw.default),new Vw("Large",Lw.large),new Vw("XLarge",Lw.xlarge)],this.sortFilterSelects.unshift(new oD("view-scale","View Scale:",Rw.viewScale,this.scaleDropdownOptions,[this.scaleDropdownOptions.find(t=>t.actionType===e)])),this.libraryMetadataSubscription=this.store.select(Xw).subscribe(e=>{if(this.iconType=e.iconType,"Svg"===e.iconType||"Png"===e.iconType){let t=e.supportedSizes;ho(t)||(this.sortFilterSelects=this.sortFilterSelects.filter(e=>e.actionType!==Rw.iconSizes),this.filterBySizeOptions=[],t.map(e=>{this.filterBySizeOptions.push(new Vw(e+"px",Fw.filterBySize,!1,e))}),this.filterBySizeOptions.push(new Vw("All",Fw.filterByAll,!0,0))),this.getExistingIconSizeSelections(),t&&t.length>1&&this.sortFilterSelects.unshift(new oD("icon-size","Icon Sizes:",Rw.iconSizes,this.filterBySizeOptions,[]))}else{let e=this.sortFilterSelects.findIndex(e=>e.actionType===Rw.iconSizes);e>-1&&this.sortFilterSelects.splice(e,1)}})}ngOnDestroy(){this.libraryMetadataSubscription.unsubscribe(),this.viewContextSubscription.unsubscribe()}}var cD=jn({encapsulation:0,styles:[[""]],data:{}});function uD(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"select-dropdown",[],null,[[null,"onSelectionClick"]],(function(e,t,n){var i=!0;return"onSelectionClick"===t&&(i=!1!==e.component.onParentSelectionClick(n)&&i),i}),JO,XO)),Yi(1,114688,null,0,ZO,[],{name:[0,"name"],label:[1,"label"],dropdownOptions:[2,"dropdownOptions"],selectedOptions:[3,"selectedOptions"]},{onSelectionClick:"onSelectionClick"})],(function(e,t){e(t,1,0,t.parent.context.$implicit.name,t.parent.context.$implicit.label,t.parent.context.$implicit.dropdownOptions,t.parent.context.$implicit.selectedOptions)}),null)}function hD(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"multi-select-dropdown",[],null,[[null,"onSelectionClick"]],(function(e,t,n){var i=!0;return"onSelectionClick"===t&&(i=!1!==e.component.onParentSelectionClick(n)&&i),i}),sD,tD)),Yi(1,114688,null,0,eD,[],{name:[0,"name"],label:[1,"label"],dropdownOptions:[2,"dropdownOptions"],selectedOptions:[3,"selectedOptions"]},{onSelectionClick:"onSelectionClick"})],(function(e,t){e(t,1,0,t.parent.context.$implicit.name,t.parent.context.$implicit.label,t.parent.context.$implicit.dropdownOptions,t.parent.context.$implicit.selectedOptions)}),null)}function dD(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"span",[],[[1,"test-id",0]],null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,uD)),Yi(2,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,hD)),Yi(4,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,2!==t.context.$implicit.actionType),e(t,4,0,2===t.context.$implicit.actionType&&2!==n.viewContext)}),(function(e,t){e(t,0,0,t.context.$implicit.name)}))}function pD(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"section",[["class","sort-filter-container"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,dD)),Yi(2,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.sortFilterSelects)}),null)}class fD{constructor(e){this.toastService=e,this.toastSubscription=new h,this.displayMessage="",this.staticAlertClosed=!1}ngOnInit(){this.toastSubscription=this.toastService.toastMessage$.subscribe(e=>{this.displayMessage=e}),this.toastService.toastMessage$.pipe(vP(3e3)).subscribe(()=>this.displayMessage=null)}ngOnDestroy(){this.toastSubscription.unsubscribe()}}var gD=jn({encapsulation:0,styles:[[".position-bottom[_ngcontent-%COMP%]{position:fixed;bottom:1rem;left:calc((100vw - (176px / 2))/ 2);z-index:10}"]],data:{}});function mD(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"ngb-alert",[["class","text-white bg-dark alert"],["role","alert"],["type","custom"]],[[2,"alert-dismissible",null]],[[null,"close"]],(function(e,t,n){var i=!0;return"close"===t&&(i=!1!==(e.component.displayMessage=null)&&i),i}),$k,Lk)),Yi(1,638976,null,0,cI,[aI,nn,Xt],{dismissible:[0,"dismissible"],type:[1,"type"]},{close:"close"}),(e()(),Wl(2,0,["",""]))],(function(e,t){e(t,1,0,!1,"custom")}),(function(e,t){var n=t.component;e(t,0,0,Vi(t,1).dismissible),e(t,2,0,n.displayMessage)}))}function yD(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"div",[["aria-atomic","true"],["aria-live","polite"],["class","position-bottom d-flex justify-content-center align-items-end"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,mD)),Yi(2,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,t.component.displayMessage)}),null)}class bD{constructor(e,t,n,i,r,l,s,o,a,c,u){this.route=e,this.modalService=t,this.router=n,this.appInsightsService=i,this.iconApiService=r,this.searchApiService=l,this.downloadApiService=s,this.transformedGlyphsService=o,this.libraryMetadataService=a,this.sanitizer=c,this.store=u,this.iconResultsSubject=new I,this.iconResults$=this.iconResultsSubject.asObservable(),this.keywordIconResultsSubject=new I,this.keywordIconResults$=this.keywordIconResultsSubject.asObservable(),this.alsoLikeIconResultsSubject=new I,this.alsoLikeIconResults$=this.alsoLikeIconResultsSubject.asObservable(),this.emptyString="",this.iconsReady=!0,this.canVirtualScrollGrid=!0,this.canShowGhostIcon=!0,this.scopedSearchResults=[],this.keywordMetadataResults=[],this.keywordMetadataResultsHeaderText="",this.searchTerms="",this.keywords="",this.imageData="",this.searchIcon="",this.iconFontSizePx="32px",this.allLibrariesIconCount=0,this.viewSearchResultsHeader="",this.viewSearchResultsHint="",this.canShowAllLibrariesLinkInHint=!1,this.canShowGridLibraryHeader=!0,this.selectedLibraryNames=[],this.allLibrariesName="All Libraries",this.selectedCollectionName="",this.libraryGroupFacets=[],this.viewChangeEvent=new I,this.viewChangeEventObserver$=this.viewChangeEvent.asObservable(),this.routeSubscription=new h,this.viewChangeEventSubscription=new h,this.selectedFontsSubscription=new h,this.searchTermsSubscription=new h,this.searchKeywordsSubscription=new h,this.searchImageSubscription=new h,this.searchIconSubscription=new h,this.selectedLibraryGroupSubscription=new h,this.selectedCollectionsSubscription=new h,this.groupFacetByLibrary={},this.disableSearchResultsHeaderUpdates=!1,this.onViewChangeEvent=e=>{this.viewChangeEvent.next(e)},this.onIconSelection=e=>{this.selectedIcon&&(this.selectedIcon.isSelected=!1),e.isSelected?(t_(e)&&(e.transformedGlyph=this.transformedGlyphsService.transformToExtendedUnicode(e.unicodeValue)),this.selectedIcon=e):this.selectedIcon=e_(this.selectedIcon,e)?e:null,this.store.dispatch(new tC(this.selectedIcon)),EE(this.store,""),this.appInsightsService.trackEvent("icon-select",{component:"search-view",libraryGroupName:this.selectedLibraryGroup.name,collectionName:this.selectedCollectionName,iconName:e.friendlyName,iconKey:e.internalKey,iconUnicodeValue:e.unicodeValue,iconSvgKey:e.svgKey})},this.onSearchAllLibrariesClick=e=>{e&&e.preventDefault(),console.log("onSearchAllLibrariesClick"),AS(this.store,new Tw("All Libraries",this.allLibrariesIconCount,!0,[],[])),LS(this.store,null),this.dispatchRouterAction()},this.updateLibraryFacetFromResult=e=>{const t=e.icons.length,n=this.isLibraryGroupFacetUnset(this.selectedLibraryGroup)?"":this.selectedLibraryGroup.name,i=this.groupFacetByLibrary[e.name],r=new kw(e.name,0,!1,e.collections,e.internalKey);return i&&(i.iconCount+=t,i.isSelected=i.isSelected||n===i.name,e.collections.forEach(e=>i.collections.push(e)),i.libraries.push(r)),t},this.dispatchRouterAction=()=>{EE(this.store,"search")},this.applySearchResultsLibraries=e=>{this.allLibrariesIconCount=0,this.libraryGroupFacets=this.createBlankLibraryGroupFacets();const t=new Tw("All Libraries",0,!1,[],[]);if(this.libraryGroupFacets.unshift(t),e&&this.isEmpty(e))return ES(this.store,this.libraryGroupFacets),((e,t)=>{this.store.dispatch(new dS([]))})(),AS(this.store,this.isLibraryGroupFacetUnset(this.selectedLibraryGroup)?this.libraryGroupFacets[0]:this.selectedLibraryGroup),LS(this.store,this.selectedCollection),void this.setSearchResultsHeader(0);e.forEach(e=>{this.allLibrariesIconCount+=this.updateLibraryFacetFromResult(e)}),t.iconCount=this.allLibrariesIconCount,this.libraryGroupFacets.forEach(e=>{e.name!==t.name&&e.libraries.forEach(e=>{t.libraries.push(e)})}),this.selectedLibraryGroup&&this.isLibraryGroupFacetUnset(this.selectedLibraryGroup)?(t.isSelected=!0,AS(this.store,t)):this.libraryGroupFacets.find(e=>e.name===this.selectedLibraryGroup.name&&(e.isSelected=!0,!0)),ES(this.store,this.libraryGroupFacets.filter(e=>e.iconCount>0||0===e.iconCount&&e.isSelected));let n=this.libraryGroupFacets.find(e=>e.name===this.selectedLibraryGroup.name);n&&AS(this.store,n),!this.isLibraryGroupFacetUnset(this.selectedLibraryGroup)&&this.selectedCollection&&(this.onViewChangeEvent("searchTermsChange"),this.canVirtualScrollGrid=!1),this.setSearchResultsHeader(this.selectedCollection?this.selectedCollection.iconCount:this.selectedLibraryGroup.iconCount)},this.setSearchResultsHeader=e=>{if(this.disableSearchResultsHeaderUpdates||(this.viewSearchResultsHint="",this.isEmpty(this.searchTerms)?this.isEmpty(this.keywords)?this.isEmpty(this.imageData)?this.isEmpty(this.searchIcon)||(this.viewSearchResultsHeader=`<span test-id="result-count">${e}</span>\n                ${1===e?"icon":"icons"}\n                visually matched the search icon`):this.viewSearchResultsHeader=`<span test-id="result-count">${e}</span>\n                ${1===e?"icon":"icons"}\n                visually matched the search image`:this.viewSearchResultsHeader=`<span test-id="result-count">${e}</span>\n                ${1===e?"icon":"icons"}\n                tagged with keyword&nbsp;&quot;<b>${this.keywords}</b>&quot;`:this.viewSearchResultsHeader=`<span test-id="result-count">${e}</span>\n                ${1===e?"result":"results"}\n                for&nbsp;&quot;<b>${decodeURIComponent(this.searchTerms)}</b>&quot;`,0!==e)||(this.canShowAllLibrariesLinkInHint=!this.isEmpty(this.selectedLibraryGroup&&""!==this.selectedLibraryGroup.name?this.selectedLibraryGroup.name:"")&&!this.isEmpty(this.libraryGroupFacets)&&"All Libraries"===this.libraryGroupFacets[0].name&&this.libraryGroupFacets[0].iconCount>0,this.isEmpty(this.searchTerms)?this.isEmpty(this.keywords)?this.isEmpty(this.imageData)?this.isEmpty(this.searchIcon)||(this.viewSearchResultsHint="Try choosing a different icon"+(this.canShowAllLibrariesLinkInHint?" or ":".")):this.viewSearchResultsHint="Try choosing a different image"+(this.canShowAllLibrariesLinkInHint?" or ":"."):this.viewSearchResultsHint="Try choosing a different keyword"+(this.canShowAllLibrariesLinkInHint?" or ":"."):this.viewSearchResultsHint="Try changing your search term"+(this.canShowAllLibrariesLinkInHint?" or ":".")),0===e){const e=this.selectedLibraryGroup&&""!==this.selectedLibraryGroup.name?this.selectedLibraryGroup.name:"";if(!this.isEmpty(e)&&this.selectedCollection){const t=this.selectedCollection.name;if(-1===this.selectedLibraryGroup.collections.findIndex(e=>e.name===t)){const n=this.libraryMetadataService.getCollectionMetadataByLibraryOrGroupName(e,t);if(n){const e=new bw(t,0,!1,n.internalKey,n.libraryName);this.selectedLibraryGroup.collections.push(e)}}AS(this.store,this.selectedLibraryGroup)}}},this.applyViewResults=e=>{this.scopedSearchResults=this.transformedGlyphsService.transformGlyphs(e.results),this.iconResultsSubject.next(this.scopedSearchResults),this.isEmpty(this.searchTerms)?this.isEmpty(this.keywords)?this.isEmpty(this.imageData)||(this.keywordMetadataResultsHeaderText=""):(this.scopedSearchResults=[],this.keywordMetadataResults=this.transformedGlyphsService.transformGlyphs(e.results),this.keywordIconResultsSubject.next(this.keywordMetadataResults),this.keywordMetadataResultsHeaderText=`${this.keywordMetadataResults.length} ${1===this.keywordMetadataResults.length?"icon":"icons"} tagged with keyword&nbsp;&quot;<b>${this.keywords}</b>&quot;`):(this.keywordMetadataResults=this.transformedGlyphsService.transformGlyphs(this.removeDuplicates(this.scopedSearchResults,this.allResults.alsoLikes)),this.keywordIconResultsSubject.next(this.keywordMetadataResults),this.keywordMetadataResultsHeaderText="You may also like"),this.iconsReady=!0},this.createBlankLibraryGroupFacets=()=>{const e=this.libraryMetadataService.constructLibraryGroupFacets();return e.forEach(e=>{e.libraries.forEach(t=>{this.groupFacetByLibrary[t.name]=e})}),e.forEach(e=>{e.iconCount=0,e.isSelected=!1,e.collections=[],e.libraries=[]}),e},this.getLibraryCollections=e=>{let t;return this.searchResults&&!this.isEmpty(this.searchResults.libraries)&&(t=this.searchResults.libraries.find(t=>t.name===e)),t?t.collections:[]},this.getAllLibraryCollections=()=>{let e=[];return this.searchResults&&!this.isEmpty(this.searchResults.libraries)&&this.searchResults.libraries.forEach(t=>{ho(t.collections)||t.collections.forEach(t=>{e.push(t)})}),e},this.setFontMetaData=(e,t)=>{this.iconApiService.getCollection(e,t).subscribe(e=>{Jw(this.store,new vw(e.name,e.latestVersion,e.fontFiles,e.baseFileName,e.createdOn,e.modifiedOn,e.icons.length,e.iconType,e.supportedSizes,e.defaultSize,e.internalKey,e.libraryName))})},this.launchFeedbackModal=()=>{this.modalService.open(_P,{size:"lg",centered:!0,windowClass:"min-dialog-width"}).result.then(()=>{this.router.navigate(["/"])}).catch(()=>{this.router.navigate(["/"])})},this.removeDuplicates=(e,t)=>e?t.filter(t=>e.findIndex(e=>e.internalKey===t.internalKey)<0):t}transformGlyphs(e){return this.transformedGlyphsService.transformGlyphs(e)}isLibraryGroupFacetUnset(e){return!(e&&e.name&&e.name.length>0)}isEmpty(e){return!(e&&e.length&&e.length>0)}fixUpSvgXml(e){const t=(new DOMParser).parseFromString(e,"text/xml");return t.documentElement.removeAttribute("width"),t.documentElement.removeAttribute("height"),(new XMLSerializer).serializeToString(t.documentElement)}ngOnInit(){this.selectedCollection$=this.store.select(Zw),this.selectedIcon$=this.store.select(ZC),this.searchTerms$=this.store.select(tS),this.searchKeywords$=this.store.select(nS),this.searchImage$=this.store.select(iS),this.searchIcon$=this.store.select(rS),this.selectedLibraryGroup$=this.store.select(TS),this.selectedCollectionFacet$=this.store.select(MS),this.selectedSortByOption$=this.store.select($S),this.selectedViewScale$=this.store.select(VS),this.viewContext$=this.store.select(PE),OE(this.store,qw.search),this.selectedLibraryGroup=new Tw("All Libraries",0,!0,[],[]),this.allResults=new u_([],[]),this.canShowGhostIcon=!0,this.viewChangeEventSubscription=this.viewChangeEventObserver$.pipe(pc(e=>this.searchApiService.getAllResults(e,this.searchTerms,this.keywords,this.selectedLibraryGroup.name,this.selectedCollection.name,this.imageData,this.searchIcon),(e,t)=>[e,t])).subscribe(e=>{if(e&&"searchTermsChange"===e[0]&&e[1].length>0)this.selectedCollection&&this.searchApiService.searchIcons(this.searchTerms,!0,QS.KeywordsOnly,null,null,this.selectedLibraryGroup.name,this.selectedCollection.name).subscribe(t=>{this.allResults.alsoLikes=t,this.allResults.results=e[1],this.applyViewResults(this.allResults)});else if(e&&"searchImageChange"===e[0]&&e[1].length>0){if(this.selectedCollection){const t=this.selectedCollection.name,n=[];e[1].forEach(e=>{e[0].libraryName===this.selectedLibraryGroup.name&&e.forEach(e=>{e.fonts.some(e=>t===e)&&n.push(e)})}),this.allResults.results=n,this.applyViewResults(this.allResults)}}else if(e&&"searchIconChange"===e[0]&&e[1].length>0){if(this.selectedCollection){const t=this.selectedCollection.name,n=[];e[1].forEach(e=>{e[0].libraryName===this.selectedLibraryGroup.name&&e.forEach(e=>{e.fonts.some(e=>t===e)&&n.push(e)})}),this.allResults.results=n,this.applyViewResults(this.allResults)}}else this.allResults.results=e[1],this.applyViewResults(this.allResults)}),this.searchResults=this.searchResults?this.searchResults:new Nw([],[]),this.searchTermsSubscription=this.searchTerms$.subscribe(e=>{this.searchTerms!==e&&(this.searchTerms=e,this.scopedSearchResults=[],this.keywordMetadataResults=[],this.keywords="",this.imageData="",this.searchIcon="",this.isEmpty(e)||this.searchApiService.getAllLibraries(e,!0).subscribe(e=>{this.disableSearchResultsHeaderUpdates=!1,this.canVirtualScrollGrid=!1,this.searchResults=e,this.applySearchResultsLibraries(this.searchResults.libraries),this.alsoLikeIconResultsSubject.next(this.searchResults.allAlsoLikes)}))}),this.searchKeywordsSubscription=this.searchKeywords$.subscribe(e=>{this.keywords!==e&&(this.keywords=e,this.scopedSearchResults=[],this.keywordMetadataResults=[],this.searchTerms="",this.imageData="",this.searchIcon="",this.isEmpty(e)||this.searchApiService.getAllLibraries(e,!0,QS.KeywordsOnly).subscribe(e=>{this.disableSearchResultsHeaderUpdates=!1,this.canVirtualScrollGrid=!1,this.searchResults=e,this.searchResults.libraries&&this.searchResults.libraries.length>0&&this.setFontMetaData(this.searchResults.libraries[0].name,this.searchResults.libraries[0].collections[0].name),this.applySearchResultsLibraries(this.searchResults.libraries),!this.isLibraryGroupFacetUnset(this.selectedLibraryGroup)&&this.selectedCollection&&(this.onViewChangeEvent("searchKeywordsChange"),this.canVirtualScrollGrid=!1)}))}),this.searchImageSubscription=this.searchImage$.subscribe(e=>{this.imageData!==e&&(this.imageData=e,this.scopedSearchResults=[],this.keywordMetadataResults=[],this.keywords="",this.searchTerms="",this.searchIcon="",this.htmlContent=this.isEmpty(e)?"":this.sanitizer.bypassSecurityTrustHtml('<img style="max-height: 50%; max-width: 50%; max-height: 50%; min-width: 50%;width: auto; height: auto; position: absolute; top: 0; bottom: 0; left: 0; right: 0; margin: auto;" src="'+this.imageData+'"/>'),this.isEmpty(e)||(this.disableSearchResultsHeaderUpdates=!0,this.viewSearchResultsHeader='<span test-id="result-count">Searching for visually similar icons...</span>',this.viewSearchResultsHint="",this.searchApiService.getVisuallySimilarIconsByFile(e).subscribe(e=>{this.disableSearchResultsHeaderUpdates=!1,this.canVirtualScrollGrid=!1,this.searchResults=e,this.applySearchResultsLibraries(this.searchResults.libraries),!this.isLibraryGroupFacetUnset(this.selectedLibraryGroup)&&this.selectedCollection&&(this.onViewChangeEvent("searchImageChange"),this.canVirtualScrollGrid=!1)})))}),this.searchIconSubscription=this.searchIcon$.subscribe(e=>{this.searchIcon!==e&&(this.searchIcon=e,this.scopedSearchResults=[],this.keywordMetadataResults=[],this.keywords="",this.searchTerms="",this.imageData="",this.htmlContent="",!this.isEmpty(this.searchIcon)&&this.allResults&&this.allResults.results&&this.iconApiService.getIcon(this.searchIcon).toPromise().then(e=>{e&&(e.svgXml?this.htmlContent=this.sanitizer.bypassSecurityTrustHtml(this.fixUpSvgXml(e.svgXml)):e.pngBase64Data?this.htmlContent=this.sanitizer.bypassSecurityTrustHtml('<img style="max-height: 50%; max-width: 50%; max-height: 50%; min-width: 50%;width: auto; height: auto; position: absolute; top: 0; bottom: 0; left: 0; right: 0; margin: auto;" src="data:image/png;base64, '+e.pngBase64Data+'"/>'):e.glyph&&this.downloadApiService.getIconFileContents("",[e.internalKey],".svg").toPromise().then(e=>{e&&(this.htmlContent=this.sanitizer.bypassSecurityTrustHtml(this.fixUpSvgXml(e)))}))}),this.isEmpty(e)||(this.disableSearchResultsHeaderUpdates=!0,this.viewSearchResultsHeader='<span test-id="result-count">Searching for visually similar icons...</span>',this.viewSearchResultsHint="",this.searchApiService.getVisuallySimilarIconsByIcon(e).subscribe(e=>{this.disableSearchResultsHeaderUpdates=!1,this.canVirtualScrollGrid=!1,this.searchResults=e,this.applySearchResultsLibraries(this.searchResults.libraries),!this.isLibraryGroupFacetUnset(this.selectedLibraryGroup)&&this.selectedCollection&&(this.onViewChangeEvent("searchIconChange"),this.canVirtualScrollGrid=!1)})))}),this.selectedLibraryGroupSubscription=this.selectedLibraryGroup$.subscribe(e=>{if(this.selectedLibraryGroup=e,this.selectedLibraryNames=this.selectedLibraryGroup.libraries.map(e=>e.name),!this.isLibraryGroupFacetUnset(this.selectedLibraryGroup)){this.setSearchResultsHeader(this.selectedLibraryGroup.iconCount);let e=this.getLibraryCollections(this.selectedLibraryGroup.name);e=e.filter(e=>e.iconCount>0),e.length!==this.selectedLibraryGroup.collections.length&&(this.selectedLibraryGroup.collections=e,AS(this.store,this.selectedLibraryGroup))}this.canShowGridLibraryHeader="All Libraries"===this.selectedLibraryGroup.name}),this.selectedCollectionsSubscription=this.selectedCollectionFacet$.subscribe(e=>{this.selectedCollection=e,this.selectedCollection?(this.isEmpty(this.searchTerms)?this.isEmpty(this.keywords)?this.isEmpty(this.imageData)?this.isEmpty(this.searchIcon)||this.onViewChangeEvent("searchIconChange"):this.onViewChangeEvent("searchImageChange"):this.onViewChangeEvent("searchKeywordsChange"):this.onViewChangeEvent("searchTermsChange"),this.canVirtualScrollGrid=!1,this.setSearchResultsHeader(this.selectedCollection.iconCount)):this.isLibraryGroupFacetUnset(this.selectedLibraryGroup)||this.setSearchResultsHeader(this.selectedLibraryGroup.iconCount)}),this.routeSubscription=this.route.url.subscribe(e=>{e&&e[0]&&e[0].path&&"feedback"===e[0].path&&this.launchFeedbackModal(),e&&e.length>1&&"search"===e[0].path&&"image"===e[1].path&&""===this.imageData&&this.router.navigate(["/"])})}ngOnDestroy(){this.routeSubscription.unsubscribe(),this.viewChangeEventSubscription.unsubscribe(),this.selectedFontsSubscription.unsubscribe(),this.searchTermsSubscription.unsubscribe(),this.searchKeywordsSubscription.unsubscribe(),this.searchImageSubscription.unsubscribe(),this.searchIconSubscription.unsubscribe(),this.selectedLibraryGroupSubscription.unsubscribe(),this.selectedCollectionsSubscription.unsubscribe()}}var vD=jn({encapsulation:0,styles:[[".main-content-container[_ngcontent-%COMP%]{overflow:hidden;margin-left:260px;min-height:500px}.card-list[_ngcontent-%COMP%]{list-style-type:none}.absolute[_ngcontent-%COMP%], .position-absolute[_ngcontent-%COMP%]{top:1.1em;right:30px;z-index:1}.extra-bottom-margin[_ngcontent-%COMP%]     ul.grid-container, .keyword-results-grid[_ngcontent-%COMP%]     ul.grid-container{margin-bottom:30px}.results-heading-center[_ngcontent-%COMP%]{margin-left:calc(260px * -1);justify-content:center}.filter-select-container[_ngcontent-%COMP%], .view-header-counts-pill-container[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.15)}.filter-select-container[_ngcontent-%COMP%]{flex-shrink:1;flex-grow:1;margin-right:32px}.filter-select-container[_ngcontent-%COMP%]   .sort-filter-select[_ngcontent-%COMP%]{margin-bottom:-9px}.filter-select-container[_ngcontent-%COMP%]   .sort-filter-select[_ngcontent-%COMP%]     .dropdown-menu{top:23px!important}.visual-search-image-container[_ngcontent-%COMP%]{width:103px;height:103px;border-radius:4px;margin-top:24px;border:1px solid #dee2e6;position:relative}"]],data:{animation:[{type:7,name:"fadeIn",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0,height:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1,height:"*"},offset:null},timings:"400ms ease-in"}],options:null}],options:{}},{type:7,name:"fadeOut",definitions:[{type:1,expr:":leave",animation:[{type:6,styles:{opacity:1,height:"*"},offset:null},{type:4,styles:{type:6,styles:{opacity:0,height:0},offset:null},timings:"250ms ease-in-out"}],options:null}],options:{}}]}});function wD(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"div",[["class","visual-search-image-container"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,1,0,t.component.htmlContent)}))}function CD(e){return Xl(0,[(e()(),Dl(0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"a",[["href","#"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onSearchAllLibrariesClick(n)&&i),i}),null,null)),(e()(),Wl(-1,null,["search across all libraries"])),(e()(),Wl(-1,null,["."]))],null,null)}function SD(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"div",[["class","d-flex px-2 mt-4"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"span",[["class","pr-1"],["test-id","zero-result-hint"]],null,null,null,null,null)),(e()(),Wl(2,null,["",""])),(e()(),Ol(16777216,null,null,1,null,CD)),Yi(4,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,4,0,!0===t.component.canShowAllLibrariesLinkInHint)}),(function(e,t){e(t,2,0,t.component.viewSearchResultsHint)}))}function _D(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"section",[["class","extra-bottom-margin"]],[[24,"@fadeIn",0],[24,"@fadeOut",0]],null,null,null,null)),(e()(),Dl(1,0,null,null,1,"icon-grid",[],null,[[null,"onIconSelection"],["window","keydown"]],(function(e,t,n){var i=!0,r=e.component;return"window:keydown"===t&&(i=!1!==Vi(e,2).keyEvent(n)&&i),"onIconSelection"===t&&(i=!1!==r.onIconSelection(n)&&i),i}),NO,kO)),Yi(2,4440064,null,0,SO,[Gv,wt,xO,b_,WS,h_,c_,l_,y_,i_,KS,Hb,Kt,Xt,p_,a_,v_,Xt,xt,dl],{isDynamic:[0,"isDynamic"],iconsReady:[1,"iconsReady"],icons:[2,"icons"],icons$:[3,"icons$"],selectedCollection$:[4,"selectedCollection$"],selectedCollectionFacet$:[5,"selectedCollectionFacet$"],selectedLibraryGroup$:[6,"selectedLibraryGroup$"],viewContext$:[7,"viewContext$"],selectedIcon$:[8,"selectedIcon$"],selectedSortByOption$:[9,"selectedSortByOption$"],selectedViewScale$:[10,"selectedViewScale$"],showHeading:[11,"showHeading"],headingDisplayText:[12,"headingDisplayText"],canScrollGrid:[13,"canScrollGrid"],canShowGhostIcon:[14,"canShowGhostIcon"],libraryName:[15,"libraryName"],collections:[16,"collections"],selectedCollection:[17,"selectedCollection"],libraryGroupName:[18,"libraryGroupName"]},{onIconSelection:"onIconSelection"})],(function(e,t){var n=t.component;e(t,2,1,[!1,n.iconsReady,n.transformGlyphs(t.parent.context.$implicit.icons),n.iconResults$,n.selectedCollection$,n.selectedCollectionFacet$,n.selectedLibraryGroup$,n.viewContext$,n.selectedIcon$,n.selectedSortByOption$,n.selectedViewScale$,(n.searchTerms.length>0||n.keywords.length>0||n.imageData.length>0||n.searchIcon.length>0)&&n.canShowGridLibraryHeader,t.parent.context.$implicit.name,n.canVirtualScrollGrid,n.canShowGhostIcon,t.parent.context.$implicit.name,t.parent.context.$implicit.collections,n.selectedCollection,t.parent.context.$implicit.libraryGroupName])}),(function(e,t){e(t,0,0,void 0,void 0)}))}function xD(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"section",[["class","view-header col-12 mx-2 p-0"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"h5",[["class","font-weight-normal d-inline-flex mt-2"]],null,null,null,null,null)),(e()(),Wl(-1,null,["You may also like"])),(e()(),Dl(3,16777216,null,null,1,"a",[["class","info-icon text-primary d-inline-flex mt-1"],["placement","right"],["test-id","search-tip"]],null,null,null,null,null)),Yi(4,737280,null,0,wk,[Xt,nn,xt,Kt,xn,yk,Wr,Oa,wt,dl],{ngbPopover:[0,"ngbPopover"],popoverTitle:[1,"popoverTitle"],placement:[2,"placement"]},null)],(function(e,t){e(t,4,0,Vi(t.parent.parent.parent,30),Vi(t.parent.parent.parent,29),"right")}),null)}function ID(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"section",[["class","extra-bottom-margin"]],[[24,"@fadeIn",0],[24,"@fadeOut",0]],null,null,null,null)),(e()(),Dl(1,0,null,null,1,"icon-grid",[],null,[[null,"onIconSelection"],["window","keydown"]],(function(e,t,n){var i=!0,r=e.component;return"window:keydown"===t&&(i=!1!==Vi(e,2).keyEvent(n)&&i),"onIconSelection"===t&&(i=!1!==r.onIconSelection(n)&&i),i}),NO,kO)),Yi(2,4440064,null,0,SO,[Gv,wt,xO,b_,WS,h_,c_,l_,y_,i_,KS,Hb,Kt,Xt,p_,a_,v_,Xt,xt,dl],{isDynamic:[0,"isDynamic"],iconsReady:[1,"iconsReady"],icons:[2,"icons"],icons$:[3,"icons$"],selectedCollection$:[4,"selectedCollection$"],selectedCollectionFacet$:[5,"selectedCollectionFacet$"],selectedLibraryGroup$:[6,"selectedLibraryGroup$"],viewContext$:[7,"viewContext$"],selectedIcon$:[8,"selectedIcon$"],selectedSortByOption$:[9,"selectedSortByOption$"],selectedViewScale$:[10,"selectedViewScale$"],showHeading:[11,"showHeading"],headingDisplayText:[12,"headingDisplayText"],canScrollGrid:[13,"canScrollGrid"],canShowGhostIcon:[14,"canShowGhostIcon"],libraryName:[15,"libraryName"],collections:[16,"collections"],selectedCollection:[17,"selectedCollection"],libraryGroupName:[18,"libraryGroupName"]},{onIconSelection:"onIconSelection"})],(function(e,t){var n=t.component;e(t,2,1,[!1,n.iconsReady,t.parent.context.$implicit.alsoLikes,n.iconResults$,n.selectedCollection$,n.selectedCollectionFacet$,n.selectedLibraryGroup$,n.viewContext$,n.selectedIcon$,n.selectedSortByOption$,n.selectedViewScale$,(n.searchTerms.length>0||n.keywords.length>0)&&n.canShowGridLibraryHeader,t.parent.context.$implicit.name,n.canVirtualScrollGrid,n.canShowGhostIcon,t.parent.context.$implicit.name,t.parent.context.$implicit.collections,n.selectedCollection,t.parent.context.$implicit.libraryGroupName])}),(function(e,t){e(t,0,0,void 0,void 0)}))}function kD(e){return Xl(0,[(e()(),Dl(0,0,null,null,6,"section",[["class","col-12 mx-2 p-0"],["test-id","results-grid"]],[[1,"test-library-name",0]],null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,_D)),Yi(2,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,xD)),Yi(4,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,ID)),Yi(6,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.selectedLibraryGroup.name===n.allLibrariesName||n.selectedLibraryNames.includes(t.context.$implicit.name)),e(t,4,0,t.context.$implicit.name===n.selectedLibraryGroup.name&&t.context.$implicit.alsoLikes&&t.context.$implicit.alsoLikes.length>0),e(t,6,0,t.context.$implicit.name===n.selectedLibraryGroup.name&&t.context.$implicit.alsoLikes&&t.context.$implicit.alsoLikes.length>0)}),(function(e,t){e(t,0,0,t.context.$implicit.name)}))}function TD(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"section",[["class","view-header col-12 mx-2 p-0"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"h5",[["class","font-weight-normal d-inline-flex mt-2"]],null,null,null,null,null)),(e()(),Wl(-1,null,["You may also like"])),(e()(),Dl(3,16777216,null,null,1,"a",[["class","info-icon text-primary d-inline-flex mt-1"],["placement","right"],["test-id","search-tip"]],null,null,null,null,null)),Yi(4,737280,null,0,wk,[Xt,nn,xt,Kt,xn,yk,Wr,Oa,wt,dl],{ngbPopover:[0,"ngbPopover"],popoverTitle:[1,"popoverTitle"],placement:[2,"placement"]},null)],(function(e,t){e(t,4,0,Vi(t.parent.parent,30),Vi(t.parent.parent,29),"right")}),null)}function MD(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"section",[["class","col-12 mx-2 p-0 keyword-results-grid"],["test-id","keyword-results-grid"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"icon-grid",[],null,[[null,"onIconSelection"],["window","keydown"]],(function(e,t,n){var i=!0,r=e.component;return"window:keydown"===t&&(i=!1!==Vi(e,2).keyEvent(n)&&i),"onIconSelection"===t&&(i=!1!==r.onIconSelection(n)&&i),i}),NO,kO)),Yi(2,4440064,null,0,SO,[Gv,wt,xO,b_,WS,h_,c_,l_,y_,i_,KS,Hb,Kt,Xt,p_,a_,v_,Xt,xt,dl],{isDynamic:[0,"isDynamic"],iconsReady:[1,"iconsReady"],icons:[2,"icons"],icons$:[3,"icons$"],selectedCollection$:[4,"selectedCollection$"],selectedCollectionFacet$:[5,"selectedCollectionFacet$"],selectedLibraryGroup$:[6,"selectedLibraryGroup$"],viewContext$:[7,"viewContext$"],selectedIcon$:[8,"selectedIcon$"],selectedSortByOption$:[9,"selectedSortByOption$"],selectedViewScale$:[10,"selectedViewScale$"],showHeading:[11,"showHeading"],canScrollGrid:[12,"canScrollGrid"],canShowGhostIcon:[13,"canShowGhostIcon"],libraryName:[14,"libraryName"],collections:[15,"collections"],selectedCollection:[16,"selectedCollection"],libraryGroupName:[17,"libraryGroupName"]},{onIconSelection:"onIconSelection"})],(function(e,t){var n=t.component;e(t,2,1,[!1,n.iconsReady,n.searchResults.allAlsoLikes,n.alsoLikeIconResults$,n.selectedCollection$,n.selectedCollectionFacet$,n.selectedLibraryGroup$,n.viewContext$,n.selectedIcon$,n.selectedSortByOption$,n.selectedViewScale$,!1,!1,n.canShowGhostIcon,n.selectedLibraryGroup.name,n.getAllLibraryCollections(),n.selectedCollection,n.selectedLibraryGroup.name])}),null)}function ED(e){return Xl(0,[(e()(),Dl(0,0,null,null,6,"section",[],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,kD)),Yi(2,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null),(e()(),Ol(16777216,null,null,1,null,TD)),Yi(4,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,MD)),Yi(6,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.searchResults.libraries),e(t,4,0,n.selectedLibraryGroup.name===n.allLibrariesName&&n.searchResults.allAlsoLikes&&n.searchResults.allAlsoLikes.length>0),e(t,6,0,n.selectedLibraryGroup.name===n.allLibrariesName&&n.searchResults.allAlsoLikes&&n.searchResults.allAlsoLikes.length>0)}),null)}function PD(e){return Xl(0,[(e()(),Dl(0,0,null,null,3,"section",[["class","view-header col-12 mx-2 p-0"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,0,"h5",[["class","font-weight-normal d-inline-flex mt-2"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),Dl(2,16777216,null,null,1,"a",[["class","info-icon text-primary d-inline-flex mt-1"],["placement","right"],["test-id","search-tip"]],null,null,null,null,null)),Yi(3,737280,null,0,wk,[Xt,nn,xt,Kt,xn,yk,Wr,Oa,wt,dl],{ngbPopover:[0,"ngbPopover"],popoverTitle:[1,"popoverTitle"],placement:[2,"placement"]},null)],(function(e,t){e(t,3,0,Vi(t.parent.parent,30),Vi(t.parent.parent,29),"right")}),(function(e,t){e(t,1,0,t.component.keywordMetadataResultsHeaderText)}))}function OD(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"section",[["class","col-12 mx-2 p-0 keyword-results-grid"],["test-id","keyword-results-grid"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"icon-grid",[],null,[[null,"onIconSelection"],["window","keydown"]],(function(e,t,n){var i=!0,r=e.component;return"window:keydown"===t&&(i=!1!==Vi(e,2).keyEvent(n)&&i),"onIconSelection"===t&&(i=!1!==r.onIconSelection(n)&&i),i}),NO,kO)),Yi(2,4440064,null,0,SO,[Gv,wt,xO,b_,WS,h_,c_,l_,y_,i_,KS,Hb,Kt,Xt,p_,a_,v_,Xt,xt,dl],{isDynamic:[0,"isDynamic"],iconsReady:[1,"iconsReady"],icons:[2,"icons"],icons$:[3,"icons$"],selectedCollection$:[4,"selectedCollection$"],selectedCollectionFacet$:[5,"selectedCollectionFacet$"],selectedLibraryGroup$:[6,"selectedLibraryGroup$"],viewContext$:[7,"viewContext$"],selectedIcon$:[8,"selectedIcon$"],selectedSortByOption$:[9,"selectedSortByOption$"],selectedViewScale$:[10,"selectedViewScale$"],showHeading:[11,"showHeading"],canScrollGrid:[12,"canScrollGrid"],canShowGhostIcon:[13,"canShowGhostIcon"],libraryName:[14,"libraryName"],collections:[15,"collections"],selectedCollection:[16,"selectedCollection"],libraryGroupName:[17,"libraryGroupName"]},{onIconSelection:"onIconSelection"})],(function(e,t){var n=t.component;e(t,2,1,[!1,n.iconsReady,n.keywordMetadataResults,n.keywordIconResults$,n.selectedCollection$,n.selectedCollectionFacet$,n.selectedLibraryGroup$,n.viewContext$,n.selectedIcon$,n.selectedSortByOption$,n.selectedViewScale$,!1,!1,n.canShowGhostIcon,n.selectedLibraryGroup.name,n.getLibraryCollections(n.selectedLibraryGroup.name),n.selectedCollection,n.selectedLibraryGroup.name])}),null)}function DD(e){return Xl(0,[(e()(),Dl(0,0,null,null,10,"section",[],null,null,null,null,null)),(e()(),Dl(1,0,null,null,5,"section",[["class","col-12 mx-2 p-0"],["test-id","results-grid"]],[[1,"test-library-name",0]],null,null,null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(3,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(4,{"extra-bottom-margin":0}),(e()(),Dl(5,0,null,null,1,"icon-grid",[],null,[[null,"onIconSelection"],["window","keydown"]],(function(e,t,n){var i=!0,r=e.component;return"window:keydown"===t&&(i=!1!==Vi(e,6).keyEvent(n)&&i),"onIconSelection"===t&&(i=!1!==r.onIconSelection(n)&&i),i}),NO,kO)),Yi(6,4440064,null,0,SO,[Gv,wt,xO,b_,WS,h_,c_,l_,y_,i_,KS,Hb,Kt,Xt,p_,a_,v_,Xt,xt,dl],{isDynamic:[0,"isDynamic"],iconsReady:[1,"iconsReady"],icons:[2,"icons"],icons$:[3,"icons$"],selectedCollection$:[4,"selectedCollection$"],selectedCollectionFacet$:[5,"selectedCollectionFacet$"],selectedLibraryGroup$:[6,"selectedLibraryGroup$"],viewContext$:[7,"viewContext$"],selectedIcon$:[8,"selectedIcon$"],selectedSortByOption$:[9,"selectedSortByOption$"],selectedViewScale$:[10,"selectedViewScale$"],showHeading:[11,"showHeading"],headingDisplayText:[12,"headingDisplayText"],canScrollGrid:[13,"canScrollGrid"],canShowGhostIcon:[14,"canShowGhostIcon"],libraryName:[15,"libraryName"],collections:[16,"collections"],selectedCollection:[17,"selectedCollection"],libraryGroupName:[18,"libraryGroupName"]},{onIconSelection:"onIconSelection"}),(e()(),Ol(16777216,null,null,1,null,PD)),Yi(8,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,OD)),Yi(10,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,i=e(t,4,0,0===n.keywordMetadataResults.length);e(t,3,0,"col-12 mx-2 p-0",i),e(t,6,1,[!0,n.iconsReady,n.scopedSearchResults,n.iconResults$,n.selectedCollection$,n.selectedCollectionFacet$,n.selectedLibraryGroup$,n.viewContext$,n.selectedIcon$,n.selectedSortByOption$,n.selectedViewScale$,!1,n.selectedLibraryGroup.name,n.canVirtualScrollGrid,n.canShowGhostIcon,n.selectedLibraryGroup.name,n.getLibraryCollections(n.selectedLibraryGroup.name),n.selectedCollection,n.selectedLibraryGroup.name]),e(t,8,0,n.keywordMetadataResults.length>0&&n.scopedSearchResults&&n.scopedSearchResults.length>0),e(t,10,0,n.keywordMetadataResults.length>0)}),(function(e,t){e(t,1,0,t.component.selectedLibraryGroup.name)}))}function ND(e){return Xl(0,[(e()(),Wl(-1,null,["Keywords containing search term"]))],null,null)}function RD(e){return Xl(0,[(e()(),Wl(-1,null,["With "])),(e()(),Dl(1,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),Wl(-1,null,["artificial intelligence"])),(e()(),Wl(-1,null,[", icons are auto-tagged with keywords. Results may not be accurate and will continue to improve over time. "]))],null,null)}function AD(e){return Xl(0,[(e()(),Dl(0,0,null,null,26,"section",[["class","row main-content-container d-block"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"filter-panel-container",[],null,null,null,BO,GO)),Yi(2,245760,null,0,zO,[Gv,qS],null,null),(e()(),Dl(3,0,null,null,21,"section",[["class","results-grid-container"]],null,null,null,null,null)),(e()(),Dl(4,0,null,null,16,"section",[["class","p-0 m-0"]],null,null,null,null,null)),(e()(),Dl(5,0,null,null,13,"section",[["class","view-header d-flex col-12 p-0 mb-3 ml-2 mr-4"]],null,null,null,null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(7,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(8,{"mb-0":0}),(e()(),Dl(9,0,null,null,5,"section",[["class","view-header-counts-pill-container d-flex flex-column col-6 px-0 pb-2"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,wD)),Yi(11,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(12,0,null,null,0,"h5",[["class","pt-4 mb-0 font-weight-normal"],["test-id","search-header"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),Dl(13,0,null,null,1,"pill-bar",[],null,null,null,QO,KO)),Yi(14,245760,null,0,qO,[Kt,Gv],null,null),(e()(),Dl(15,0,null,null,3,"section",[["class","filter-select-container d-flex flex-column col-6 justify-content-end align-items-end pb-2 pr-0"]],null,null,null,null,null)),(e()(),Dl(16,0,null,null,2,"aside",[["class","sort-filter-select"]],null,null,null,null,null)),(e()(),Dl(17,0,null,null,1,"sort-filter-select",[],null,null,null,pD,cD)),Yi(18,245760,null,0,aD,[qS,Hb,Gv],{viewContext$:[0,"viewContext$"],iconType:[1,"iconType"]},null),(e()(),Ol(16777216,null,null,1,null,SD)),Yi(20,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,ED)),Yi(22,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,DD)),Yi(24,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(25,0,null,null,1,"toast",[],null,null,null,yD,gD)),Yi(26,245760,null,0,fD,[b_],null,null),(e()(),Dl(27,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Yi(28,212992,null,0,tp,[ep,xn,Kt,[8,null],wt],null,null),(e()(),Ol(0,[["keywordTitle",2]],null,0,null,ND)),(e()(),Ol(0,[["keywordContent",2]],null,0,null,RD))],(function(e,t){var n=t.component;e(t,2,0);var i=e(t,8,0,n.selectedLibraryGroup&&n.selectedLibraryGroup.name===n.allLibrariesName);e(t,7,0,"view-header d-flex col-12 p-0 mb-3 ml-2 mr-4",i),e(t,11,0,!n.isEmpty(n.imageData)||!n.isEmpty(n.searchIcon)),e(t,14,0),e(t,18,0,n.viewContext$,n.emptyString),e(t,20,0,n.viewSearchResultsHint.length>0),e(t,22,0,!n.selectedCollection),e(t,24,0,n.selectedCollection),e(t,26,0),e(t,28,0)}),(function(e,t){e(t,12,0,t.component.viewSearchResultsHeader)}))}function LD(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"search-results-view",[],null,null,null,AD,vD)),Yi(1,245760,null,0,bD,[Uh,ck,Zd,Hb,WS,h_,KS,v_,i_,Cu,Gv],null,null)],(function(e,t){e(t,1,0)}),null)}var FD=Mi("search-results-view",bD,LD,{},{},[]);class $D{}var VD=jn({encapsulation:2,styles:[],data:{}});function UD(e){return Xl(0,[(e()(),Dl(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Yi(1,212992,null,0,tp,[ep,xn,Kt,[8,null],wt],null,null)],(function(e,t){e(t,1,0)}),null)}function jD(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"empty",[],null,null,null,UD,VD)),Yi(1,49152,null,0,$D,[],null,null)],null,null)}var zD=Mi("empty",$D,jD,{},{},[]);class GD{constructor(){this.isLoaded=!1,this.showVersionTimeStamp=!1}ngOnInit(){this.evaluateShowVersionTimeStamp(),this.isLoaded=!0}evaluateShowVersionTimeStamp(){this.showVersionTimeStamp=null!==this.libraryMetadata.version&&null!=this.libraryMetadata.version}getIconType(){return"Svg"===this.libraryMetadata.iconType?this.libraryMetadata.iconType.toLocaleUpperCase():this.libraryMetadata.iconType}getVersionTimeStamp(){return"v"+this.libraryMetadata.version+", "+this.libraryMetadata.modifiedOn}}var BD=jn({encapsulation:0,styles:[[".separator[_ngcontent-%COMP%]{height:4px;width:4px;border-radius:50%;background:#c4c4c4}.bottom-line[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.15);margin:8px 30px 0 8px;padding-bottom:8px}"]],data:{}});function HD(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"span",[["class","separator mx-2"]],null,null,null,null,null))],null,null)}function qD(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","small text-secondary font-weight-normal"],["test-id","librarySummary_versionTimeStamp"]],null,null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.getVersionTimeStamp())}))}function KD(e){return Xl(0,[(e()(),Dl(0,0,null,null,9,"section",[["class","d-flex align-items-center bottom-line"]],[[1,"test-id",0]],null,null,null,null)),(e()(),Dl(1,0,null,null,1,"span",[["class","small text-secondary font-weight-normal"],["test-id","librarySummary_type"]],null,null,null,null,null)),(e()(),Wl(2,null,["",""])),(e()(),Dl(3,0,null,null,0,"span",[["class","separator mx-2"]],null,null,null,null,null)),(e()(),Dl(4,0,null,null,1,"span",[["class","small text-secondary font-weight-normal"],["test-id","librarySummary_iconcount"]],null,null,null,null,null)),(e()(),Wl(5,null,[""," Collections, "," Icons"])),(e()(),Ol(16777216,null,null,1,null,HD)),Yi(7,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,qD)),Yi(9,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,7,0,n.showVersionTimeStamp),e(t,9,0,n.showVersionTimeStamp)}),(function(e,t){var n=t.component;e(t,0,0,fi(1,"library-summary-",n.libraryMetadata.name,"")),e(t,2,0,n.getIconType()),e(t,5,0,n.libraryMetadata.collectionCount,n.libraryMetadata.iconCount)}))}function WD(e){return Xl(0,[(e()(),Ol(16777216,null,null,1,null,KD)),Yi(1,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.isLoaded)}),null)}class QD{constructor(){this.isLoaded=!1}ngOnInit(){this.isLoaded=!0}}var ZD=jn({encapsulation:0,styles:[[".separator[_ngcontent-%COMP%]{height:4px;width:4px;border-radius:50%;background:#c4c4c4}.bottom-line[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.15);margin:8px 30px 0 8px;padding-bottom:8px}"]],data:{}});function XD(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"section",[["class","bottom-line d-flex align-items-center"]],[[1,"test-id",0]],null,null,null,null)),(e()(),Dl(1,0,null,null,1,"span",[["class","small text-secondary font-weight-normal"],["test-id","librarySummary_iconcount"]],null,null,null,null,null)),(e()(),Wl(2,null,[""," Collections, "," Icons"]))],null,(function(e,t){var n=t.component;e(t,0,0,fi(1,"library-group-summary-",n.libraryGroup.name,"")),e(t,2,0,n.libraryGroup.collections.length,n.libraryGroup.iconCount)}))}function YD(e){return Xl(0,[(e()(),Ol(16777216,null,null,1,null,XD)),Yi(1,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.isLoaded)}),null)}class JD{constructor(e){this.store=e,this.showCollectionAsLink=!1,this.showLibraryAsLink=!0,this.collectionNames=[],this.viewContext=qw.browse,this.onLibraryNameClick=e=>{Yw(this.store,new Uw(e,"","")),LS(this.store,null),JC(this.store,null),EE(this.store,"browse")},this.onCollectionNameClick=e=>{Yw(this.store,new Uw(this.libraryName,e,"")),1===this.collectionNames.length&&this.viewContext===qw.browse&&JC(this.store,null),EE(this.store,"browse")}}ngOnInit(){this.viewContextString=function(e){let t;switch(e){case qw.browse:t="browse";break;case qw.home:t="home";break;case qw.search:t="search";break;default:t=""}return t}(this.viewContext),0===this.collectionName.length&&1===this.collectionNames.length&&(this.collectionName=this.collectionNames[0])}ngOnChanges(e){this.collectionName=e.collectionName?e.collectionName.currentValue:"",e.collectionNames&&1===e.collectionNames.currentValue.length?this.collectionName=e.collectionNames?e.collectionNames.currentValue[0]:this.collectionNames[0]:e.collectionNames&&e.collectionNames.currentValue.length>1&&(this.collectionName="")}}var eN=jn({encapsulation:0,styles:[['@charset "UTF-8";@font-face{font-family:CortMDL2;src:url(/assets/fonts/CortMDL2.woff) format("woff");font-weight:400;font-style:normal}@font-face{font-family:MemMDL2;src:url(/assets/fonts/MemMDL2.woff) format("woff");font-weight:400;font-style:normal}.right-chevron-icon[_ngcontent-%COMP%]{font-family:MemMDL2;font-size:14px}.right-chevron-icon[_ngcontent-%COMP%]:before{content:"\ue76c"}a[_ngcontent-%COMP%]:hover{cursor:pointer}.dropdown-menu[_ngcontent-%COMP%]{border:0;box-shadow:0 .2rem .75rem .1rem rgba(0,0,0,.15)!important;min-width:215px;top:auto;left:-24px!important;cursor:pointer}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#0078d4;color:#fff!important}']],data:{}});function tN(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"a",[["class","text-primary text-decoration-none"]],null,[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onLibraryNameClick(r.libraryName)&&i),i}),null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.libraryName)}))}function nN(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.libraryName)}))}function iN(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"span",[["class","right-chevron-icon mx-2"]],null,null,null,null,null))],null,null)}function rN(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.collectionName.replace("Assets","").trim())}))}function lN(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"a",[["class","text-primary text-decoration-none"]],null,[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onCollectionNameClick(r.collectionName)&&i),i}),null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.collectionName.replace("Assets","").trim())}))}function sN(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"a",[["class","dropdown-item text-primary"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onCollectionNameClick(e.context.$implicit)&&i),i}),null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){var n=t.context.$implicit.replace("Assets","").trim();e(t,1,0,n)}))}function oN(e){return Xl(0,[(e()(),Dl(0,0,null,null,5,"div",[["class","dropdown d-inline"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"a",[["class","dropdown-toggle text-primary text-decoration-none"],["data-toggle","dropdown"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Multiple Collections"])),(e()(),Dl(3,0,null,null,2,"div",[["aria-labelledby","dropdown-menu"],["class","dropdown-menu py-3"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,sN)),Yi(5,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,5,0,t.component.collectionNames)}),null)}function aN(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"span",[["class","right-chevron-icon mx-2"]],null,null,null,null,null))],null,null)}function cN(e){return Xl(0,[(e()(),Ol(16777216,null,null,1,null,tN)),Yi(1,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,nN)),Yi(3,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,iN)),Yi(5,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,rN)),Yi(7,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,lN)),Yi(9,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,oN)),Yi(11,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,aN)),Yi(13,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,!0===n.showLibraryAsLink),e(t,3,0,!1===n.showLibraryAsLink),e(t,5,0,!0===n.showLibraryAsLink),e(t,7,0,!1===n.showCollectionAsLink||!0===n.showCollectionAsLink&&"browse"===n.viewContextString),e(t,9,0,!0===n.showCollectionAsLink&&n.collectionName.length>0&&"search"===n.viewContextString),e(t,11,0,!0===n.showCollectionAsLink&&0===n.collectionName.length&&n.collectionNames.length>1),e(t,13,0,!0===n.showCollectionAsLink&&(n.collectionName.length>0||n.collectionNames.length>1))}),null)}class uN{constructor(e,t,n){this.store=e,this.libraryMetadataService=t,this.styleLoaderService=n,this.onCollectionClicked=new Cr,this.libraryDataByCollection={},this.containerClassNamePrefix="collection-card-grid",this.pageIndex=0,this.totalPages=0,this.pageSize=32,this.groupCollectionMetadata=[],this.iconFontMetadataLookup={},this.groupLibraryDataItems=[],this.selectedLibrarySubscription=new h,this.resizeWindowSubscription=new h,this.libraryMetaDataSubscription=new h,this.backfillIconGrid=()=>{this.paginateVisibleCollectionsBackfill()},this.recalcMaxItemsPerPage=()=>{const e=window.innerWidth-245,t=window.innerHeight/135*(e/220);return Math.floor(t)},this.onCollectionSelection=e=>{this.onCollectionClicked.emit(e.collection)},this.onScrollDown=()=>{if(this.pageIndex>=this.totalPages)return!1;this.paginateVisibleCollections()},this.onScrollUp=()=>{}}initializeFontDownloadData(){this.groupLibraryDataItems.forEach(e=>{null!=e.collectionsDownloadMetadata&&e.collectionsDownloadMetadata.forEach(e=>{this.iconFontMetadataLookup[e.name]=e.metaData})})}initializeVisibleCollections(){this.visibleCollections=[],this.pageIndex=0;let e=0;this.groupLibraryDataItems.forEach(t=>e+=t.collectionCount),this.totalPages=e/this.pageSize,this.paginateVisibleCollections()}initializeFacetsForStyleLoader(){this.collections=[],this.groupCollectionMetadata=[],this.libraryDataByCollection={},this.groupLibraryDataItems.forEach(e=>{e.collectionNames.forEach(t=>{const n=e.collectionsMetadata.find(e=>e.name===t);this.groupCollectionMetadata.push(n),this.collections.push(new bw(t,0,!0,n.internalKey,e.name)),this.libraryDataByCollection[n.internalKey]=e})})}createCollectionItem(e){return new Sw(e,Ra(this.iconFontMetadataLookup[e.name]))}paginateVisibleCollections(){const e=void 0===this.visibleCollections?0:this.visibleCollections.length,t=void 0===this.visibleCollections?this.pageSize-1:(this.pageIndex+1)*this.pageSize-1;this.visibleCollections=0===this.pageIndex?this.groupCollectionMetadata.slice(e,t+1).map(e=>this.createCollectionItem(e)):this.visibleCollections.concat(this.groupCollectionMetadata.slice(e,t+1).map(e=>this.createCollectionItem(e))),this.pageIndex=(t+1)/this.pageSize}paginateVisibleCollectionsBackfill(){const e=this.recalcMaxItemsPerPage();if(this.visibleCollections&&this.visibleCollections.length>0&&this.visibleCollections.length<this.recalcMaxItemsPerPage()){const t=e-1;this.visibleCollections=this.visibleCollections.concat(this.groupCollectionMetadata.slice(this.visibleCollections.length,t+1).map(e=>this.createCollectionItem(e))),this.pageIndex=t/this.pageSize}}hasGlyphType(){return this.groupLibraryDataItems.some(e=>"Glyph"===e.iconType)}ngOnInit(){this.selectedLibraryGroup$=this.store.select(TS),this.selectedLibrarySubscription=this.selectedLibraryGroup$.subscribe(e=>{e&&(this.libraryGroup=e,this.containerClassName=this.styleLoaderService.constructContainerClassName(this.containerClassNamePrefix,e.name),this.libraryMetaDataSubscription=this.libraryMetadataService.allLibraryMetadataAvailable$.subscribe(t=>{t&&(this.groupLibraryDataItems=this.libraryMetadataService.getLibrariesByGroupName(e.name),this.groupLibraryDataItems&&0===e.collections.length&&(this.groupLibraryDataItems.forEach(t=>{t.collectionNames.forEach(n=>{const i=t.collectionsMetadata.find(e=>e.name===n);e.collections.push(new bw(n,0,!0,i.internalKey,t.name))})}),AS(this.store,e)),this.initializeFacetsForStyleLoader(),this.initializeFontDownloadData(),this.initializeVisibleCollections(),this.backfillIconGrid(),this.isReady=!0,this.libraryMetaDataSubscription.unsubscribe())}))}),this.resizeWindowSubscription=qx(window,"resize").pipe(vP(200)).subscribe(()=>{this.backfillIconGrid()})}ngOnDestroy(){this.selectedLibrarySubscription.unsubscribe(),this.resizeWindowSubscription.unsubscribe(),this.libraryMetaDataSubscription.unsubscribe()}}var hN=jn({encapsulation:0,styles:[[".card-deck[_ngcontent-%COMP%]{-webkit-padding-start:0;padding-inline-start:0}"]],data:{}});function dN(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"style-loader",[],null,null,null,$M,FM)),Yi(1,245760,null,0,LM,[y_,i_],{containerClassNamePrefix:[0,"containerClassNamePrefix"],selectedLibraryGroup$:[1,"selectedLibraryGroup$"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.containerClassNamePrefix,n.selectedLibraryGroup$)}),null)}function pN(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"li",[["class","d-flex flex-wrap"]],[[1,"id",0],[1,"test-id",0]],null,null,null,null)),(e()(),Dl(1,0,null,null,1,"collection-card",[],[[1,"test-id",0]],[[null,"onCollectionSelection"]],(function(e,t,n){var i=!0;return"onCollectionSelection"===t&&(i=!1!==e.component.onCollectionSelection(n)&&i),i}),CE,uE)),Yi(2,245760,null,0,cE,[Gv],{libraryData:[0,"libraryData"],collectionItem:[1,"collectionItem"]},{onCollectionSelection:"onCollectionSelection"})],(function(e,t){e(t,2,0,t.component.libraryDataByCollection[t.context.$implicit.collection.internalKey],t.context.$implicit)}),(function(e,t){e(t,0,0,"collection-card-index-"+t.context.index,"collection-card-index-"+t.context.index),e(t,1,0,fi(1,"collection-card-",t.context.$implicit.collection.name,""))}))}function fN(e){return Xl(0,[(e()(),Dl(0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,dN)),Yi(2,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(3,0,null,null,5,"ul",[["class","row card-deck grid-container"],["infiniteScroll",""]],null,[[null,"scrolled"],[null,"scrolledUp"]],(function(e,t,n){var i=!0,r=e.component;return"scrolled"===t&&(i=!1!==r.onScrollDown()&&i),"scrolledUp"===t&&(i=!1!==r.onScrollUp()&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(5,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Yi(6,4866048,null,0,yO,[Xt,Wr],{infiniteScrollDistance:[0,"infiniteScrollDistance"],infiniteScrollUpDistance:[1,"infiniteScrollUpDistance"],infiniteScrollThrottle:[2,"infiniteScrollThrottle"]},{scrolled:"scrolled",scrolledUp:"scrolledUp"}),(e()(),Ol(16777216,null,null,1,null,pN)),Yi(8,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.hasGlyphType()),e(t,5,0,"row card-deck grid-container",n.containerClassName),e(t,6,0,2,1.5,50),e(t,8,0,n.visibleCollections)}),null)}function gN(e){return Xl(0,[(e()(),Ol(16777216,null,null,1,null,fN)),Yi(1,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.isReady)}),null)}class mN{constructor(e,t,n){this.iconApiService=e,this.appInsightsService=t,this.store=n,this.canVirtualScrollGrid=!0,this.collectionMetadata$=null,this.allLibraryDataItems=[],this.libraryGroupDataItems=[],this.onCollectionClicked=e=>{console.log("collection clicked = "+e.name),null!==event&&(event.stopPropagation(),event.preventDefault()),this.appInsightsService.trackEvent("collection-click",{component:"library-view",libraryName:e.libraryName,collectionName:e.name}),this.store.dispatch(new Kb(new Uw(e.libraryName,e.name,e.internalKey))),AS(this.store,this.selectedLibraryGroup),LS(this.store,new bw(e.name,0,!0,e.internalKey,e.libraryName)),sS(this.store,""),oS(this.store,""),aS(this.store,""),cS(this.store,""),EE(this.store,"browse")}}evaluateRequestIconUi(){this.showRequestIcon=1===this.libraryGroupDataItems.length&&null!==this.libraryData.requestIconUrl&&null!=this.libraryData.requestIconUrl}evaluateDownloadButtonUi(){this.showDownloadButton=1===this.libraryGroupDataItems.length&&"Glyph"===this.libraryData.iconType}evaluateUIs(){this.evaluateRequestIconUi(),this.evaluateDownloadButtonUi(),this.showSummary=1===this.libraryGroupDataItems.length,this.showGroupSummary=this.libraryGroupDataItems&&this.libraryGroupDataItems.length>1,"Glyph"===this.libraryData.iconType&&this.iconApiService.getLibraryDataByName(this.libraryData.masterCollectionDownloadMetadata.metaData.libraryName).subscribe(e=>{"Glyph"===this.libraryData.iconType&&(this.collectionMetadata$=Ra(this.libraryData.masterCollectionDownloadMetadata.metaData))})}updateLocalLibraryGroupVariables(){this.allLibraryDataItems&&(this.libraryGroupDataItems=this.allLibraryDataItems.filter(e=>!(!e.libraryGroupName||e.libraryGroupName!==this.selectedLibraryGroup.name)||e.name===this.selectedLibraryGroup.name))}ngOnInit(){this.viewContext$=this.store.select(PE),this.selectedLibraryGroup$=this.store.select(TS),this.selectedLibrarySubscription=this.selectedLibraryGroup$.subscribe(e=>{if(0===e.iconCount&&e.collections&&e.collections.length>0){let t=0;e.collections.forEach(e=>{t+=e.iconCount}),e.iconCount=t}if(0===e.iconCount&&e.libraries&&e.libraries.length>0){let t=0;e.libraries.forEach(e=>{t+=e.iconCount}),e.iconCount=t}this.selectedLibraryGroup=e,this.updateLocalLibraryGroupVariables()}),this.libraryDataItems$=this.store.select(YC),this.libraryDataSubscription=this.libraryDataItems$.subscribe(e=>{this.allLibraryDataItems=e,this.updateLocalLibraryGroupVariables()}),this.evaluateUIs()}ngOnDestroy(){this.selectedLibrarySubscription.unsubscribe(),this.libraryDataSubscription.unsubscribe()}ngOnChanges(e){e.libraryData&&(void 0===e.libraryData.previousValue&&e.libraryData.currentValue&&(console.log("Setting new library data for the first time and setting isReady to true."),this.isReady=!0),e.libraryData.currentValue!==e.libraryData.previousValue&&(console.log("Setting new library data."),console.log("library name = "+this.libraryData.name),this.evaluateUIs()))}}var yN=jn({encapsulation:0,styles:[[".extra-bottom-margin[_ngcontent-%COMP%]     ul.grid-container{margin-bottom:125px}.main-content-container[_ngcontent-%COMP%]{overflow:hidden;margin-left:260px;min-height:500px}.absolute[_ngcontent-%COMP%], .position-absolute[_ngcontent-%COMP%]{top:15px;right:40px;z-index:1}"]],data:{}});function bN(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"request-icon",[["class","btn-group-sm"]],null,null,null,YE,XE)),Yi(1,49152,null,0,ZE,[],{libraryData:[0,"libraryData"]},null)],(function(e,t){e(t,1,0,t.component.libraryData)}),null)}function vN(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"collection-font-download",[["class","p-0 ml-3 d-flex align-items-end"]],null,null,null,ZM,QM)),Yi(1,573440,null,0,WM,[],{collectionMetadata$:[0,"collectionMetadata$"],libraryData:[1,"libraryData"],uiMode:[2,"uiMode"],isMasterCollection:[3,"isMasterCollection"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.collectionMetadata$,n.libraryData,"Full",!0)}),null)}function wN(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"aside",[["class","font-button-container d-inline-flex"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,bN)),Yi(2,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,vN)),Yi(4,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.showRequestIcon),e(t,4,0,n.showDownloadButton)}),null)}function CN(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"library-summary",[["class","bottom-line"]],null,null,null,WD,BD)),Yi(1,114688,null,0,GD,[],{libraryMetadata:[0,"libraryMetadata"]},null)],(function(e,t){e(t,1,0,t.component.libraryData)}),null)}function SN(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"library-group-summary",[["class","bottom-line"]],null,null,null,YD,ZD)),Yi(1,114688,null,0,QD,[],{libraryGroup:[0,"libraryGroup"]},null)],(function(e,t){e(t,1,0,t.component.selectedLibraryGroup)}),null)}function _N(e){return Xl(0,[(e()(),Dl(0,0,null,null,19,null,null,null,null,null,null,null)),(e()(),Dl(1,0,null,null,15,"section",[],null,null,null,null,null)),(e()(),Dl(2,0,null,null,10,"header",[["class","pt-0"]],null,null,null,null,null)),(e()(),Dl(3,0,null,null,9,"section",[["class","col-12 d-flex mx-2 px-0 pt-3"]],null,null,null,null,null)),(e()(),Dl(4,0,null,null,2,"h5",[["class","mx-0 px-0"],["test-id","library-name"]],null,null,null,null,null)),(e()(),Dl(5,0,null,null,1,"breadcrumb",[],null,null,null,cN,eN)),Yi(6,638976,null,0,JD,[Gv],{libraryName:[0,"libraryName"],showLibraryAsLink:[1,"showLibraryAsLink"]},null),(e()(),Dl(7,0,null,null,5,"section",[["class","header-sort-filter-column d-flex flex-column position-absolute align-items-end"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,wN)),Yi(9,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(10,0,null,null,2,"aside",[["class","sort-filter-select d-inline-flex"]],null,null,null,null,null)),(e()(),Dl(11,0,null,null,1,"sort-filter-select",[],null,null,null,pD,cD)),Yi(12,245760,null,0,aD,[qS,Hb,Gv],{viewContext$:[0,"viewContext$"],iconType:[1,"iconType"]},null),(e()(),Ol(16777216,null,null,1,null,CN)),Yi(14,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,SN)),Yi(16,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(17,0,null,null,2,"section",[["class","mt-4 mx-2 col-12 extra-bottom-margin"],["test-id","collection-card-grid"]],null,null,null,null,null)),(e()(),Dl(18,0,null,null,1,"collection-card-grid",[],null,[[null,"onCollectionClicked"]],(function(e,t,n){var i=!0;return"onCollectionClicked"===t&&(i=!1!==e.component.onCollectionClicked(n)&&i),i}),gN,hN)),Yi(19,245760,null,0,uN,[Gv,i_,y_],{selectedLibraryGroup$:[0,"selectedLibraryGroup$"]},{onCollectionClicked:"onCollectionClicked"})],(function(e,t){var n=t.component;e(t,6,0,n.selectedLibraryGroup.name,!1),e(t,9,0,n.showRequestIcon||n.showDownloadButton),e(t,12,0,n.viewContext$,n.iconType),e(t,14,0,n.showSummary),e(t,16,0,n.showGroupSummary),e(t,19,0,n.selectedLibraryGroup$)}),null)}function xN(e){return Xl(0,[(e()(),Ol(16777216,null,null,1,null,_N)),Yi(1,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.isReady)}),null)}class IN{constructor(e,t,n,i,r,l){this.appInsightsService=e,this.iconApiService=t,this.searchApiService=n,this.transformedGlyphsService=i,this.store=r,this.libraryMetadataService=l,this.iconsReady=!1,this.canShowGhostIcon=!1,this.iconsSubject=new I,this.collectionHeadingDisplayText="",this.selectedCollectionName="",this.selectedLibraryName="",this.allLibraryData=[],this.libraryDataLoadedSubscription=new h,this.selectedLibraryGroupSubscription=new h,this.viewChangeEvent=new I,this.viewChangeEventObserver$=this.viewChangeEvent.asObservable(),this.viewChangeEventSubscription=new h,this.selectedCollectionSubscription=new h,this.selectedIconsSubscription=new h,this.selectedSortByOptionSubscription=new h,this.selectedIconSizeSubscription=new h,this.viewContextSubscription=new h,this.onViewChangeEvent=e=>{this.viewChangeEvent.next(e)},this.onIconSelection=e=>{this.selectedIcon&&(this.selectedIcon.isSelected=!1),e.isSelected?(t_(e)&&(e.transformedGlyph=this.transformedGlyphsService.transformToExtendedUnicode(e.unicodeValue)),this.selectedIcon=e):e_(this.selectedIcon,e)&&(this.selectedIcon=null),this.store.dispatch(new tC(this.selectedIcon)),EE(this.store,""),this.appInsightsService.trackEvent("icon-select",{component:"collection-view",libraryName:this.selectedLibraryName,collectionName:this.selectedLibraryName,iconName:e.friendlyName,iconKey:e.internalKey,iconUnicodeValue:e.unicodeValue,iconSvgKey:e.svgKey})},this.applyViewResults=e=>{this.icons=this.transformedGlyphsService.transformGlyphs(e.results),this.iconsSubject.next(this.icons),this.iconsReady=!0,this.selectedIcon&&(this.searchApiService.hasIcon(this.selectedIcon)||JC(this.store,null)),this.setCollectionMetadata(this.selectedLibraryName,this.selectedCollectionName),EE(this.store,"browse")},this.setCollectionMetadata=(e,t)=>{this.iconApiService.getCollection(e,t).subscribe(e=>{Jw(this.store,new vw(e.name,e.latestVersion,e.fontFiles,e.baseFileName,e.createdOn,e.modifiedOn,e.icons.length,e.iconType,e.supportedSizes,e.defaultSize,e.internalKey,e.libraryName))})}}determineShowRequestIcon(){this.showRequestIcon=null!==this.libraryData.requestIconUrl&&null!=this.libraryData.requestIconUrl}ngOnInit(){this.selectedCollection$=this.store.select(Zw),this.collectionMetadata$=this.store.select(Xw),this.selectedIcon$=this.store.select(ZC),this.selectedLibraryGroup$=this.store.select(TS),this.selectedSortByOption$=this.store.select($S),this.selectedViewScale$=this.store.select(VS),this.selectedIconSize$=this.store.select(US),this.viewContext$=this.store.select(PE),this.icons$=this.iconsSubject.asObservable(),OE(this.store,qw.browse),this.viewContextSubscription=this.viewContext$.subscribe(e=>{this.viewContext=e}),this.canShowGhostIcon=!0,this.allResults=new u_([],[]),this.selectedIconsSubscription=this.selectedIcon$.subscribe(e=>{this.selectedIcon=e}),this.viewChangeEventSubscription=this.viewChangeEventObserver$.pipe(Cc(()=>{this.icons=[],this.allResults.results=[]}),pc(()=>""!==this.selectedCollectionName?this.searchApiService.getAllResults("selectedFontChange","","",this.selectedLibraryName,this.selectedCollectionName,null,""):null,(e,t)=>[e,t])).subscribe(e=>{if(this.icons=[],this.allResults.results=[],null!==e[1][1])this.totalIconCount=e[1][0],this.allResults.results=e[1][1],this.applyViewResults(this.allResults);else{this.appInsightsService.trackEvent("font-select-no-op",{component:"collection-view",libraryName:this.selectedLibraryName,collectionName:this.selectedCollectionName});const e=this.libraryMetadataService.getLibraryByName(this.selectedLibraryName),t=e.collectionsMetadata.find(e=>e.name===this.selectedLibraryName);this.selectedCollection=new bw(this.selectedLibraryName,0,!0,t.internalKey,e.name)}},e=>{console.log("viewChangeEventObserver error: "+e)}),this.selectedCollectionSubscription=this.selectedCollection$.subscribe(e=>{if((this.selectedLibraryName!==e.libraryName||this.selectedCollectionName!==e.collectionName)&&""!==e.collectionName){this.selectedLibraryName=e.libraryName,this.selectedCollectionName=e.collectionName;const t=this.libraryMetadataService.getLibraryByName(this.selectedLibraryName),n=t.collectionsMetadata.find(e=>e.name===this.selectedCollectionName);this.selectedCollection=new bw(this.selectedCollectionName,0,!0,n.internalKey,t.name),this.collectionHeadingDisplayText=e.collectionName.replace("Assets",""),this.onViewChangeEvent("selectedFontChange")}}),this.store.select(Xw).subscribe(e=>{e.libraryName.length>0&&(this.isGlyphBasedCollection="Glyph"===e.iconType,this.iconApiService.getLibraryDataByName(e.libraryName).subscribe(e=>{this.libraryData=e,this.determineShowRequestIcon()}))}),this.selectedSortByOptionSubscription=this.selectedSortByOption$.subscribe(e=>{this.searchApiService.getActiveFilterBySizeSelection(),this.icons=this.transformedGlyphsService.transformGlyphs(this.searchApiService.getIconResultsSorted(e))}),this.selectedIconSizeSubscription=this.selectedIconSize$.subscribe(e=>{this.searchApiService.getActiveSortSelection(),this.icons=this.transformedGlyphsService.transformGlyphs(this.searchApiService.getIconResultsFilteredBySize(e))}),this.libraryDataLoadedSubscription=this.store.select(XC).subscribe(e=>{e&&(this.store.select(YC).subscribe(e=>{this.allLibraryData=e;const t=this.allLibraryData.find(e=>e.name===this.selectedLibraryName);this.iconType=t?t.iconType:null}).unsubscribe(),this.libraryDataLoadedSubscription.unsubscribe())}),this.selectedLibraryGroupSubscription=this.selectedLibraryGroup$.subscribe(e=>{if(this.selectedLibraryGroup=e,e.name===this.selectedLibraryName&&this.allLibraryData&&this.allLibraryData.length>0){const t=this.allLibraryData.find(e=>e.name===this.selectedLibraryName);0===e.collections.length&&t&&t.collectionNames.length>0&&(t.collectionsMetadata&&t.collectionNames.forEach(n=>{const i=t.collectionsMetadata.find(e=>e.name===n);e.collections.push(new bw(n,0,!0,i.internalKey,t.name))}),AS(this.store,e))}})}ngOnDestroy(){this.viewChangeEventSubscription.unsubscribe(),this.selectedCollectionSubscription.unsubscribe(),this.libraryDataLoadedSubscription.unsubscribe(),this.selectedIconsSubscription.unsubscribe(),this.selectedSortByOptionSubscription.unsubscribe(),this.selectedIconSizeSubscription.unsubscribe(),this.viewContextSubscription.unsubscribe(),this.selectedLibraryGroupSubscription.unsubscribe()}}var kN=jn({encapsulation:0,styles:[[".main-content-container[_ngcontent-%COMP%]{overflow:hidden;margin-left:260px;min-height:500px}.card-list[_ngcontent-%COMP%]{list-style-type:none}.absolute[_ngcontent-%COMP%], .position-absolute[_ngcontent-%COMP%]{top:15px;right:40px;z-index:1}.header-sort-filter-column[_ngcontent-%COMP%]   .sort-filter-select[_ngcontent-%COMP%]{position:relative;top:38px}.header-sort-filter-column[_ngcontent-%COMP%]   .font-button-container[_ngcontent-%COMP%] + .sort-filter-select[_ngcontent-%COMP%]{top:7px}.extra-bottom-margin[_ngcontent-%COMP%]     ul.grid-container, .keyword-results-grid[_ngcontent-%COMP%]     ul.grid-container{margin-bottom:85px}.collection-grid[_ngcontent-%COMP%]     .collection-summary{border-bottom:1px solid rgba(0,0,0,.15);margin-right:40px}"]],data:{}});function TN(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"h5",[["class","mx-0 px-0"],["test-id","breadcrumb-container"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"breadcrumb",[],null,null,null,cN,eN)),Yi(2,638976,null,0,JD,[Gv],{libraryName:[0,"libraryName"],collectionName:[1,"collectionName"],showCollectionAsLink:[2,"showCollectionAsLink"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.selectedLibraryGroup.name,n.collectionHeadingDisplayText,!1)}),null)}function MN(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"request-icon",[["class","btn-group-sm ml-5"]],null,null,null,YE,XE)),Yi(1,49152,null,0,ZE,[],{libraryData:[0,"libraryData"]},null)],(function(e,t){e(t,1,0,t.component.libraryData)}),null)}function EN(e){return Xl(0,[(e()(),Dl(0,0,null,null,7,"aside",[["class","font-button-container d-inline-flex"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,MN)),Yi(2,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(3,0,null,null,4,"collection-font-download",[],null,null,null,ZM,QM)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(5,278528,null,0,aa,[la],{ngClass:[0,"ngClass"]},null),ql(6,{"ml-5":0,"ml-3":1}),Yi(7,573440,null,0,WM,[],{collectionMetadata$:[0,"collectionMetadata$"],libraryData:[1,"libraryData"],uiMode:[2,"uiMode"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.showRequestIcon);var i=e(t,6,0,!n.showRequestIcon,n.showRequestIcon);e(t,5,0,i),e(t,7,0,n.collectionMetadata$,n.libraryData,"Full")}),null)}function PN(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"aside",[["class","font-button-container d-inline-flex"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"request-icon",[["class","btn-group-sm"]],null,null,null,YE,XE)),Yi(2,49152,null,0,ZE,[],{libraryData:[0,"libraryData"]},null)],(function(e,t){e(t,2,0,t.component.libraryData)}),null)}function ON(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"section",[["class","collection-grid col-12 mx-2 p-0 extra-bottom-margin"],["test-id","results-grid"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"icon-grid",[],null,[[null,"onIconSelection"],["window","keydown"]],(function(e,t,n){var i=!0,r=e.component;return"window:keydown"===t&&(i=!1!==Vi(e,2).keyEvent(n)&&i),"onIconSelection"===t&&(i=!1!==r.onIconSelection(n)&&i),i}),NO,kO)),Yi(2,4440064,null,0,SO,[Gv,wt,xO,b_,WS,h_,c_,l_,y_,i_,KS,Hb,Kt,Xt,p_,a_,v_,Xt,xt,dl],{isDynamic:[0,"isDynamic"],iconsReady:[1,"iconsReady"],icons:[2,"icons"],totalIconCount:[3,"totalIconCount"],icons$:[4,"icons$"],selectedCollection$:[5,"selectedCollection$"],selectedLibraryGroup$:[6,"selectedLibraryGroup$"],viewContext$:[7,"viewContext$"],collectionMetadata$:[8,"collectionMetadata$"],selectedIcon$:[9,"selectedIcon$"],selectedViewScale$:[10,"selectedViewScale$"],showHeading:[11,"showHeading"],showMetadata:[12,"showMetadata"],canScrollGrid:[13,"canScrollGrid"],canShowGhostIcon:[14,"canShowGhostIcon"],libraryName:[15,"libraryName"],collections:[16,"collections"],selectedCollection:[17,"selectedCollection"],libraryGroupName:[18,"libraryGroupName"]},{onIconSelection:"onIconSelection"})],(function(e,t){var n=t.component;e(t,2,1,[!0,n.iconsReady,n.icons,n.totalIconCount,n.icons$,n.selectedCollection$,n.selectedLibraryGroup$,n.viewContext$,n.collectionMetadata$,n.selectedIcon$,n.selectedViewScale$,!0,!0,!0,n.canShowGhostIcon,n.selectedLibraryName,mi,n.selectedCollection,n.selectedLibraryGroup.name])}),null)}function DN(e){return Xl(0,[(e()(),Dl(0,0,null,null,14,"section",[],null,null,null,null,null)),(e()(),Dl(1,0,null,null,11,"header",[["class","pt-0"]],null,null,null,null,null)),(e()(),Dl(2,0,null,null,10,"section",[["class","col-12 d-flex mx-2 px-0 pt-3"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,TN)),Yi(4,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(5,0,null,null,7,"section",[["class","header-sort-filter-column d-flex flex-column position-absolute align-items-end"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,EN)),Yi(7,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,PN)),Yi(9,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(10,0,null,null,2,"aside",[["class","sort-filter-select d-inline-flex"]],null,null,null,null,null)),(e()(),Dl(11,0,null,null,1,"sort-filter-select",[],null,null,null,pD,cD)),Yi(12,245760,null,0,aD,[qS,Hb,Gv],{viewContext$:[0,"viewContext$"],iconType:[1,"iconType"]},null),(e()(),Ol(16777216,null,null,1,null,ON)),Yi(14,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,0===n.viewContext&&n.collectionHeadingDisplayText),e(t,7,0,n.isGlyphBasedCollection),e(t,9,0,!n.isGlyphBasedCollection&&n.showRequestIcon),e(t,12,0,n.viewContext$,n.iconType),e(t,14,0,n.icons.length>0&&n.allResults.results.length>0)}),null)}class NN{constructor(e,t,n,i,r){this.route=e,this.modalService=t,this.router=n,this.libraryMetadataService=i,this.store=r,this.allLibraryMetadata=[],this.selectedLibraryName="",this.selectedMasterFont="",this.selectedSubsetFont="",this.viewContext=qw.browse,this.canRenderEmptyComponent=!1,this.routeSubscription=new h,this.dataLoadedSubscription=new h,this.selectedFontSubscription=new h,this.launchFeedbackModal=()=>{this.modalService.open(_P,{size:"lg",centered:!0,windowClass:"min-dialog-width"}).result.then(()=>{this.router.navigate(["/"])}).catch(()=>{this.router.navigate(["/"])})},this.createLibraryGroupFacets=()=>{const e=this.libraryMetadataService.constructLibraryGroupFacets(),t=this.selectedCollection?this.selectedCollection.name:"";e.find(e=>e.name===this.selectedLibraryName&&(t.length>0&&e.collections.find(e=>e.name===t&&(e.isSelected=!0,LS(this.store,e),!0)),e.isSelected=!0,AS(this.store,e),!0)),ES(this.store,e)}}determineViewState(e){const t=""===this.selectedFonts.collectionName;this.selectedMasterFont=e.libraryName,this.selectedSubsetFont=e.collectionName,this.selectedLibraryName=this.selectedMasterFont,this.selectedCollection=new bw(this.selectedSubsetFont,0,!0,e.internalKey,e.libraryName),this.currentLibraryMetadata=this.findLibraryDataByGroupName(this.allLibraryMetadata,e.libraryName),t&&window.scrollTo({top:0,behavior:"smooth"}),this.viewState=t?"Library":"Collection"}findLibraryDataByGroupName(e,t){return e.find(e=>!(!e.libraryGroupName||e.libraryGroupName!==t)||e.name===t)}ngOnInit(){this.selectedCollection$=this.store.select(Zw),this.selectedFontSubscription=this.selectedCollection$.subscribe(e=>{this.selectedFonts=e,this.selectedMasterFont===e.libraryName&&this.selectedSubsetFont===e.collectionName||this.determineViewState(e)}),this.dataLoadedSubscription=this.store.select(XC).subscribe(e=>{e&&(this.store.select(YC).subscribe(e=>{e.length>0&&(this.allLibraryMetadata=e,this.createLibraryGroupFacets(),this.determineViewState(this.selectedFonts),this.isReady=!0)}).unsubscribe(),this.dataLoadedSubscription.unsubscribe())}),this.routeSubscription=this.route.url.subscribe(e=>{e&&e[0]&&e[0].path&&"feedback"===e[0].path&&this.launchFeedbackModal(),this.canRenderEmptyComponent=!0})}ngOnDestroy(){this.routeSubscription.unsubscribe(),this.selectedFontSubscription.unsubscribe(),this.dataLoadedSubscription.unsubscribe()}}var RN=jn({encapsulation:0,styles:[[".main-content-container[_ngcontent-%COMP%]{overflow:hidden;margin-left:260px;min-height:500px}.card-list[_ngcontent-%COMP%]{list-style-type:none}.absolute[_ngcontent-%COMP%], .position-absolute[_ngcontent-%COMP%]{top:1.1em;right:30px;z-index:1}.extra-bottom-margin[_ngcontent-%COMP%]     ul.grid-container, .keyword-results-grid[_ngcontent-%COMP%]     ul.grid-container{margin-bottom:85px}"]],data:{}});function AN(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"section",[["id","librarySection"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"library-view",[],null,null,null,xN,yN)),Yi(2,770048,null,0,mN,[WS,Hb,Gv],{libraryData:[0,"libraryData"]},null)],(function(e,t){e(t,2,0,t.component.currentLibraryMetadata)}),null)}function LN(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"section",[["id","collectionSection"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"collection-view",[],null,null,null,DN,kN)),Yi(2,245760,null,0,IN,[Hb,WS,h_,v_,Gv,i_],null,null)],(function(e,t){e(t,2,0)}),null)}function FN(e){return Xl(0,[(e()(),Dl(0,0,null,null,12,null,null,null,null,null,null,null)),(e()(),Dl(1,0,null,null,11,"section",[["class","row main-content-container d-block"]],null,null,null,null,null)),(e()(),Dl(2,0,null,null,1,"filter-panel-container",[],null,null,null,BO,GO)),Yi(3,245760,null,0,zO,[Gv,qS],null,null),(e()(),Dl(4,0,null,null,6,"section",[],null,null,null,null,null)),Yi(5,16384,null,0,ma,[],{ngSwitch:[0,"ngSwitch"]},null),Hl(6,1),(e()(),Ol(16777216,null,null,1,null,AN)),Yi(8,278528,null,0,ya,[xn,Sn,ma],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Ol(16777216,null,null,1,null,LN)),Yi(10,278528,null,0,ya,[xn,Sn,ma],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Dl(11,0,null,null,1,"toast",[],null,null,null,yD,gD)),Yi(12,245760,null,0,fD,[b_],null,null)],(function(e,t){var n=t.component;e(t,3,0);var i=e(t,6,0,n.viewState);e(t,5,0,i),e(t,8,0,"Library"),e(t,10,0,"Collection"),e(t,12,0)}),null)}function $N(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"section",[["style","display: none"]],null,null,null,null,null)),(e()(),Dl(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Yi(2,212992,null,0,tp,[ep,xn,Kt,[8,null],wt],null,null)],(function(e,t){e(t,2,0)}),null)}function VN(e){return Xl(0,[(e()(),Ol(16777216,null,null,1,null,FN)),Yi(1,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,$N)),Yi(3,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.isReady),e(t,3,0,n.canRenderEmptyComponent)}),null)}function UN(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"browse-view",[],null,null,null,VN,RN)),Yi(1,245760,null,0,NN,[Uh,ck,Zd,i_,Gv],null,null)],(function(e,t){e(t,1,0)}),null)}var jN=Mi("browse-view",NN,UN,{},{},[]);class zN{constructor(e,t,n){this.appInsightsService=e,this.store=t,this.downloadApiService=n,this.onTooltipOpen=e=>{this.openTooltipDelay=setTimeout(()=>{e.open()},400)},this.onTooltipClose=e=>{e.close(),clearInterval(this.openTooltipDelay)},this.onIconClick=(e,t,n)=>{e.stopPropagation(),this.appInsightsService.trackEvent("visually-similar-icon-click",{component:"visual-search-viewer",icon:t.friendlyName,uri:n,parentIcon:this.parentIcon.friendlyName})},this.onSeeAllVisualSearchResultsBySvgXml=e=>{e.stopPropagation(),e.preventDefault(),this.downloadApiService.getIconFileContents(this.parentIcon.libraryName,[ZS(this.parentIcon)],".svg",24).toPromise().then(e=>{e&&(sS(this.store,""),oS(this.store,""),aS(this.store,"data:image/svg+xml;base64,"+btoa(e)),cS(this.store,""),JC(this.store,null),AS(this.store,new Tw("All Libraries",0,!0,[],[])),LS(this.store,null),EE(this.store,"search/image"))})},this.onSeeAllVisualSearchResults=e=>{e.stopPropagation(),e.preventDefault(),sS(this.store,""),oS(this.store,""),aS(this.store,""),cS(this.store,ZS(this.parentIcon)),JC(this.store,null),AS(this.store,new Tw("All Libraries",0,!0,[],[])),LS(this.store,null),EE(this.store,"search/icon")},this.removeSvgTitleContent=()=>{if(this.similarIconStrip&&this.similarIconStrip.nativeElement){const e=this.similarIconStrip.nativeElement.querySelectorAll("svg title");ho(e)||e.forEach(e=>{e.innerHTML=""})}}}ngOnChanges(){this.isLoaded&&(ho(this.similarIcons)?this.appInsightsService.trackEvent("visually-similar-no-matches",{component:"visual-search-viewer",parentIcon:this.parentIcon.friendlyName}):this.appInsightsService.trackEvent("visually-similar-icon-count",{component:"visual-search-viewer",parentIcon:this.parentIcon.friendlyName,count:this.similarIcons.length.toString()}),this.isLoaded=!1)}ngAfterContentChecked(){this.removeSvgTitleContent()}}var GN=jn({encapsulation:0,styles:[[".border-muted-primary[_ngcontent-%COMP%]{border:1px solid #d4ecff}a[_ngcontent-%COMP%]{text-decoration:none}a[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{min-height:32px;min-width:32px;max-height:32px;max-width:32px;cursor:pointer}a[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]:hover{background-color:rgba(128,128,128,.05);color:#0078d4}a[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%], a[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   .svg[_ngcontent-%COMP%]{height:24px;width:24px;max-width:24px;max-height:24px}a[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   .svg[_ngcontent-%COMP%]{margin-top:-1px}"]],data:{}});function BN(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"span",[["class","loader p-2"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"span",[["class","small text-secondary mr-2"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Searching..."])),(e()(),Dl(3,0,null,null,0,"span",[["class","spinner-border spinner-border-sm text-primary"],["role","status"]],null,null,null,null,null)),(e()(),Dl(4,0,null,null,0,"span",[["class","sr-only"]],null,null,null,null,null))],null,null)}function HN(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"div",[["class","text-center text-capitalize"]],null,null,null,null,null)),(e()(),Wl(2,null,["",""]))],null,(function(e,t){e(t,2,0,t.parent.context.$implicit?t.parent.context.$implicit.friendlyName:"")}))}function qN(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"div",[["class","svg"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.svgSanitizedIconContent[t.parent.context.index])}))}function KN(e){return Xl(0,[(e()(),Dl(0,0,[["visualicon",1]],null,9,"a",[["class","text-dark"],["target","_blank"]],[[8,"href",4],[1,"test-id",0],[1,"test-svg-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onIconClick(n,e.context.$implicit,Vi(e,0).href)&&i),i}),null,null)),(e()(),Ol(0,[["iconTooltipContent",2]],null,0,null,HN)),(e()(),Dl(2,16777216,null,null,7,"div",[["class","py-1 px-1 mr-1 rounded icon-container d-flex justify-content-center"],["triggers","manual"]],null,[[null,"mouseenter"],[null,"mouseleave"]],(function(e,t,n){var i=!0,r=e.component;return"mouseenter"===t&&(i=!1!==r.onTooltipOpen(Vi(e,6))&&i),"mouseleave"===t&&(i=!1!==r.onTooltipClose(Vi(e,6))&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(4,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(5,{"float-left px-1":0,"px-2":1}),Yi(6,737280,[["tooltip",4]],0,Pk,[Xt,nn,xt,Kt,xn,Tk,Wr,Oa,wt,dl],{autoClose:[0,"autoClose"],placement:[1,"placement"],triggers:[2,"triggers"],ngbTooltip:[3,"ngbTooltip"]},null),Hl(7,2),(e()(),Ol(16777216,null,null,1,null,qN)),Yi(9,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=e(t,5,0,null===t.context.$implicit.unicodeValue,null!==t.context.$implicit.unicodeValue);e(t,4,0,"py-1 px-1 mr-1 rounded icon-container d-flex justify-content-center",n);var i=e(t,7,0,"bottom","top");e(t,6,0,!0,i,"manual",Vi(t,1)),e(t,9,0,t.context.$implicit&&t.context.$implicit.svgXml&&t.context.$implicit.svgXml.length>0)}),(function(e,t){e(t,0,0,fi(3,"/browse/",t.context.$implicit.libraryName,"/",t.context.$implicit.fonts[0],"/",null!==t.context.$implicit.internalKey?t.context.$implicit.internalKey:"",""),"icon-link-"+t.context.index,null!==t.context.$implicit.svgKey?"icon-svg-key-"+t.context.$implicit.svgKey:null)}))}function WN(e){return Xl(0,[(e()(),Dl(0,0,[[1,0],["similarIconStrip",1]],null,2,"section",[["class","d-flex flex-row align-items-center"],["style","height:32px;"],["test-id","similar-icon-strip"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,KN)),Yi(2,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.similarIcons)}),null)}function QN(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"span",[["class","small text-secondary"],["test-id","message-text"]],null,null,null,null,null)),(e()(),Wl(2,null,["",""]))],null,(function(e,t){e(t,2,0,t.component.isServiceUnavailable?"Service is unavailable":"No matches found")}))}function ZN(e){return Xl(0,[(e()(),Wl(-1,null,["What does visually similar mean?"]))],null,null)}function XN(e){return Xl(0,[(e()(),Wl(-1,null,["Using a smart feature extractor, artificial intelligence will help you discover the icon's closest visual matches. Results may not be accurate and will continue to improve over time."]))],null,null)}function YN(e){return Xl(0,[Fl(671088640,1,{similarIconStrip:0}),(e()(),Dl(1,0,null,null,18,"section",[["class","d-flex w-100 flex-column pr-4"]],null,null,null,null,null)),(e()(),Dl(2,0,null,null,7,"span",[["class","d-flex flex-row"]],null,null,null,null,null)),(e()(),Dl(3,0,null,null,3,"span",[["class","small text-secondary font-weight-normal w-100"],["test-id","visually-similar-heading"]],null,null,null,null,null)),(e()(),Wl(-1,null,[" Visually similar icons (Beta)"])),(e()(),Dl(5,16777216,[["visuallySimilarIconsCallout",1]],null,1,"a",[["class","info-icon text-primary"],["placement","left"]],null,null,null,null,null)),Yi(6,737280,null,0,wk,[Xt,nn,xt,Kt,xn,yk,Wr,Oa,wt,dl],{ngbPopover:[0,"ngbPopover"],popoverTitle:[1,"popoverTitle"],placement:[2,"placement"]},null),(e()(),Dl(7,0,null,null,2,"span",[["class","small text-secondary font-weight-normal float-right"],["style","width:200px;text-align:right"]],null,null,null,null,null)),(e()(),Dl(8,0,null,null,1,"a",[["href","#"],["test-id","visually-similar-see-all-results"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onSeeAllVisualSearchResults(n)&&i),i}),null,null)),(e()(),Wl(-1,null,["See all results..."])),(e()(),Dl(10,0,null,null,7,"section",[["class","d-flex flex-row align-items-center bg-white px-2 border-muted-primary rounded w-100"],["style","height:50px;"]],null,null,null,null,null)),(e()(),Dl(11,0,null,null,6,"aside",[["class","d-flex flex-row align-items-center h-100"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,BN)),Yi(13,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,WN)),Yi(15,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,QN)),Yi(17,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(0,[["visuallySimilarTitle",2]],null,0,null,ZN)),(e()(),Ol(0,[["visuallySimilarContent",2]],null,0,null,XN))],(function(e,t){var n=t.component;e(t,6,0,Vi(t,19),Vi(t,18),"left"),e(t,13,0,n.isLoading),e(t,15,0,!n.isLoading&&n.similarIcons.length>0),e(t,17,0,!n.isLoading&&0===n.similarIcons.length)}),null)}var JN=n("EVdn");class eR{constructor(e){this.description=e}getContent(){return this.description}}class tR{constructor(e){this.categories=e}getContent(){return this.categories}}class nR{constructor(e){this.keywords=e}getContent(){return this.keywords}}class iR{constructor(e){this.metaphors=e}getContent(){return this.metaphors.map(e=>new Iw(e,0))}}class rR{createSourcingStrategy(e,t){switch(e.dataType){case zw.Description:return new eR(t.description);case zw.Category:return new tR(t.categories);case zw.Keywords:return new nR(t.keywords);case zw.Metaphors:return new iR(t.metaphors)}}}class lR{sort(e){return e}}class sR{sort(e){return e.sort((e,t)=>e.text.localeCompare(t.text))}}class oR{sort(e){return e.sort((e,t)=>e.weight<t.weight?1:-1)}}class aR{createSortingStrategy(e){switch(e){case Bw.None:return new lR;case Bw.ByName:return new sR;case Bw.ByWeight:return new oR}}}class cR{constructor(e,t){this.word=e,this.url=t}}class uR{constructor(e,t,n){this.sourceItem=e,this.icon=t,this.baseUrl=n,this.orderedWords=[]}getKeywordSearchUrl(e){return`${this.baseUrl}search/keyword/${e}`}initialize(){switch(this.sourceItem.dataType){case zw.Metaphors:this.hasContent=this.icon.metaphors&&this.icon.metaphors.length>0;break;case zw.Keywords:this.hasContent=this.icon.keywords&&this.icon.keywords.length>0;break;case zw.Description:this.hasContent=null!==this.icon.description&&null!=this.icon.description;case zw.Category:this.hasContent=this.icon.categories&&this.icon.categories.length>0}if(this.hasContent){const e=(new rR).createSourcingStrategy(this.sourceItem,this.icon);switch(this.sourceItem.dataType){case zw.Description:this.orderedWords.push(new cR(e.getContent()));break;case zw.Category:{const t=e.getContent();(new aR).createSortingStrategy(this.sourceItem.sorting).sort(t).map(e=>{this.orderedWords.push(new cR(e.text))});break}case zw.Metaphors:{const t=e.getContent();(new aR).createSortingStrategy(this.sourceItem.sorting).sort(t).map(e=>{this.orderedWords.push(new cR(e.text))});break}case zw.Keywords:{const t=e.getContent();(new aR).createSortingStrategy(this.sourceItem.sorting).sort(t).map(e=>{const t=this.getKeywordSearchUrl(e.text);this.orderedWords.push(new cR(e.text,t))});break}}}this.dataTypes=zw,this.dataStyles=Gw}}class hR{createMetadataItemViewModel(e,t,n){const i=new uR(e,t,n);return i.initialize(),i}}class dR{constructor(e,t,n,i){this.action=e,this.position=t,this.extension=n,this.size=i}}class pR{constructor(e,t,n,i,r,l,s,o,a,c,u){this.clipboardService=e,this.downloadApiService=t,this.toastService=n,this.sanitizer=i,this.appInsightsService=r,this.sendFeedbackService=l,this.searchApiService=s,this.elRef=o,this.libraryMetadataService=a,this.store=c,this.baseUrl=u,this.viewContext=qw.browse,this.weightedWordEmitToParent=new Cr,this.metadataItems=[],this.downloadSizes=[],this.downloadActionContexts=[],this.isLoading=!0,this.isLoaded=!1,this.isServiceUnavailable=!1,this.visuallySimilarIcons=[],this.svgSanitizedIconContent=[],this.maxSimilarIconsToShow=12,this.onWeightedWordClick=(e,t)=>{this.weightedWordEmitToParent.emit(t),e.preventDefault()},this.onDownloadIconClick=(e,t)=>{const n=this.icon,i=this.getIconKeyForDownload(n,t);this.downloadFileComponent.onDownloadIconFile(n.libraryName,i,e,t);let r="";r="xaml"!==e&&t&&t>0?`Icon .${e.toUpperCase()} ${t.toString()}px`:"Icon ."+e.toUpperCase(),this.sendToast(r,"downloaded"),this.appInsightsService.trackEvent("download-icon-click",{component:"icon-tab",libraryName:this.libraryName,collectionName:this.collectionName,iconName:this.getIconName(),iconInternalKey:this.getIconInternalKey(),fileExtension:e,iconSize:t.toString()})},this.supportsDownloadSizes=e=>{switch(e){case"Svg":return"Glyph"!==this.iconType;case"Png":case"Pdf":return!0;case"Xaml":default:return!1}},this.getDownloadTypeText=e=>{let t="";if(t+=e.toLocaleUpperCase(),this.defaultDownloadSize>0&&this.defaultDownloadSize<65)switch(e){case"Svg":"Glyph"!==this.iconType&&(t+=` (${this.defaultDownloadSize}px)`);break;case"Png":case"Pdf":t+=` (${this.defaultDownloadSize}px)`}return t},this.onCopyGlyphClick=()=>{this.copyIconToClipboard("copy-icon-click","icon-tab")},this.onCopyPreviewGlyph=()=>{switch(this.libraryData.copyPreviewAction){case"Glyph":this.copyIconToClipboard("copy-preview-icon-click","preview-icon-tab");break;case"Svg":this.copySvgToClipboard("copy-preview-icon-click","preview-icon-tab",this.libraryData.copySize)}},this.onCopySvgClick=(e=32)=>{this.copySvgToClipboard("copy-icon-click","icon-tab",e)},this.onCopyPngClick=()=>{const e=window.getSelection(),t=document.createRange();t.selectNodeContents(JN("#pngImageCopy")[0]),e.removeAllRanges(),e.addRange(t),document.execCommand("copy"),window.getSelection().removeAllRanges(),this.sendToast("Icon for PowerPoint"),this.appInsightsService.trackEvent("copy-icon-click",{component:"icon-tab",iconFormat:"png",libraryName:this.libraryName,collectionName:this.collectionName,iconName:this.getIconName(),iconInternalKey:this.getIconInternalKey()})},this.onCopyTextClick=(e,t)=>{this.clipboardService.copyFromContent(e),this.sendToast(t),this.appInsightsService.trackEvent("copy-click",{component:"inline-content-panel-icons",textType:t,libraryname:this.libraryName,collectionName:this.collectionName,iconName:this.getIconName(),iconInternalKey:this.getIconInternalKey()})},this.getHtmlContent=e=>this.downloadApiService.getIconFileContents(this.icon.libraryName,[ZS(this.icon)],".svg",e),this.sendToast=(e,t="copied")=>{this.toastService.setToastMessage(`${e} ${t}`)},this.getVisuallySimilarIcons=()=>{this.isLoading=!0,this.isServiceUnavailable=!1,this.searchApiService.getVisuallySimilarIcons(this.icon.libraryName,this.icon.internalKey).subscribe(e=>{null===e?(this.isLoading=!1,this.isLoaded=!0,this.isServiceUnavailable=!0,this.visuallySimilarIcons=[]):(this.visuallySimilarIcons=e.slice(0,this.maxSimilarIconsToShow),this.sanitizeHtmlContent(this.visuallySimilarIcons),this.removeSvgTitleContent(),this.isLoading=!1,this.isLoaded=!0)},e=>{this.isLoading=!1,this.isServiceUnavailable=!0})},this.sanitizeHtmlContent=e=>{ho(e)||(this.svgSanitizedIconContent=e.map(e=>{const t=this.fixUpSvgXml(e.svgXml);return this.getSanitizedHtmlContent(t)}))},this.getSanitizedHtmlContent=e=>this.sanitizer.bypassSecurityTrustHtml(e),this.defaultIconFontSize="64px",this.isOverflowing=e=>e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth,this.isElementInitialized=e=>e&&0!==e.clientWidth&&0!==e.clientHeight,this.checkResetFontSize=(e,t)=>!(!e||e.style.fontSize===t||(e.style.fontSize=t,0)),this.getIconElement=()=>{const e=this.elRef.nativeElement;return e?e.querySelector("[class^=glyph ]"):null},this.removeSvgTitleContent=()=>{if(this.previewContainer&&this.previewContainer.nativeElement){const e=this.previewContainer.nativeElement.querySelector("svg title");e&&e.innerHTML&&(e.innerHTML="")}},this.setHtmlContent=()=>{if(this.icon)if(this.icon.svgXml){const e=this.sanitizer.bypassSecurityTrustHtml(this.fixUpSvgXml(this.icon.svgXml));this.htmlContent=e}else if(this.icon.pngBase64Data){const e=this.sanitizer.bypassSecurityTrustHtml('<img style="width:64px" src="data:image/png;base64, '+this.icon.pngBase64Data+'"/>');this.htmlContent=e}else this.htmlContent="";else this.htmlContent="";this.appInsightsService.trackEvent("set-svg-inline-icon",{component:"icon-tab",libraryName:this.libraryName,collectionName:this.collectionName,htmlContent:this.htmlContent.toString(),iconSize:"64px"})},this.resizeIfOverflowing=(e,t,n=5,i=!0,r=!1)=>{e&&(this.isElementInitialized(e)?i&&this.checkResetFontSize(e,t)?setTimeout(()=>{this.resizeIfOverflowing(e,t,n,!1)},200):this.isOverflowing(e)?(e.style.fontSize=n+"vmin",setTimeout(()=>{this.resizeIfOverflowing(e,t,.95*n,!1,!0)},100)):r&&(e.style.fontSize=n+"vmin"):setTimeout(()=>{this.resizeIfOverflowing(e,t,n,i)},200))}}getIconName(){return this.icon?this.icon.friendlyName:null}getIconInternalKey(){return this.icon?ZS(this.icon):null}getIconKeyForDownload(e,t){let n;switch(this.iconType?this.iconType:e.svgXml?"Svg":e.pngBase64Data?"Png":"Glyph"){case"Glyph":n=ZS(this.icon);break;case"Png":case"Svg":{let i=e.iconGroup.keyedIconSizes.find(e=>e.size===t);i||(i=e.iconGroup.keyedIconSizes[0]),i&&(n=i.internalKey);break}}return n}fixUpSvgXml(e){const t=(new DOMParser).parseFromString(e,"text/xml");return t.documentElement.removeAttribute("width"),t.documentElement.removeAttribute("height"),(new XMLSerializer).serializeToString(t.documentElement)}copyIconToClipboard(e,t){this.clipboardService.copyFromContent(this.icon.glyph),this.sendToast("Glyph"),this.appInsightsService.trackEvent(e,{component:t,iconFormat:"glyph",libraryName:this.libraryName,collectionName:this.collectionName,iconName:this.getIconName(),iconInternalKey:this.getIconInternalKey()})}copySvgToClipboard(e,t,n){this.getHtmlContent(n).toPromise().then(e=>{this.clipboardService.copyFromContent(""+e),this.sendToast(`Icon .SVG ${n}px`)}).catch(()=>{this.handleDownloadError()}),this.appInsightsService.trackEvent(e,{component:t,iconFormat:"svg",libraryName:this.libraryName,collectionName:this.collectionName,iconName:this.getIconName(),iconInternalKey:this.getIconInternalKey()})}deriveCopySize(){if(this.icon)switch(this.iconType){case"Glyph":this.copySize=this.libraryData.copySize;break;case"Png":case"Svg":{const e=this.icon.iconGroup.keyedIconSizes.map(e=>e.size);this.copySize=e.includes(this.libraryData.copySize)?this.libraryData.copySize:function(e,t){if(ho(e))return t;const n=e.map(e=>({value:e,distance:Math.abs(e-t)}));return n.sort((e,t)=>e.distance<t.distance?-1:e.distance>t.distance?1:e.value>t.value?-1:e.value<t.value?1:0),n[0].value}(e,this.libraryData.copySize);break}}}deriveDownloadSizeInformation(){if(this.icon)switch(this.iconType){case"Glyph":this.downloadSizes=this.libraryData.downloadSizes,this.defaultDownloadSize=this.libraryData.downloadSize;break;case"Png":case"Svg":this.downloadSizes=this.icon.iconGroup.keyedIconSizes.map(e=>e.size),this.defaultDownloadSize=this.icon.iconGroup.preferredSize}this.downloadActionContexts=[],this.libraryData&&this.libraryData.downloadTypes&&this.libraryData.downloadTypes.length>0&&this.libraryData.downloadTypes.forEach((e,t)=>{switch(e){case"Svg":this.downloadActionContexts.push(new dR(e,t,"svg","Glyph"!==this.iconType?this.defaultDownloadSize:0));break;case"Png":this.downloadActionContexts.push(new dR(e,t,"png",this.defaultDownloadSize));break;case"Pdf":this.downloadActionContexts.push(new dR(e,t,"pdf",this.defaultDownloadSize));break;case"Xaml":this.downloadActionContexts.push(new dR(e,t,"xaml",0))}})}handleDownloadError(){window.alert("Your request could not be processed due to a server error. Please retry in a new browser window. If the issue still persists, please contact WDG Design Tools Feedback <WDGDesignToolsFB@microsoft.com>."),this.sendFeedbackService.postFeedback({feedback:"Your request could not be processed due to a server error.",subjectType:"Error",isBlocking:!0},()=>{})}getIconType(e){return XS(e)?"Glyph":YS(e)?"Svg":JS(e)?"Png":null}normalizeMetadataItems(){if(this.metadataItems=[],this.libraryData.metadataItem1){const e=(new hR).createMetadataItemViewModel(this.libraryData.metadataItem1,this.icon,this.baseUrl);this.metadataItems.push(e)}if(this.libraryData.metadataItem2){const e=(new hR).createMetadataItemViewModel(this.libraryData.metadataItem2,this.icon,this.baseUrl);this.metadataItems.push(e)}if(this.libraryData.metadataItem3){const e=(new hR).createMetadataItemViewModel(this.libraryData.metadataItem3,this.icon,this.baseUrl);this.metadataItems.push(e)}}ngOnInit(){this.libraryData=this.libraryMetadataService.getLibraryByName(this.libraryName),this.icon?(this.icon.libraryName!==this.libraryName&&(this.libraryName=this.icon.libraryName,this.libraryData=this.libraryMetadataService.getLibraryByName(this.libraryName)),this.iconType=this.getIconType(this.icon),this.showGlyphUIs="Glyph"===this.iconType,this.getVisuallySimilarIcons(),this.normalizeMetadataItems(),setTimeout(()=>{this.resizeIfOverflowing(this.getIconElement(),this.defaultIconFontSize)},200),this.setHtmlContent(),this.deriveCopySize(),this.deriveDownloadSizeInformation()):this.checkResetFontSize(this.getIconElement(),this.defaultIconFontSize)}ngOnChanges(e){(function(e){let t=!0;for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];if(!i.firstChange&&i.currentValue!=i.previousValue){t=!1;break}}return t})(e)||(e.libraryName&&(this.libraryData=this.libraryMetadataService.getLibraryByName(this.libraryName)),e.icon&&this.icon&&(this.icon.libraryName!==this.libraryName&&(this.libraryName=this.icon.libraryName,this.libraryData=this.libraryMetadataService.getLibraryByName(this.libraryName)),this.iconType=this.getIconType(this.icon),this.showGlyphUIs="Glyph"===this.iconType,this.setHtmlContent(),this.deriveCopySize(),this.deriveDownloadSizeInformation(),this.getVisuallySimilarIcons(),this.normalizeMetadataItems()))}ngAfterContentChecked(){this.removeSvgTitleContent()}ngOnDestroy(){}}var fR=jn({encapsulation:0,styles:[['@charset "UTF-8";.label-heading[_ngcontent-%COMP%]{font-size:1.1rem}.tab-icon-card[_ngcontent-%COMP%]{width:180px;height:180px;margin:0 auto;overflow:hidden}.tab-icon-card.border-muted-primary[_ngcontent-%COMP%]{border:1px solid #d4ecff}.tab-icon-card[_ngcontent-%COMP%]   .card-body.card-item[_ngcontent-%COMP%]{outline:0;overflow:hidden;height:inherit;width:inherit}.tab-icon-card[_ngcontent-%COMP%]   .card-body.card-item[_ngcontent-%COMP%]:hover{cursor:pointer}.tab-icon-card[_ngcontent-%COMP%]   .card-body.card-item[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{font-size:64px;overflow:hidden}.tab-icon-card[_ngcontent-%COMP%]   .card-body.card-item[_ngcontent-%COMP%]   .png[_ngcontent-%COMP%], .tab-icon-card[_ngcontent-%COMP%]   .card-body.card-item[_ngcontent-%COMP%]   .svg[_ngcontent-%COMP%]{width:64px;overflow:hidden}.preview-container[_ngcontent-%COMP%]{width:180px}.divider-right[_ngcontent-%COMP%]{border-right:1px solid #ededed}.column-min-width[_ngcontent-%COMP%]{min-width:490px}.content-column[_ngcontent-%COMP%]{width:300px;flex-basis:300px}.content-column.divider-right[_ngcontent-%COMP%]{border-right:1px solid #ededed}.content-column[_ngcontent-%COMP%]   .content-min-width[_ngcontent-%COMP%]{min-width:296px}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer}.left-button-group[_ngcontent-%COMP%]   .dropdown-menu-right[_ngcontent-%COMP%], .right-button-group[_ngcontent-%COMP%]   .dropdown-menu-right[_ngcontent-%COMP%]{right:53px}.btn-group-floated-parent[_ngcontent-%COMP%]{clear:both}.btn-group-floated-parent[_ngcontent-%COMP%]   .btn-group-floated[_ngcontent-%COMP%]{float:left;margin:0 0 15px 15px;width:125px}.dropdown-menu[_ngcontent-%COMP%]{border:0;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important;min-width:unset;top:0;left:auto!important}#pngImageCopy[_ngcontent-%COMP%]{position:absolute;left:300px}.tab-vh-60[_ngcontent-%COMP%]{min-height:60vh}.text-size-14[_ngcontent-%COMP%]{font-size:14px}.icon-tab-action-button[_ngcontent-%COMP%]{width:182px}.dropdown-toggle.bg-white[_ngcontent-%COMP%]:hover, .icon-tab-action-button.bg-white[_ngcontent-%COMP%]:hover, .show[_ngcontent-%COMP%] > .btn-outline-primary.dropdown-toggle[_ngcontent-%COMP%]{color:#229fff}.more-options[_ngcontent-%COMP%]{-webkit-text-decoration-style:dashed!important;text-decoration-style:dashed!important;-webkit-text-decoration-line:underline!important;text-decoration-line:underline!important;cursor:pointer}.no-animation-fill-mode[_ngcontent-%COMP%]{-webkit-animation-fill-mode:none;animation-fill-mode:none}.download-file-action-container[_ngcontent-%COMP%]   .col-6.btn-group[_ngcontent-%COMP%]:first-child{padding-right:7px}.download-file-action-container[_ngcontent-%COMP%]   .col-6.btn-group[_ngcontent-%COMP%]:last-child{padding-left:7px}.documents-icon[_ngcontent-%COMP%]{font-family:FullMDL2}.documents-icon[_ngcontent-%COMP%]:before{content:"\ue8c8"}.name-unicode-separator[_ngcontent-%COMP%]{font-family:MemMDL2;color:rgba(0,0,0,.15);position:relative;top:3px;margin:auto .7rem}.name-unicode-separator[_ngcontent-%COMP%]:before{content:"\ue738"}.icon-label-link[_ngcontent-%COMP%], .open-modal-link[_ngcontent-%COMP%]{text-decoration:none}.icon-label-link[_ngcontent-%COMP%]:hover, .open-modal-link[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:none}']],data:{}});function gR(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"span",[["class","name-unicode-separator mx-2"],["test-id","icon-label-slash"]],null,null,null,null,null))],null,null)}function mR(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"a",[["class","icon-label-link"],["test-id","icon-label-unicode-link"]],null,[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onCopyTextClick(r.icon.unicodeValue,"Unicode")&&i),i}),null,null)),(e()(),Dl(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Wl(2,null,["",""]))],null,(function(e,t){e(t,2,0,t.component.icon.unicodeValue)}))}function yR(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"div",[["class","glyph text-center"],["test-id","glyphRenderDiv"]],null,null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){var n=t.component;e(t,1,0,n.icon.transformedGlyph?n.icon.transformedGlyph:n.icon.glyph)}))}function bR(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"div",[["class","svg"],["test-id","svgRenderDiv"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.htmlContent)}))}function vR(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"div",[["class","png"],["test-id","pngRenderDiv"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.htmlContent)}))}function wR(e){return Xl(0,[(e()(),Dl(0,0,null,null,7,"section",[["class","card tab-icon-card border-muted-primary mb-2"]],null,null,null,null,null)),(e()(),Dl(1,0,[[2,0],["previewGlyphContainer",1]],null,6,"div",[["class","card-body card-item d-flex justify-content-center align-items-center"],["tabindex","2"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onCopyPreviewGlyph()&&i),i}),null,null)),(e()(),Ol(16777216,null,null,1,null,yR)),Yi(3,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,bR)),Yi(5,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,vR)),Yi(7,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.icon&&n.icon.unicodeValue&&n.icon.unicodeValue.length>0),e(t,5,0,n.icon&&n.icon.svgXml&&n.icon.svgXml.length>0),e(t,7,0,n.icon&&n.icon.pngBase64Data&&n.icon.pngBase64Data.length>0)}),null)}function CR(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function SR(e){return Xl(0,[(e()(),Dl(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),Ol(16777216,null,null,2,null,CR)),Yi(2,540672,null,0,Sa,[xn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),ql(3,{$implicit:0}),(e()(),Ol(0,null,null,0))],(function(e,t){var n=e(t,3,0,t.context.$implicit);e(t,2,0,n,Vi(t.parent,34))}),null)}function _R(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"section",[],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"visual-search-viewer",[],null,null,null,YN,GN)),Yi(2,2670592,[[3,4]],0,zN,[Hb,Gv,KS],{parentIcon:[0,"parentIcon"],isLoading:[1,"isLoading"],isLoaded:[2,"isLoaded"],isServiceUnavailable:[3,"isServiceUnavailable"],similarIcons:[4,"similarIcons"],svgSanitizedIconContent:[5,"svgSanitizedIconContent"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.icon,n.isLoading,n.isLoaded,n.isServiceUnavailable,n.visuallySimilarIcons,n.svgSanitizedIconContent)}),null)}function xR(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function IR(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),Ol(16777216,null,null,3,null,xR)),Yi(2,540672,null,0,Sa,[xn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),ql(3,{iconType:0,position:1}),ql(4,{ctx:0}),(e()(),Ol(0,null,null,0))],(function(e,t){var n=e(t,4,0,e(t,3,0,t.context.$implicit,t.context.index));e(t,2,0,n,Vi(t.parent.parent,32))}),null)}function kR(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"section",[["class","col-12 mx-0 px-0 btn-group-floated-parent"],["test-id","copyActionsSection"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"span",[["class","small text-secondary font-weight-normal d-block col-12 mb-2"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Copy icon"])),(e()(),Ol(16777216,null,null,1,null,IR)),Yi(4,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,4,0,t.component.libraryData.copyTypes)}),null)}function TR(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function MR(e){return Xl(0,[(e()(),Dl(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),Ol(16777216,null,null,2,null,TR)),Yi(2,540672,null,0,Sa,[xn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),ql(3,{$implicit:0}),(e()(),Ol(0,null,null,0))],(function(e,t){var n=e(t,3,0,t.context.$implicit);e(t,2,0,n,Vi(t.parent.parent,33))}),null)}function ER(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"section",[["class","col-12 mx-0 px-0 btn-group-floated-parent"],["test-id","downloadActionsSection"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"span",[["class","small text-secondary font-weight-normal d-block col-12 mb-2"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Download icon"])),(e()(),Ol(16777216,null,null,1,null,MR)),Yi(4,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,4,0,t.component.downloadActionContexts)}),null)}function PR(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"button",[["class","btn btn-primary icon-tab-action-button"],["test-id","copy-glyph"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onCopyGlyphClick()&&i),i}),null,null)),(e()(),Wl(-1,null,["Glyph"]))],null,null)}function OR(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"button",[["class","btn btn-primary icon-tab-action-button"],["test-id","copy-svg"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onCopySvgClick(r.copySize)&&i),i}),null,null)),(e()(),Wl(-1,null,["SVG"]))],null,null)}function DR(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"button",[["class","btn btn-primary icon-tab-action-button"],["test-id","copy-png"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onCopyPngClick(r.copySize)&&i),i}),null,null)),(e()(),Wl(1,null,["PNG (","px)"]))],null,(function(e,t){e(t,1,0,t.component.copySize)}))}function NR(e){return Xl(0,[(e()(),Dl(0,0,null,null,6,"div",[["class","btn-group btn-group-sm btn-group-floated"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,PR)),Yi(2,278528,null,0,ya,[xn,Sn,ma],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Ol(16777216,null,null,1,null,OR)),Yi(4,278528,null,0,ya,[xn,Sn,ma],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Ol(16777216,null,null,1,null,DR)),Yi(6,278528,null,0,ya,[xn,Sn,ma],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){e(t,2,0,"Glyph"),e(t,4,0,"Svg"),e(t,6,0,"Png")}),null)}function RR(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"button",[["class","btn btn-primary icon-tab-action-button"],["test-id","copy-svg"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onCopySvgClick(r.copySize)&&i),i}),null,null)),(e()(),Wl(1,null,["SVG (","px)"]))],null,(function(e,t){e(t,1,0,t.component.copySize)}))}function AR(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"button",[["class","btn btn-primary icon-tab-action-button"],["test-id","copy-png"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onCopyPngClick(r.copySize)&&i),i}),null,null)),(e()(),Wl(1,null,["PNG (","px)"]))],null,(function(e,t){e(t,1,0,t.component.copySize)}))}function LR(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"div",[["class","btn-group btn-group-sm btn-group-floated"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,RR)),Yi(2,278528,null,0,ya,[xn,Sn,ma],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Ol(16777216,null,null,1,null,AR)),Yi(4,278528,null,0,ya,[xn,Sn,ma],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){e(t,2,0,"Svg"),e(t,4,0,"Png")}),null)}function FR(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"button",[["class","btn btn-primary icon-tab-action-button"],["test-id","copy-svg"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onCopySvgClick(r.copySize)&&i),i}),null,null)),(e()(),Wl(1,null,["SVG (","px)"]))],null,(function(e,t){e(t,1,0,t.component.copySize)}))}function $R(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"button",[["class","btn btn-primary icon-tab-action-button"],["test-id","copy-png"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onCopyPngClick(r.copySize)&&i),i}),null,null)),(e()(),Wl(1,null,["PNG (","px)"]))],null,(function(e,t){e(t,1,0,t.component.copySize)}))}function VR(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"div",[["class","btn-group btn-group-sm btn-group-floated"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,FR)),Yi(2,278528,null,0,ya,[xn,Sn,ma],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Ol(16777216,null,null,1,null,$R)),Yi(4,278528,null,0,ya,[xn,Sn,ma],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(e,t){e(t,2,0,"Svg"),e(t,4,0,"Png")}),null)}function UR(e){return Xl(0,[(e()(),Dl(0,0,null,null,7,null,null,null,null,null,null,null)),Yi(1,16384,null,0,ma,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),Ol(16777216,null,null,1,null,NR)),Yi(3,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,LR)),Yi(5,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,VR)),Yi(7,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,t.context.ctx.iconType),e(t,3,0,"Glyph"==n.iconType),e(t,5,0,"Svg"==n.iconType),e(t,7,0,"Png"==n.iconType)}),null)}function jR(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"button",[["aria-expanded","false"],["aria-haspopup","true"],["class","btn btn-outline-primary bg-white\n            text-primary dropdown-toggle dropdown-toggle-split"],["data-toggle","dropdown"],["type","button"]],[[1,"id",0],[1,"test-id",0]],null,null,null,null)),(e()(),Dl(1,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Toggle Dropdown"]))],null,(function(e,t){e(t,0,0,fi(1,"",t.parent.context.$implicit.extension,"Download"),fi(1,"",t.parent.context.$implicit.extension,"Download"))}))}function zR(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","dropdown-item"],["role","link"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDownloadIconClick(e.parent.parent.context.$implicit.extension,e.context.$implicit)&&i),i}),null,null)),(e()(),Wl(1,null,["","px"]))],null,(function(e,t){e(t,0,0,fi(2,"download-",t.parent.parent.context.$implicit.extension,"",t.context.$implicit,"")),e(t,1,0,t.context.$implicit)}))}function GR(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"div",[["class","dropdown-menu dropdown-menu-right animate fadeIn"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,zR)),Yi(2,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.downloadSizes)}),null)}function BR(e){return Xl(0,[(e()(),Dl(0,0,null,null,6,"div",[["class","btn-group btn-group-sm btn-group-floated"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"button",[["class","btn btn-outline-primary bg-white icon-tab-action-button"],["type","button"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDownloadIconClick(e.context.$implicit.extension,e.context.$implicit.size)&&i),i}),null,null)),(e()(),Wl(2,null,["",""])),(e()(),Ol(16777216,null,null,1,null,jR)),Yi(4,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,GR)),Yi(6,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.downloadSizes.length>1&&n.supportsDownloadSizes(t.context.$implicit.action)),e(t,6,0,n.downloadSizes.length>1&&n.supportsDownloadSizes(t.context.$implicit.action))}),(function(e,t){var n=t.component;e(t,1,0,fi(2,"download-",t.context.$implicit.extension,"-default",t.context.$implicit.size,"")),e(t,2,0,n.getDownloadTypeText(t.context.$implicit.action))}))}function HR(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function qR(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","small text-secondary font-weight-normal"]],null,null,null,null,null)),(e()(),Wl(1,null,["",""])),(e()(),Dl(2,0,null,null,5,"section",[["class","mb-3"]],null,null,null,null,null)),(e()(),Dl(3,0,null,null,1,"span",[["class","text-secondary font-weight-normal"]],null,null,null,null,null)),(e()(),Wl(4,null,["",""])),(e()(),Ol(16777216,null,null,2,null,HR)),Yi(6,540672,null,0,Sa,[xn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),ql(7,{$implicit:0})],(function(e,t){var n=e(t,7,0,t.context.$implicit);e(t,6,0,n,Vi(t.parent,35))}),(function(e,t){e(t,1,0,t.context.$implicit.sourceItem.label),e(t,4,0,t.context.$implicit.hasContent?"":"None")}))}function KR(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","text-secondary font-weight-normal text-muted"]],null,null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit.word)}))}function WR(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,KR)),Yi(2,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null),(e()(),Ol(0,null,null,0))],(function(e,t){e(t,2,0,t.parent.context.$implicit.orderedWords)}),null)}function QR(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","badge badge-light text-capitalize font-weight-normal border mr-1"]],null,null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit.word)}))}function ZR(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,QR)),Yi(2,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null),(e()(),Ol(0,null,null,0))],(function(e,t){e(t,2,0,t.parent.context.$implicit.orderedWords)}),null)}function XR(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"a",[["class","badge badge-light text-capitalize font-weight-normal border mr-1"]],[[8,"href",4]],null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,0,0,fi(1,"",t.context.$implicit.url,"")),e(t,1,0,t.context.$implicit.word)}))}function YR(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,XR)),Yi(2,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null),(e()(),Ol(0,null,null,0))],(function(e,t){e(t,2,0,t.parent.context.$implicit.orderedWords)}),null)}function JR(e){return Xl(0,[(e()(),Dl(0,0,null,null,7,null,null,null,null,null,null,null)),Yi(1,16384,null,0,ma,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),Ol(16777216,null,null,1,null,WR)),Yi(3,278528,null,0,ya,[xn,Sn,ma],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Ol(16777216,null,null,1,null,ZR)),Yi(5,278528,null,0,ya,[xn,Sn,ma],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Ol(16777216,null,null,1,null,YR)),Yi(7,278528,null,0,ya,[xn,Sn,ma],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),Ol(0,null,null,0))],(function(e,t){e(t,1,0,t.context.$implicit.sourceItem.dataStyle),e(t,3,0,t.context.$implicit.dataStyles.Text),e(t,5,0,t.context.$implicit.dataStyles.Pill),e(t,7,0,t.context.$implicit.dataStyles.ClickablePill)}),null)}function eA(e){return Xl(0,[Fl(671088640,1,{downloadFileComponent:0}),Fl(671088640,2,{previewContainer:0}),Fl(671088640,3,{visualSimilarIconComponent:0}),(e()(),Dl(3,0,null,null,28,"section",[],null,null,null,null,null)),(e()(),Dl(4,0,null,null,9,"section",[["class","label-heading font-weight-normal pt-1 pb-3"],["test-id","icon-label-heading"]],null,null,null,null,null)),(e()(),Dl(5,0,null,null,1,"breadcrumb",[],null,null,null,cN,eN)),Yi(6,638976,null,0,JD,[Gv],{libraryName:[0,"libraryName"],collectionName:[1,"collectionName"],showCollectionAsLink:[2,"showCollectionAsLink"],collectionNames:[3,"collectionNames"],viewContext:[4,"viewContext"]},null),(e()(),Dl(7,0,null,null,2,"a",[["class","icon-label-link"]],null,[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onCopyTextClick(r.icon.friendlyName,"Friendly name")&&i),i}),null,null)),(e()(),Dl(8,0,null,null,1,"span",[["class","text-capitalize"],["test-id","friendlyname"]],null,null,null,null,null)),(e()(),Wl(9,null,["",""])),(e()(),Ol(16777216,null,null,1,null,gR)),Yi(11,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,mR)),Yi(13,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(14,0,null,null,17,"section",[["class","d-flex flex-row w-100"]],null,null,null,null,null)),(e()(),Dl(15,0,null,null,9,"section",[["class","d-flex flex-column col-lg-6 col-xl-8 px-0 w-100 content-column column-min-width divider-right"]],null,null,null,null,null)),(e()(),Dl(16,0,null,null,6,"section",[["class","d-flex flex-row pb-2"]],null,null,null,null,null)),(e()(),Dl(17,0,null,null,2,"section",[["class","d-flex flex-row mr-3 preview-container"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,wR)),Yi(19,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(20,0,null,null,2,"section",[["class","d-flex flex-column col-lg-6 col-xl-8 pr-5"],["id","metadataItemsSection"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,SR)),Yi(22,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null),(e()(),Ol(16777216,null,null,1,null,_R)),Yi(24,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(25,0,null,null,4,"section",[["class","w-100"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,kR)),Yi(27,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,ER)),Yi(29,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(30,0,null,null,1,"download-file",[],null,null,null,jM,UM)),Yi(31,49152,[[1,4]],0,VM,[KS,Hb,p_],null,null),(e()(),Ol(0,[["copyAction",2]],null,0,null,UR)),(e()(),Ol(0,[["downloadAction",2]],null,0,null,BR)),(e()(),Ol(0,[["metadataItem",2]],null,0,null,qR)),(e()(),Ol(0,[["metadataItemContent",2]],null,0,null,JR))],(function(e,t){var n=t.component;e(t,6,0,n.libraryName,n.collectionName,!0,n.icon.fonts,n.viewContext),e(t,11,0,n.showGlyphUIs),e(t,13,0,n.showGlyphUIs),e(t,19,0,n.icon),e(t,22,0,n.metadataItems),e(t,24,0,n.libraryData.downloadTypes&&n.libraryData.downloadTypes.length>0&&n.libraryData.downloadTypes.includes("Svg")),e(t,27,0,n.libraryData.copyTypes&&n.libraryData.copyTypes.length>0),e(t,29,0,n.libraryData.downloadTypes&&n.libraryData.downloadTypes.length>0)}),(function(e,t){e(t,9,0,t.component.icon.friendlyName)}))}var tA=jn({encapsulation:0,styles:[['@charset "UTF-8";.inline-icon-viewer[_ngcontent-%COMP%]{min-height:390px;transition:height 2s}.inline-icon-viewer[_ngcontent-%COMP%]   .icon-viewer-content-container[_ngcontent-%COMP%]{background-color:rgba(0,120,212,.05);position:relative;min-height:390px}.inline-icon-viewer[_ngcontent-%COMP%]   .icon-viewer-content-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{margin:0 10%}@media (min-width:1400px){.inline-icon-viewer[_ngcontent-%COMP%]   .icon-viewer-content-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{margin:0 12.5%}}@media (min-width:1600px){.inline-icon-viewer[_ngcontent-%COMP%]   .icon-viewer-content-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{margin:0 15%}}.inline-icon-viewer[_ngcontent-%COMP%]   .close.position-absolute[_ngcontent-%COMP%]{right:18px;top:8px}.inline-icon-viewer[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{font-family:MemMDL2;font-size:14px}.inline-icon-viewer[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]:before{content:"\ue711"}@-webkit-keyframes fadeIn{from{opacity:0}}@keyframes fadeIn{from{opacity:0}}.fadeIn[_ngcontent-%COMP%]{-webkit-animation:.3s ease-in fadeIn;animation:.3s ease-in fadeIn}']],data:{}});function nA(e){return Xl(0,[(e()(),Dl(0,0,null,null,8,"li",[["class","inline-icon-viewer fadeIn d-block my-1"],["id","inline-icon-viewer"],["test-id","inline-icon-viewer"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,7,"section",[["class","icon-viewer-content-container"]],null,null,null,null,null)),(e()(),Dl(2,0,null,null,6,"section",[["class","icon-viewer-content p-3"]],null,null,null,null,null)),(e()(),Dl(3,0,null,null,2,"aside",[],null,null,null,null,null)),(e()(),Dl(4,0,[["closeViewer",1]],null,1,"button",[["class","btn close position-absolute"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onCloseViewerClick()&&i),i}),null,null)),(e()(),Dl(5,0,null,null,0,"span",[["class","close-icon"]],null,null,null,null,null)),(e()(),Dl(6,0,null,null,2,"section",[["class","content-container py-2 px-0"]],null,null,null,null,null)),(e()(),Dl(7,0,null,null,1,"inline-content-panel-icons",[],null,[[null,"weightedWordEmitToParent"]],(function(e,t,n){var i=!0;return"weightedWordEmitToParent"===t&&(i=!1!==e.component.onWeightedWordEmitToParentContainer(n)&&i),i}),eA,fR)),Yi(8,2867200,null,0,pR,[xO,KS,b_,Cu,Hb,p_,h_,Xt,i_,Gv,"BASE_URL"],{icon:[0,"icon"],libraryName:[1,"libraryName"],collectionName:[2,"collectionName"],viewContext:[3,"viewContext"]},{weightedWordEmitToParent:"weightedWordEmitToParent"})],(function(e,t){var n=t.component;e(t,8,0,n.selectedIcon,n.libraryName,n.collectionName,n.viewContext)}),null)}function iA(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"inline-icon-viewer",[],null,null,null,nA,tA)),Yi(1,49152,null,0,vO,[Xt,Gv],null,null)],null,null)}var rA=Mi("inline-icon-viewer",vO,iA,{},{},[]),lA=jn({encapsulation:0,styles:[[".modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-top:-.7rem}.modal-body[_ngcontent-%COMP%]{max-height:60vh}"]],data:{}});function sA(e){return Xl(0,[(e()(),Dl(0,0,null,null,15,"div",[["test-id","downloadWarningModal"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,5,"header",[["class","modal-header"]],null,null,null,null,null)),(e()(),Dl(2,0,null,null,1,"h5",[["class","modal-title col-10"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Warning"])),(e()(),Dl(4,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.activeModal.dismiss("Cross click")&&i),i}),null,null)),(e()(),Dl(5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Wl(-1,null,["\xd7"])),(e()(),Dl(7,0,null,null,3,"section",[["class","modal-body"]],null,null,null,null,null)),(e()(),Dl(8,0,null,null,2,"div",[["class","modal-body justify-content-center mx-auto"]],null,null,null,null,null)),(e()(),Dl(9,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Wl(10,null,["",""])),(e()(),Dl(11,0,null,null,4,"footer",[["class","modal-footer"]],null,null,null,null,null)),(e()(),Dl(12,0,null,null,1,"button",[["class","btn text-white bg-secondary"],["ngbAutofocus",""],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.activeModal.close("Close click")&&i),i}),null,null)),(e()(),Wl(-1,null,["Close"])),(e()(),Dl(14,0,null,null,1,"button",[["class","btn btn-primary"],["test-id","confirmDownloadBtn"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(r.onConfirmationClick(),i=!1!==r.activeModal.close("Close click")&&i),i}),null,null)),(e()(),Wl(-1,null,["Download"]))],null,(function(e,t){e(t,10,0,t.component.warningText)}))}function oA(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"modal-download-warning",[],null,null,null,sA,lA)),Yi(1,114688,null,0,zM,[rk],null,null)],(function(e,t){e(t,1,0)}),null)}var aA=Mi("modal-download-warning",zM,oA,{warningText:"warningText"},{passedConfirmation:"passedConfirmation"},[]);class cA{constructor(e,t){this.activeModal=e,this.appInsightsService=t,this.onSelectedCollectionChange=new Cr,this.collectionsByColumn=[],this.minRowsPerColumn=8,this.maxColumns=4,this.calculateRowsPerColumn=e=>{let t=this.minRowsPerColumn;return e>this.minRowsPerColumn*this.maxColumns&&(t=Math.ceil(e/this.maxColumns)),t},this.groupCollectionsByColumn=e=>{let t=[],n=[],i=this.calculateRowsPerColumn(e.length);return e.forEach((r,l)=>{n.push(r),(n.length>=i||l>=e.length-1)&&(t.push(n),n=[])}),t},this.onCollectionClick=(e,t)=>{e.stopPropagation(),e.preventDefault(),this.onSelectedCollectionChange.emit(t),this.appInsightsService.trackEvent("related-subset-font-click",{component:"modal-fonts-content",libraryName:this.libraryName,collectionName:t}),this.activeModal.close()}}ngOnInit(){this.collectionsByColumn=this.groupCollectionsByColumn(this.selectedGlyph?this.selectedGlyph.fonts:[])}}var uA=jn({encapsulation:0,styles:[[""]],data:{}});function hA(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"li",[["class","py-1 d-flex"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"a",[["class","text-primary text-truncate"],["href","#"]],[[8,"title",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onCollectionClick(n,e.context.$implicit)&&i),i}),null,null)),(e()(),Wl(2,null,[" "," "]))],null,(function(e,t){e(t,1,0,fi(1,"",t.context.$implicit,""));var n=t.context.$implicit.replace("Assets","");e(t,2,0,n)}))}function dA(e){return Xl(0,[(e()(),Dl(0,0,null,null,3,"section",[["class","d-flex col-3"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,2,"ul",[["class","list-unstyled w-100"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,hA)),Yi(3,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,3,0,t.context.$implicit)}),null)}function pA(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"section",[["class","d-flex"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,dA)),Yi(2,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.collectionsByColumn)}),null)}class fA{constructor(e,t,n){this.activeModal=e,this.store=t,this.libraryMetadataService=n,this.setSelectedLibraryCollection=e=>{const t=this.libraryMetadataService.getLibraryByName(this.libraryName).collectionsMetadata.find(t=>t.name===e);Yw(this.store,new Uw(this.libraryName,e,t.internalKey)),LS(this.store,new bw(e,0,!0,t.internalKey,t.libraryName)),EE(this.store,"/browse")}}ngOnInit(){}}var gA=jn({encapsulation:0,styles:[[".modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-top:-.7rem}.modal-body[_ngcontent-%COMP%]{max-height:60vh}"]],data:{}});function mA(e){return Xl(0,[(e()(),Dl(0,0,null,null,5,"header",[["class","modal-header"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"h4",[["class","modal-title col-10"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Fonts with this icon"])),(e()(),Dl(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.activeModal.dismiss("Cross click")&&i),i}),null,null)),(e()(),Dl(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Wl(-1,null,["\xd7"])),(e()(),Dl(6,0,null,null,2,"section",[["class","modal-body"]],null,null,null,null,null)),(e()(),Dl(7,0,null,null,1,"modal-fonts-content",[],null,[[null,"onSelectedCollectionChange"]],(function(e,t,n){var i=!0;return"onSelectedCollectionChange"===t&&(i=!1!==e.component.setSelectedLibraryCollection(n)&&i),i}),pA,uA)),Yi(8,114688,null,0,cA,[rk,Hb],{selectedGlyph:[0,"selectedGlyph"],libraryName:[1,"libraryName"]},{onSelectedCollectionChange:"onSelectedCollectionChange"}),(e()(),Dl(9,0,null,null,2,"footer",[["class","modal-footer"]],null,null,null,null,null)),(e()(),Dl(10,0,null,null,1,"button",[["class","btn btn-outline-primary"],["ngbAutofocus",""],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.activeModal.close("Close click")&&i),i}),null,null)),(e()(),Wl(-1,null,["Close"]))],(function(e,t){var n=t.component;e(t,8,0,n.selectedGlyph,n.libraryName)}),null)}function yA(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"modal-fonts",[],null,null,null,mA,gA)),Yi(1,114688,null,0,fA,[rk,Gv,i_],null,null)],(function(e,t){e(t,1,0)}),null)}var bA=Mi("modal-fonts",fA,yA,{friendlyName:"friendlyName",selectedGlyph:"selectedGlyph",libraryName:"libraryName"},{},[]);class vA{constructor(){this.message=""}ngOnInit(){}}var wA=jn({encapsulation:0,styles:[[""]],data:{}});function CA(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"div",[["class","spinner-border text-primary"],["role","status"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,0,"span",[["class","sr-only"]],null,null,null,null,null))],null,null)}class SA{constructor(){this.isBlocking=!1,this.onFeedBackTextInput=new Cr,this.onIsBlockingClick=new Cr}onTextAreaKeyPress(e){this.feedbackText=e.target.value,this.onFeedBackTextInput.emit(this.feedbackText)}onIsBlockingCheck(){this.isBlocking=!this.isBlocking,this.onIsBlockingClick.emit(this.isBlocking)}ngOnInit(){}}var _A=jn({encapsulation:0,styles:[[""]],data:{}});function xA(e){return Xl(0,[(e()(),Dl(0,0,null,null,6,"section",[["class","col-12"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Wl(-1,null,["Please share your feedback or any steps to reproduce an issue experienced."])),(e()(),Dl(3,0,null,null,0,"textarea",[["class","col-12 d-inline-block"],["rows","10"],["test-id","feedback-text-entry"]],null,[[null,"input"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==e.component.onTextAreaKeyPress(n)&&i),i}),null,null)),(e()(),Dl(4,0,null,null,0,"input",[["class","lm-2"],["id","is-blocking"],["test-id","feedback-is-blocking"],["type","checkbox"]],null,[[null,"input"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==e.component.onIsBlockingCheck(n)&&i),i}),null,null)),(e()(),Dl(5,0,null,null,1,"label",[["class","form-check-label pl-2"],["for","is-blocking"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Is this issue blocking your work?"]))],null,null)}function IA(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"section",[],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"p",[["class","text-center"],["test-id","feedback-submit-success"]],null,null,null,null,null)),(e()(),Wl(-1,null,[" Thank you for your feedback. Someone will reach out to you if we require any further information."]))],null,null)}function kA(e){return Xl(0,[(e()(),Dl(0,0,null,null,5,"section",[],null,null,null,null,null)),(e()(),Dl(1,0,null,null,4,"p",[["class","text-center"],["test-id","feedback-submit-failed"]],null,null,null,null,null)),(e()(),Wl(-1,null,[" Unfortunately your feedback was not submitted. Please try again or reach out to "])),(e()(),Dl(3,0,null,null,1,"a",[["href","mailto://designtools@microsoft.com"]],null,null,null,null,null)),(e()(),Wl(-1,null,["designtools@microsoft.com"])),(e()(),Wl(-1,null,[" directly."]))],null,null)}function TA(e){return Xl(0,[(e()(),Ol(16777216,null,null,1,null,xA)),Yi(1,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,IA)),Yi(3,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,kA)),Yi(5,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.notSubmitted),e(t,3,0,n.submitSuccess),e(t,5,0,n.submitFailed)}),null)}var MA=jn({encapsulation:0,styles:[['@charset "UTF-8";@font-face{font-family:CortMDL2;src:url(/assets/fonts/CortMDL2.woff) format("woff");font-weight:400;font-style:normal}@font-face{font-family:MemMDL2;src:url(/assets/fonts/MemMDL2.woff) format("woff");font-weight:400;font-style:normal}.closeBox[_ngcontent-%COMP%]{position:absolute;right:0;top:0}.lowerIconContainer[_ngcontent-%COMP%], .upperIconContainer[_ngcontent-%COMP%]{align-items:center;display:grid;text-align:center;vertical-align:middle}.upperIconContainer[_ngcontent-%COMP%]{padding-top:10rem}.upperIconPlaceholder[_ngcontent-%COMP%]{height:3rem}.lowerIconPlaceholder[_ngcontent-%COMP%]{height:1rem}.sadIcon[_ngcontent-%COMP%]{font-family:MemMDL2;font-size:2rem;height:3rem}.sadIcon[_ngcontent-%COMP%]:before{content:"\ue757"}.happyIcon[_ngcontent-%COMP%]{font-family:MemMDL2;font-size:2rem;height:3rem}.happyIcon[_ngcontent-%COMP%]:before{content:"\ued54"}.feedbackModalWrapper[_ngcontent-%COMP%]{height:30.5rem}']],data:{}});function EA(e){return Xl(0,[(e()(),Dl(0,0,null,null,5,"header",[["class","modal-header"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"h4",[["class","modal-title col-10"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Submit feedback"])),(e()(),Dl(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["test-id","btnFeedbackClose"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.activeModal.dismiss("Cross click")&&i),i}),null,null)),(e()(),Dl(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Wl(-1,null,["\xd7"]))],null,null)}function PA(e){return Xl(0,[(e()(),Dl(0,0,null,null,13,"div",[],null,null,null,null,null)),(e()(),Dl(1,0,null,null,2,"button",[["aria-label","Close"],["class","close closeBox mt-3 mr-3"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.activeModal.dismiss("Cross click")&&i),i}),null,null)),(e()(),Dl(2,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Wl(-1,null,["\xd7"])),(e()(),Dl(4,0,null,null,2,"div",[["class","upperIconContainer"]],null,null,null,null,null)),(e()(),Dl(5,0,null,null,1,"span",[["class","upperIconPlaceholder"]],null,null,null,null,null)),(e()(),Wl(-1,null,["\xa0"])),(e()(),Dl(7,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),Dl(8,0,null,null,2,"header",[["class","text-center align-middle feedbackResponseHeader"]],null,null,null,null,null)),(e()(),Dl(9,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Submitting your feedback..."])),(e()(),Dl(11,0,null,null,2,"div",[["class","lowerIconContainer"],["style","height: 6rem"]],null,null,null,null,null)),(e()(),Dl(12,0,null,null,1,"spinner",[],null,null,null,CA,wA)),Yi(13,114688,null,0,vA,[],null,null)],(function(e,t){e(t,13,0)}),null)}function OA(e){return Xl(0,[(e()(),Dl(0,0,null,null,11,"div",[],null,null,null,null,null)),(e()(),Dl(1,0,null,null,2,"button",[["aria-label","Close"],["class","close closeBox mt-3 mr-3"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.activeModal.dismiss("Cross click")&&i),i}),null,null)),(e()(),Dl(2,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Wl(-1,null,["\xd7"])),(e()(),Dl(4,0,null,null,1,"div",[["class","upperIconContainer"]],null,null,null,null,null)),(e()(),Dl(5,0,null,null,0,"span",[["class","sadIcon text-warning"]],null,null,null,null,null)),(e()(),Dl(6,0,null,null,2,"header",[["class","text-center align-middle feedbackResponseHeader"]],null,null,null,null,null)),(e()(),Dl(7,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Something went wrong"])),(e()(),Dl(9,0,null,null,2,"div",[["class","lowerIconContainer"]],null,null,null,null,null)),(e()(),Dl(10,0,null,null,1,"span",[["class","lowerIconPlaceholder"]],null,null,null,null,null)),(e()(),Wl(-1,null,["\xa0"]))],null,null)}function DA(e){return Xl(0,[(e()(),Dl(0,0,null,null,11,"div",[],null,null,null,null,null)),(e()(),Dl(1,0,null,null,2,"button",[["aria-label","Close"],["class","close closeBox mt-3 mr-3"],["test-id","btnSubmitSuccess"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.activeModal.dismiss("Cross click")&&i),i}),null,null)),(e()(),Dl(2,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Wl(-1,null,["\xd7"])),(e()(),Dl(4,0,null,null,1,"div",[["class","upperIconContainer"]],null,null,null,null,null)),(e()(),Dl(5,0,null,null,0,"span",[["class","happyIcon  text-success"]],null,null,null,null,null)),(e()(),Dl(6,0,null,null,2,"header",[["class","text-center align-middle feedbackResponseHeader"]],null,null,null,null,null)),(e()(),Dl(7,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Success!"])),(e()(),Dl(9,0,null,null,2,"div",[["class","lowerIconContainer"]],null,null,null,null,null)),(e()(),Dl(10,0,null,null,1,"span",[["class","lowerIconPlaceholder"]],null,null,null,null,null)),(e()(),Wl(-1,null,["\xa0"]))],null,null)}function NA(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"footer",[["class","modal-footer"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"button",[["class","btn btn-primary"],["ngbAutofocus",""],["test-id","btnFeedbackSubmit"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onSubmit()&&i),i}),null,null)),(e()(),Wl(-1,null,["Submit"]))],null,(function(e,t){e(t,1,0,t.component.disableSubmit)}))}function RA(e){return Xl(0,[(e()(),Dl(0,0,null,null,13,"div",[["class","feedbackModalWrapper"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,EA)),Yi(2,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,PA)),Yi(4,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,OA)),Yi(6,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,DA)),Yi(8,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(9,0,null,null,2,"section",[["class","modal-body"]],null,null,null,null,null)),(e()(),Dl(10,0,null,null,1,"modal-feedback-content",[],null,[[null,"onFeedBackTextInput"],[null,"onIsBlockingClick"]],(function(e,t,n){var i=!0,r=e.component;return"onFeedBackTextInput"===t&&(i=!1!==r.onFeedBackTextInput(n)&&i),"onIsBlockingClick"===t&&(i=!1!==r.toggleIsBlocking(n)&&i),i}),TA,_A)),Yi(11,114688,null,0,SA,[],{notSubmitted:[0,"notSubmitted"],submitSuccess:[1,"submitSuccess"],submitFailed:[2,"submitFailed"]},{onFeedBackTextInput:"onFeedBackTextInput",onIsBlockingClick:"onIsBlockingClick"}),(e()(),Ol(16777216,null,null,1,null,NA)),Yi(13,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.notSubmitted),e(t,4,0,n.waiting),e(t,6,0,n.submitFailed),e(t,8,0,n.submitSuccess),e(t,11,0,n.notSubmitted,n.submitSuccess,n.submitFailed),e(t,13,0,n.notSubmitted)}),null)}function AA(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"modal-feedback",[],null,null,null,RA,MA)),Yi(1,114688,null,0,_P,[rk,Mb,p_,Hb],null,null)],(function(e,t){e(t,1,0)}),null)}var LA=Mi("modal-feedback",_P,AA,{},{},[]);class FA{constructor(){this.onImageFileSubmitted=new Cr,this.errorText="",this.buttonText="or browse file",this.displayText="Drag and Drop Icon File Here<br>SVG up to 1Mb size",this.pngFileSupportEnabled=!1,this.onFilesSubmitted=([e,t])=>{if(e.length>1)return this.errorText="Multiple files not supported.",void(t||alert(this.errorText));const n=e[0];if(n.size>1048576||"image/svg+xml"!==n.type&&("image/png"!==n.type||!this.pngFileSupportEnabled))return this.errorText="File Type is not supported or size is too large.",void(t||alert(this.errorText));this.errorText="",this.onImageFileSubmitted.emit([n,t])}}}var $A=jn({encapsulation:0,styles:[[".dropdown-menu[_ngcontent-%COMP%]{top:43px;padding:20px;margin-left:-6px;width:350px;left:calc((350px - 100%)/ -2);transform:translate3d(0,0,0)!important}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-caret[_ngcontent-%COMP%]{position:absolute;top:calc(8px / -2);left:calc((350px - 8px)/ 2);z-index:10;background-color:#fff;width:8px;height:8px;transform:rotate(135deg)}.dropdown-area[_ngcontent-%COMP%]{border-radius:10px;border:2px dashed #ffd800}"]],data:{}});function VA(e){return Xl(0,[(e()(),Dl(0,0,null,null,9,"section",[["class","dropdown-menu border-0 shadow animate"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,0,"span",[["class","dropdown-caret"]],null,null,null,null,null)),(e()(),Dl(2,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),Dl(3,0,null,null,1,"h5",[["class","text-center"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Try Visual Search (Beta)"])),(e()(),Dl(5,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Search with a picture instead of text"])),(e()(),Dl(7,0,null,null,2,"div",[["class","dropdown-area"]],null,null,null,null,null)),(e()(),Dl(8,0,null,null,1,"upload",[],null,[[null,"onFilesSubmitted"]],(function(e,t,n){var i=!0;return"onFilesSubmitted"===t&&(i=!1!==e.component.onFilesSubmitted(n)&&i),i}),aM,lM)),Yi(9,49152,null,0,rM,[Hb],{displayText:[0,"displayText"],buttonText:[1,"buttonText"],errorText:[2,"errorText"]},{onFilesSubmitted:"onFilesSubmitted"})],(function(e,t){var n=t.component;e(t,9,0,fi(1,"",n.displayText,""),fi(1,"",n.buttonText,""),fi(1,"",n.errorText,""))}),null)}class UA{constructor(e,t,n,i,r,l,s,o,a){this.modalService=e,this.searchInputService=t,this.iconApiService=n,this.userProfileService=i,this.appRoutingStateRulesService=r,this.libraryMetadataService=l,this.appInsightsService=s,this.notificationApiService=o,this.store=a,this.isMinimalistDesign=!1,this.viewContextSubscription=new h,this.dataAvailableSubscription=new h,this.onHomeClick=()=>{sS(this.store,""),oS(this.store,""),aS(this.store,""),cS(this.store,""),JC(this.store,null),Yw(this.store,new Uw("Full MDL2 Assets","Full MDL2 Assets","8f58e9e1e-c4094e9ea")),AS(this.store,this.defaultLibraryGroupFacet),LS(this.store,this.defaultCollectionFacet),EE(this.store,"/"),this.appInsightsService.trackEvent("home-click",{component:"nav-bar"})},this.searchValue="",this.isEnterKeyPressed=!1,this.openSuggestionBox=!1,this.minInputLength=2,this.placeholderText="Search across all libraries",this.suggestions=[],this.keywords=[],this.relatedKeywords=[],this.suggestedCollections=[],this.exactMatchKeyword="",this.keyInputSubscription=new h,this.enterKeySubscription=new h,this.onClearSearchButtonClick=()=>{this.isEnterKeyPressed?this.isEnterKeyPressed=!1:(this.searchValue="",sS(this.store,""),oS(this.store,""),aS(this.store,""),cS(this.store,""),JC(this.store,null),Yw(this.store,new Uw("Full MDL2 Assets","Full MDL2 Assets","8f58e9e1e-c4094e9ea")),AS(this.store,this.defaultLibraryGroupFacet),LS(this.store,this.defaultCollectionFacet),this.appInsightsService.trackEvent("search-clear-click",{component:"search"}),EE(this.store,"/browse"))},this.onSearchButtonClick=(e,t)=>{t&&0!==t.length&&(e&&e.preventDefault(),1===t.length&&this.isGlyphSearch(t)&&(t=this.getUnicodeFromGlyph(t)),sS(this.store,t),oS(this.store,""),aS(this.store,""),cS(this.store,""),JC(this.store,null),this.appRoutingStateRulesService.applyRoutingRules("search"),EE(this.store,"search"),this.appInsightsService.trackEvent("search-click",{component:"search",terms:t}),this.openSuggestionBox=!1)},this.onSuggestionClick=e=>{this.searchInputService.setTerms(e),sS(this.store,e),oS(this.store,""),aS(this.store,""),cS(this.store,""),JC(this.store,null),this.appRoutingStateRulesService.applyRoutingRules("search"),EE(this.store,"search"),this.appInsightsService.trackEvent("search-suggestion-click",{component:"suggestion-dropdown",terms:e}),this.openSuggestionBox=!1},this.onRelatedKeywordClick=(e,t=!1)=>{oS(this.store,e),sS(this.store,""),aS(this.store,""),cS(this.store,""),this.searchInputService.setTerms(""),this.appInsightsService.trackEvent("search-related-keyword-click",{component:"suggestion-dropdown",[t?"exactKeyword":"keyword"]:e}),this.openSuggestionBox=!1,this.appRoutingStateRulesService.applyRoutingRules("search"),EE(this.store,"search")},this.onFontCollectionClick=e=>{this.searchInputService.setTerms(""),this.searchInputService.setKeyWords(""),this.appInsightsService.trackEvent("search-suggestion-click",{component:"suggestion-dropdown",collection:e.collectionName}),this.openSuggestionBox=!1,Yw(this.store,new Uw(e.libraryName,e.collectionName,(this.selectedCollection.name===e.collectionName?this.selectedCollection:null).internalKey)),this.appRoutingStateRulesService.applyRoutingRules("browse"),EE(this.store,"browse")},this.onSearchInputKeyUp=e=>{this.searchInputService.setKeyboardInput(e.target.value)},this.onSearchInputKeyPress=e=>{13===e.keyCode&&(this.searchInputService.setEnterKeyPressed(!0),this.searchButton.nativeElement.focus(),this.searchButton.nativeElement.focus()&&this.searchInputService.setEnterKeyPressed(!1))},this.onImageFileSubmitted=([e,t])=>{if(e&&(t&&this.visualSearchElement.nativeElement.click(),this.openSuggestionBox=!1,e.type&&("image/svg+xml"===e.type||"image/png"===e.type))){const t=new FileReader;t.onload=e=>{var n=t.result;sS(this.store,""),oS(this.store,""),aS(this.store,n.toString()),cS(this.store,""),JC(this.store,null),AS(this.store,new Tw("All Libraries",0,!0,[],[])),LS(this.store,null),EE(this.store,"search/image"),this.appInsightsService.trackEvent("search-file-dropped",{component:"search"})},("image/svg+xml"===e.type||"image/png"===e.type)&&t.readAsDataURL(e)}},this.isGlyphSearch=e=>!/\w/.test(e),this.getUnicodeFromGlyph=e=>{let t=e.charCodeAt(0).toString(16);return t.length>=4?t.toUpperCase():e},this.onSearchInputFocus=()=>{this.openSuggestionBox=this.searchValue.length>this.minInputLength},this.getExactMatchKeyword=e=>this.keywords.find(t=>e===t),this.onFontsDirectoryClick=()=>{this.appRoutingStateRulesService.applyRoutingRules("collections"),this.appInsightsService.trackEvent("fonts-directory-click",{component:"nav-bar"})},this.userProfile=void 0,this.profileImageSrc="",this.userInitials="",this.userDisplayEmail="",this.userDisplayName="",this.userDisplayTitle="",this.userSignoutUrl="",this.openUserProfileDropdown=!1,this.userProfileSubscription=new h,this.unreadNotificationSubscription=new h,this.buildInfoSubscription=new h,this.onUserProfileClick=e=>{this.toggleUserProfileDropdown(),e.preventDefault()},this.onUserProfileDropdownMouseleave=()=>{this.closeUserProfileDropdown()},this.onSubmitFeedbackClick=()=>{this.appInsightsService.trackEvent("submit-feedback-click",{component:"dropdown-user-profile"}),this.modalService.open(_P,{size:"lg",centered:!0}),this.closeUserProfileDropdown()},this.unreadNotificationCount=0,this.onNotificationsClick=()=>{this.closeUserProfileDropdown()},this.onVisualSearchClick=()=>{this.closeUserProfileDropdown()},this.onHelpSiteClick=()=>{this.appInsightsService.trackEvent("help-site-click",{component:"dropdown-user-profile"}),this.closeUserProfileDropdown()},this.getInitials=e=>{const t=e.split(" ");let n="";return t.forEach((e,t)=>{e[0].match(/^[a-zA-Z]/)&&t<2&&(n+=e[0].toUpperCase())}),n},this.selectedLibraryGroupSubscription=new h,this.selectedCollectionFacetSubscription=new h,this.closeUserProfileDropdown=()=>{this.openUserProfileDropdown=!1},this.toggleUserProfileDropdown=()=>{this.openUserProfileDropdown=!this.openUserProfileDropdown},this.titleCaseWord=e=>e.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "),this.setPlaceholderText=(e,t)=>{const n=e.length>0?e:this.selectedLibraryGroup&&this.selectedLibraryGroup.name.length>0?this.selectedLibraryGroup.name:"",i=t&&t.length>0?t:this.selectedCollection?this.selectedCollection.name:"";this.viewContext===qw.search&&""===n&&""===i&&(this.placeholderText="Search across all libraries"),""!==i?this.placeholderText="Search across "+i:""!==n&&(this.placeholderText="Search across "+n)}}onDocumentClicked(e){this.searchElement&&(this.searchElement.nativeElement.contains(e.target)||(this.openSuggestionBox=!1)),e.stopImmediatePropagation()}ngOnInit(){this.viewContextSubscription=this.store.select(PE).subscribe(e=>{this.viewContext=e}),this.dataAvailableSubscription=this.libraryMetadataService.allLibraryMetadataAvailable$.subscribe(e=>{if(e){const e=this.libraryMetadataService.getLibraryByName("Full MDL2 Assets"),t=e.collectionsDownloadMetadata.map(e=>new bw(e.name,0,!1,e.internalKey,e.libraryName));if(e){const n=e.libraryGroupName&&e.libraryGroupName.length>0?e.libraryGroupName:e.name,i=new kw(e.name,0,!1,t,e.internalKey),r=new Tw(n,0,!1,[],t);r.libraries.push(i),this.defaultLibraryGroupFacet=r;const l=t.find(e=>"Full MDL2 Assets"===e.name);l&&(l.isSelected=!0),this.defaultCollectionFacet=l}this.dataAvailableSubscription.unsubscribe()}}),this.store.select(tS).subscribe(e=>{this.searchValue=e}),this.enterKeySubscription=this.searchInputService.enterKeyPressed$.subscribe(e=>{this.isEnterKeyPressed=e,e&&this.onSearchButtonClick(null,this.searchValue)}),this.selectedLibraryGroupSubscription=this.store.select(TS).subscribe(e=>{this.selectedLibraryGroup=e,this.setPlaceholderText(e?e.name:"")}),this.selectedCollectionFacetSubscription=this.store.select(MS).subscribe(e=>{this.selectedCollection=e,this.setPlaceholderText("",e?e.name:"")}),this.keyInputSubscription=this.searchInputService.getKeyboardInput().pipe(vP(300),Cc(e=>{this.openSuggestionBox=e.length>this.minInputLength&&!this.isEnterKeyPressed}),pc(e=>(e&&e.length>this.minInputLength&&this.iconApiService.getSuggestions(e).subscribe(t=>{t&&(this.suggestions=t.names,this.keywords=t.keywords,this.relatedKeywords=t.relatedKeywords,this.suggestedCollections=t.collections&&t.collections.length>8?t.collections.slice(0,8):t.collections,this.exactMatchKeyword=this.getExactMatchKeyword(e))}),Ra(e)))).subscribe(),this.userProfileSubscription=this.userProfileService.getUserProfile().subscribe(e=>{null!==e?(this.userProfile=e,this.userSignoutUrl=this.userProfile.signOutUrl,this.userDisplayEmail=this.userProfile.userEmail?this.userProfile.userEmail.toLowerCase():"",this.userDisplayTitle=this.userProfile.userTitle?this.titleCaseWord(this.userProfile.userTitle):"",this.userDisplayName=this.userProfile.userName,null===this.userProfile.userPhoto?this.userInitials=this.getInitials(this.userDisplayName):this.profileImageSrc="data:image/gif;base64,"+this.userProfile.userPhoto):this.userProfile=e},e=>{console.log("Received an Error from userProfileService.getUserProfile() => "+e.message)}),this.unreadNotificationSubscription=this.notificationApiService.unreadNotifications$.subscribe(e=>{this.unreadNotificationCount=e}),this.buildInfoSubscription=this.userProfileService.getBuildInfo().subscribe(e=>{this.buildInfo=e},e=>{console.log("Received an Error from userProfileService.getBuildInfo() => "+e.message)}),0===this.searchValue.length&&this.searchElement&&this.searchElement.nativeElement.focus()}ngOnDestroy(){this.enterKeySubscription.unsubscribe(),this.keyInputSubscription.unsubscribe(),this.userProfileSubscription.unsubscribe(),this.unreadNotificationSubscription.unsubscribe(),this.buildInfoSubscription.unsubscribe(),this.viewContextSubscription.unsubscribe(),this.dataAvailableSubscription.unsubscribe(),this.selectedCollectionFacetSubscription.unsubscribe(),this.selectedLibraryGroupSubscription.unsubscribe()}}var jA=jn({encapsulation:0,styles:[['@charset "UTF-8";@font-face{font-family:CortMDL2;src:url(/assets/fonts/CortMDL2.woff) format("woff");font-weight:400;font-style:normal}@font-face{font-family:MemMDL2;src:url(/assets/fonts/MemMDL2.woff) format("woff");font-weight:400;font-style:normal}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{width:1188px;height:60px}@media (min-width:1188px){header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{width:auto}}a[_ngcontent-%COMP%]{padding:10px 20px;text-decoration:none;color:#fff;cursor:pointer}a[_ngcontent-%COMP%]:hover{background-color:rgba(255,255,255,.15)}a.dropdown-item[_ngcontent-%COMP%]{padding:.25rem 1.5rem;font-weight:400;color:inherit}a.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.visual-search-link[_ngcontent-%COMP%]{padding:0;background:0 0}.logo[_ngcontent-%COMP%]{padding:0;margin-right:40px;background:0 0;cursor:pointer}.navbar[_ngcontent-%COMP%]{box-shadow:0 0 10px gray;align-items:unset}.navbar-nav[_ngcontent-%COMP%]{display:block}html[_ngcontent-%COMP%]{font-size:15px}@media (min-width:768px){html[_ngcontent-%COMP%]{font-size:16px}}.search-container[_ngcontent-%COMP%]{padding:2px!important}.icon-menu[_ngcontent-%COMP%], .search-menu[_ngcontent-%COMP%]{margin-left:auto;margin-right:0}.directory[_ngcontent-%COMP%]{font-family:MemMDL2;color:#fff}.directory[_ngcontent-%COMP%]:before{content:"\ue71d"}.notifications[_ngcontent-%COMP%]{font-family:MemMDL2;color:#fff}.notifications[_ngcontent-%COMP%]:before{content:"\uea8f"}.visual-search[_ngcontent-%COMP%]{font-family:CortMDL2;color:#000;font-size:21px;background:#ffffffc9;padding:10px 9px 9px;margin-left:-15px;border-radius:4px}.visual-search[_ngcontent-%COMP%]:before{content:"\ue312"}.visual-search[_ngcontent-%COMP%]:hover{color:#0078d4}.help[_ngcontent-%COMP%]{font-family:MemMDL2;color:#fff}.help[_ngcontent-%COMP%]:before{content:"\ue9ce"}.feedback[_ngcontent-%COMP%]{font-family:MemMDL2;color:#fff}.feedback[_ngcontent-%COMP%]:before{content:"\ued15"}.search[_ngcontent-%COMP%]{font-family:MemMDL2}.search[_ngcontent-%COMP%]:before{content:"\ue721"}.clear-icon[_ngcontent-%COMP%]{font-family:MemMDL2}.clear-icon[_ngcontent-%COMP%]:before{content:"\ue711"}.null-profile-icon[_ngcontent-%COMP%]{font-family:MemMDL2;font-size:1.2rem}.null-profile-icon[_ngcontent-%COMP%]:before{content:"\ue77b"}#custom-search-form[_ngcontent-%COMP%]   .search-query[_ngcontent-%COMP%]{height:40px;width:500px;border:0;box-shadow:0 0 10px;margin-top:5px;padding:10px 40px 10px 20px;border-radius:4px}#custom-search-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background:0 0;padding:12px 0;position:relative;left:-45px}#custom-search-form[_ngcontent-%COMP%]   button.clear[_ngcontent-%COMP%]{opacity:0;left:-60px}#custom-search-form[_ngcontent-%COMP%]   button.clear.show[_ngcontent-%COMP%]{opacity:1}.search-query[_ngcontent-%COMP%]:focus{outline:0}.search-query[_ngcontent-%COMP%]:focus + button[_ngcontent-%COMP%]{z-index:3}#suggestion-dropdown[_ngcontent-%COMP%]{top:46px;left:auto;width:500px;border-top-left-radius:0;border-top-right-radius:0}#suggestion-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:0}#suggestion-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{cursor:pointer}#suggestion-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .dropdown-item-text[_ngcontent-%COMP%]{font-weight:500}#suggestion-dropdown[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .dropdown-item-text[_ngcontent-%COMP%]     mark{font-weight:400;background-color:transparent;padding:0}#suggestion-dropdown[_ngcontent-%COMP%]   .collection-list[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]:hover, #suggestion-dropdown[_ngcontent-%COMP%]   .collection-list[_ngcontent-%COMP%]   .keyword[_ngcontent-%COMP%]:hover, #suggestion-dropdown[_ngcontent-%COMP%]   .keyword-list[_ngcontent-%COMP%]   .collection[_ngcontent-%COMP%]:hover, #suggestion-dropdown[_ngcontent-%COMP%]   .keyword-list[_ngcontent-%COMP%]   .keyword[_ngcontent-%COMP%]:hover{cursor:pointer}#suggestion-dropdown[_ngcontent-%COMP%]   .keyword[_ngcontent-%COMP%]{color:unset}.dropdown-menu[_ngcontent-%COMP%]{border:0;padding-top:20px;padding-bottom:20px;margin-top:8px}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:25px;padding-right:30px}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:active{color:inherit;background-color:#d3d3d3}.box-shadow[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)}.dropdown-submenu[_ngcontent-%COMP%]{position:relative}.dropdown-submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]::after{transform:rotate(-90deg);position:absolute;right:15px;top:45%}.dropdown-submenu[_ngcontent-%COMP%]:focus   .dropdown-menu[_ngcontent-%COMP%], .dropdown-submenu[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:20px;padding-bottom:20px;border:0;display:flex;flex-direction:column;position:absolute!important;margin-left:0;margin-top:-80px;left:100%}@media (max-width:1188px){.dropdown-menu[_ngcontent-%COMP%]{width:50%;width:unset}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-submenu[_ngcontent-%COMP%]{width:auto}}.menu-link[_ngcontent-%COMP%]{padding:10px 20px;text-decoration:none;font-weight:500;color:#fff}.menu-link[_ngcontent-%COMP%]:hover{background-color:rgba(255,255,255,.15)}.notification-btn-dropdown[_ngcontent-%COMP%]{margin:10px 0;position:relative}.notification-btn-dropdown[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:0;right:17px;height:10px;width:10px;z-index:20}.visual-search-btn-dropdown[_ngcontent-%COMP%]{margin:10px 0;position:relative}.user-menu[_ngcontent-%COMP%]{margin-right:0}.user-menu[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:static}.user-menu[_ngcontent-%COMP%]   .user-profile-link[_ngcontent-%COMP%]:hover{background-color:transparent}.user-menu[_ngcontent-%COMP%]   .user-profile-link[_ngcontent-%COMP%]   .profile-photo[_ngcontent-%COMP%]{width:40px;height:40px}.user-menu[_ngcontent-%COMP%]   .user-profile-link[_ngcontent-%COMP%]   .profile-photo[_ngcontent-%COMP%]:hover{box-shadow:0 0 0 2px rgba(255,255,255,.35);cursor:pointer}.user-menu[_ngcontent-%COMP%]   .dropdown-panel[_ngcontent-%COMP%]{top:calc(100% - 8px)}.user-menu[_ngcontent-%COMP%]   .dropdown-panel[_ngcontent-%COMP%]   .dropdown-caret[_ngcontent-%COMP%]{position:absolute;top:calc(8px / -2);right:32px;z-index:10;background-color:#fff;width:8px;height:8px;transform:rotate(135deg)}.user-menu[_ngcontent-%COMP%]   .dropdown-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer}.user-menu[_ngcontent-%COMP%]   .dropdown-panel[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%], .user-menu[_ngcontent-%COMP%]   .dropdown-panel[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:36px;height:36px}.user-menu[_ngcontent-%COMP%]   .dropdown-panel[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-title[_ngcontent-%COMP%]{font-size:14px}.user-menu[_ngcontent-%COMP%]   .dropdown-panel[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{cursor:pointer}']],data:{}});function zA(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","text-light"]],null,null,null,null,null)),(e()(),Wl(-1,null,["IconCloud"]))],null,null)}function GA(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"li",[["class","dropdown-item p-0"]],[[8,"tabIndex",0],[1,"test-id",0]],null,null,null,null)),(e()(),Dl(1,0,null,null,1,"span",[["class","dropdown-item-text py-1"]],[[8,"innerHTML",1]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onSuggestionClick(e.context.$implicit)&&i),i}),null,null)),Bl(2,2)],null,(function(e,t){var n=t.component;e(t,0,0,0,"suggestion-item-"+t.context.index);var i=Un(t,1,0,e(t,2,0,Vi(t.parent.parent,0),t.context.$implicit,n.searchValue));e(t,1,0,i)}))}function BA(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","keyword badge badge-light text-capitalize font-weight-normal border py-1 px-2 mt-2 mr-1"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onRelatedKeywordClick(r.exactMatchKeyword,!0)&&i),i}),null,null)),(e()(),Wl(1,null,[" "," "]))],null,(function(e,t){var n=t.component;e(t,0,0,"suggestion-kw-0"),e(t,1,0,n.exactMatchKeyword)}))}function HA(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","keyword badge badge-light text-capitalize font-weight-normal border py-1 px-2 mt-2 mr-1"]],[[1,"test-id",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onRelatedKeywordClick(e.context.$implicit)&&i),i}),null,null)),(e()(),Wl(1,null,[" "," "]))],null,(function(e,t){e(t,0,0,"suggestion-kw-"+(t.context.index+1)),e(t,1,0,t.context.$implicit)}))}function qA(e){return Xl(0,[(e()(),Dl(0,0,null,null,6,"section",[["class","keyword-list mt-4 mb-2 px-4"],["test-id","keyword-list"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"h6",[["class","text-muted font-weight-normal mt-2 small"],["test-id","keyword-list-heading"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Related keywords"])),(e()(),Ol(16777216,null,null,1,null,BA)),Yi(4,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,HA)),Yi(6,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.keywords&&n.keywords.length>0),e(t,6,0,n.relatedKeywords)}),null)}function KA(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"a",[["class","collection text-capitalize font-weight-normal text-primary py-1 px-0 mt-2"]],[[1,"test-id",0],[8,"innerHTML",1]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onFontCollectionClick(e.context.$implicit)&&i),i}),null,null))],null,(function(e,t){var n=t.component,i="suggestion-font-"+t.context.index,r=t.context.$implicit.collectionName.replace(" Assets","")+(t.context.index===n.suggestedCollections.length-1?"":"<span class='text-secondary'>, </span>");e(t,0,0,i,r)}))}function WA(e){return Xl(0,[(e()(),Dl(0,0,null,null,7,"section",[["class","collection-list mt-0 mb-2 px-4"],["test-id","collection-list"]],null,null,null,null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(2,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(3,{"mt-4":0}),(e()(),Dl(4,0,null,null,1,"h6",[["class","text-muted font-weight-normal mt-2 small"],["test-id","collection-list-heading"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Icon collections"])),(e()(),Ol(16777216,null,null,1,null,KA)),Yi(7,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component,i=e(t,3,0,n.relatedKeywords&&n.relatedKeywords.length>0||n.suggestions&&n.suggestions.length>0);e(t,2,0,"collection-list mt-0 mb-2 px-4",i),e(t,7,0,n.suggestedCollections)}),null)}function QA(e){return Xl(0,[(e()(),Dl(0,0,null,null,33,"form",[["class","form-search ml-auto"],["id","custom-search-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Vi(e,2).onSubmit(n)&&i),"reset"===t&&(i=!1!==Vi(e,2).onReset()&&i),i}),null,null)),Yi(1,16384,null,0,Ux,[],null,null),Yi(2,4210688,null,0,Nx,[[8,null],[8,null]],null,null),er(2048,null,X_,null,[Nx]),Yi(4,16384,null,0,nx,[[4,X_]],null,null),(e()(),Dl(5,0,null,null,28,"div",[["class","input-append"]],null,null,null,null,null)),(e()(),Dl(6,0,[[1,0],["search",1]],null,6,"input",[["aria-label","Search"],["autocomplete","off"],["class","search-query shadow-none"],["id","searchInput"],["test-id","searchInput"],["type","text"]],[[1,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keypress"],[null,"keyup"],[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,r=e.component;return"input"===t&&(i=!1!==Vi(e,7)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Vi(e,7).onTouched()&&i),"compositionstart"===t&&(i=!1!==Vi(e,7)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Vi(e,7)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(r.searchValue=n)&&i),"keypress"===t&&(i=!1!==r.onSearchInputKeyPress(n)&&i),"keyup"===t&&(i=!1!==r.onSearchInputKeyUp(n)&&i),"focus"===t&&(i=!1!==r.onSearchInputFocus()&&i),i}),null,null)),Yi(7,16384,null,0,Q_,[nn,Xt,[2,W_]],null,null),er(1024,null,K_,(function(e){return[e]}),[Q_]),Yi(9,671744,null,0,Vx,[[2,X_],[8,null],[8,null],[6,K_]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),ql(10,{standalone:0}),er(2048,null,J_,null,[Vx]),Yi(12,16384,null,0,tx,[[4,J_]],null,null),(e()(),Dl(13,0,[[2,0],["clearSearchButton",1]],null,4,"button",[["class","btn clear"],["tabindex","-1"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onClearSearchButtonClick()&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(15,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(16,{"show animate fadeIn":0}),(e()(),Dl(17,0,null,null,0,"span",[["class","clear-icon"]],null,null,null,null,null)),(e()(),Dl(18,0,[[3,0],["searchButton",1]],null,1,"button",[["class","btn"],["tabindex","-1"],["type","submit"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onSearchButtonClick(n,Vi(e,6).value)&&i),i}),null,null)),(e()(),Dl(19,0,null,null,0,"span",[["class","search"]],null,null,null,null,null)),(e()(),Dl(20,0,null,null,13,"ul",[["aria-labelledby","search-dropdown"],["class","dropdown-menu box-shadow animate fadeIn m-0 py-2 rounded-bottom rounded-top-0"],["id","suggestion-dropdown"],["test-id","suggestion-dropdown"]],null,null,null,null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(22,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(23,{show:0}),(e()(),Dl(24,0,null,null,3,"li",[["class","dropdown-panel"]],null,null,null,null,null)),(e()(),Dl(25,0,null,null,2,"ul",[["class","suggestion-list p-0"],["test-id","suggestion-list"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,GA)),Yi(27,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null),(e()(),Dl(28,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,qA)),Yi(30,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(31,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,WA)),Yi(33,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,i=n.searchValue,r=e(t,10,0,!0);e(t,9,0,i,r);var l=e(t,16,0,n.searchValue.length>0);e(t,15,0,"btn clear",l);var s=e(t,23,0,n.openSuggestionBox&&(n.suggestions&&n.suggestions.length>0||n.relatedKeywords&&n.relatedKeywords.length>0||n.suggestedCollections&&n.suggestedCollections.length>0));e(t,22,0,"dropdown-menu box-shadow animate fadeIn m-0 py-2 rounded-bottom rounded-top-0",s),e(t,27,0,n.suggestions),e(t,30,0,n.relatedKeywords&&n.relatedKeywords.length>0),e(t,33,0,n.suggestedCollections&&n.suggestedCollections.length>0)}),(function(e,t){var n=t.component;e(t,0,0,Vi(t,4).ngClassUntouched,Vi(t,4).ngClassTouched,Vi(t,4).ngClassPristine,Vi(t,4).ngClassDirty,Vi(t,4).ngClassValid,Vi(t,4).ngClassInvalid,Vi(t,4).ngClassPending),e(t,6,0,n.placeholderText,Vi(t,12).ngClassUntouched,Vi(t,12).ngClassTouched,Vi(t,12).ngClassPristine,Vi(t,12).ngClassDirty,Vi(t,12).ngClassValid,Vi(t,12).ngClassInvalid,Vi(t,12).ngClassPending)}))}function ZA(e){return Xl(0,[(e()(),Dl(0,0,[[4,0],["visualSearch",1]],null,1,"a",[["class","visual-search-link rounded"],["data-toggle","dropdown"],["test-id","visualSearch"],["title","Visual Search"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onVisualSearchClick()&&i),i}),null,null)),(e()(),Dl(1,0,null,null,0,"span",[["class","visual-search"]],null,null,null,null,null))],null,null)}function XA(e){return Xl(0,[(e()(),Dl(0,0,null,null,3,"a",[["class","rounded"],["href","/collections"],["test-id","fonts-directory"],["title","Icon directory"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==Vi(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==r.onFontsDirectoryClick()&&i),i}),null,null)),Yi(1,671744,null,0,Xd,[Zd,Uh,wo],{routerLink:[0,"routerLink"]},null),Hl(2,1),(e()(),Dl(3,0,null,null,0,"span",[["class","directory"]],null,null,null,null,null))],(function(e,t){var n=e(t,2,0,"/collections");e(t,1,0,n)}),(function(e,t){e(t,0,0,Vi(t,1).target,Vi(t,1).href)}))}function YA(e){return Xl(0,[(e()(),Dl(0,0,null,null,5,"a",[["class","rounded"],["data-toggle","dropdown"],["test-id","notifications"],["title","Notifications"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onNotificationsClick()&&i),i}),null,null)),(e()(),Dl(1,0,null,null,3,"span",[["class","badge badge-danger rounded"],["test-id","notification-badge"]],null,null,null,null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(3,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(4,{"d-block":0}),(e()(),Dl(5,0,null,null,0,"span",[["class","notifications"]],null,null,null,null,null))],(function(e,t){var n=e(t,4,0,t.component.unreadNotificationCount>0);e(t,3,0,"badge badge-danger rounded",n)}),null)}function JA(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"a",[["class","rounded"],["test-id","submit-feedback"],["title","Send feedback"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onSubmitFeedbackClick()&&i),i}),null,null)),(e()(),Dl(1,0,null,null,0,"span",[["class","feedback"]],null,null,null,null,null))],null,null)}function eL(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"a",[["class","rounded"],["href","https://iconcloudblog.azurewebsites.net/"],["target","_blank"],["test-id","help-site"],["title","Help site"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,0,"span",[["class","help"]],null,null,null,null,null))],null,null)}function tL(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"img",[["class","rounded-circle w-100 h-100 d-flex justify-content-center align-items-center"],["height","40"],["width","40"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,0,0,fi(1,"",t.component.profileImageSrc,""))}))}function nL(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","rounded-circle w-100 h-100 bg-light text-primary d-flex justify-content-center align-items-center"]],null,null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.userInitials)}))}function iL(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"span",[["class","rounded-circle null-profile-icon w-100 h-100 bg-light text-primary d-flex justify-content-center align-items-center"]],null,null,null,null,null))],null,null)}function rL(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"img",[["class","rounded-circle d-flex justify-content-center align-items-center"],["height","36"],["width","36"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,0,0,fi(1,"",t.component.profileImageSrc,""))}))}function lL(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","rounded-circle bg-light text-primary d-flex justify-content-center align-items-center"]],null,null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.userInitials)}))}function sL(e){return Xl(0,[(e()(),Dl(0,0,null,null,0,"span",[["class","rounded-circle null-profile-icon w-100 h-100 bg-light text-primary d-flex justify-content-center align-items-center"]],null,null,null,null,null))],null,null)}function oL(e){return Xl(0,[Ji(0,mM,[]),Fl(671088640,1,{searchElement:0}),Fl(671088640,2,{clearSearchButton:0}),Fl(671088640,3,{searchButton:0}),Fl(671088640,4,{visualSearchElement:0}),(e()(),Dl(5,0,null,null,64,"header",[],null,null,null,null,null)),(e()(),Dl(6,0,null,null,63,"nav",[["class","navbar navbar-expand-sm fixed-top bg-primary mb-3 py-0 justify-content-start"]],null,null,null,null,null)),Yi(7,16384,null,0,ZI,[],null,null),(e()(),Dl(8,0,null,null,61,"div",[["class","container col-12 justify-content-start"]],null,null,null,null,null)),(e()(),Dl(9,0,null,null,0,"img",[["class","logo"],["src","../../assets/MS_IC_Logo.svg"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onHomeClick()&&i),i}),null,null)),(e()(),Ol(16777216,null,null,1,null,zA)),Yi(11,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(12,0,null,null,7,"div",[["class","search-menu d-flex"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,QA)),Yi(14,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(15,0,null,null,4,"section",[["class","visual-search-btn-dropdown"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,ZA)),Yi(17,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(18,0,null,null,1,"visual-search-dropdown",[],null,[[null,"onImageFileSubmitted"]],(function(e,t,n){var i=!0;return"onImageFileSubmitted"===t&&(i=!1!==e.component.onImageFileSubmitted(n)&&i),i}),VA,$A)),Yi(19,49152,null,0,FA,[],null,{onImageFileSubmitted:"onImageFileSubmitted"}),(e()(),Dl(20,0,null,null,11,"div",[["class","icon-menu d-flex"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,XA)),Yi(22,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(23,0,null,null,4,"section",[["class","notification-btn-dropdown"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,YA)),Yi(25,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(26,0,null,null,1,"notification-dropdown",[],null,null,null,AM,PM)),Yi(27,245760,null,0,EM,[Zd,r_,Hb,MM],null,null),(e()(),Ol(16777216,null,null,1,null,JA)),Yi(29,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,eL)),Yi(31,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(32,0,null,null,37,"div",[["class","user-menu d-flex"]],null,null,null,null,null)),(e()(),Dl(33,0,null,null,36,"section",[["class","dropdown d-flex"]],null,null,null,null,null)),(e()(),Dl(34,0,null,null,7,"a",[["class","user-profile-link rounded-circle pr-0"],["data-toggle","dropdown"],["id","userprofile"],["test-id","userprofile"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onUserProfileClick(n)&&i),i}),null,null)),(e()(),Dl(35,0,null,null,6,"span",[["class","rounded-circle profile-photo text-white d-flex align-items-center"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,tL)),Yi(37,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,nL)),Yi(39,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,iL)),Yi(41,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(42,0,null,null,27,"section",[["class","dropdown-menu dropdown-menu-right pt-3 pb-2 shadow border-light dropdown-panel animate fadeIn show"]],null,[[null,"mouseleave"]],(function(e,t,n){var i=!0;return"mouseleave"===t&&(i=!1!==e.component.onUserProfileDropdownMouseleave()&&i),i}),null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(44,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(45,{show:0}),(e()(),Dl(46,0,null,null,0,"span",[["class","dropdown-caret"]],null,null,null,null,null)),(e()(),Dl(47,0,null,null,12,"header",[["class","user-info d-flex w-100 px-3"]],null,null,null,null,null)),(e()(),Dl(48,0,null,null,6,"aside",[["class","photo rounded-circle profile-photo-sm text-white d-flex align-items-center"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,rL)),Yi(50,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,lL)),Yi(52,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,sL)),Yi(54,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(55,0,null,null,4,"section",[["class","align-items-center"]],null,null,null,null,null)),(e()(),Dl(56,0,null,null,1,"h6",[["class","ml-2 mb-0 user-name text-nowrap"]],null,null,null,null,null)),(e()(),Wl(57,null,["",""])),(e()(),Dl(58,0,null,null,1,"span",[["class","mt-1 ml-2 text-nowrap text-small text-secondary"]],null,null,null,null,null)),(e()(),Wl(59,null,["",""])),(e()(),Dl(60,0,null,null,5,"section",[["class","mt-2"]],null,null,null,null,null)),(e()(),Dl(61,0,null,null,0,"div",[["class","dropdown-divider w-100 my-1"]],null,null,null,null,null)),(e()(),Dl(62,0,null,null,1,"a",[["class","dropdown-item w-100 px-3 py-1"],["href","https://iconcloudblog.azurewebsites.net/help/release-notes/"],["target","_blank"],["test-id","release-notes"]],null,null,null,null,null)),(e()(),Wl(63,null,["Release notes v",""])),(e()(),Dl(64,0,null,null,1,"a",[["class","dropdown-item w-100 px-3 py-1"],["href","https://iconcloudblog.azurewebsites.net/article/roadmap/"],["target","_blank"]],null,null,null,null,null)),(e()(),Wl(-1,null,["Feature roadmap"])),(e()(),Dl(66,0,null,null,3,"footer",[],null,null,null,null,null)),(e()(),Dl(67,0,null,null,0,"div",[["class","dropdown-divider w-100 my-1"]],null,null,null,null,null)),(e()(),Dl(68,0,null,null,1,"a",[["class","dropdown-item w-100 px-3"],["test-id","sign-out"]],[[8,"href",4]],null,null,null,null)),(e()(),Wl(-1,null,["Sign out"]))],(function(e,t){var n=t.component;e(t,11,0,n.isMinimalistDesign),e(t,14,0,!n.isMinimalistDesign),e(t,17,0,!n.isMinimalistDesign),e(t,22,0,!n.isMinimalistDesign),e(t,25,0,!n.isMinimalistDesign),e(t,27,0),e(t,29,0,!n.isMinimalistDesign),e(t,31,0,!n.isMinimalistDesign),e(t,37,0,n.userProfile&&n.userProfile.userPhoto),e(t,39,0,n.userProfile&&null===n.userProfile.userPhoto),e(t,41,0,null===n.userProfile);var i=e(t,45,0,n.openUserProfileDropdown);e(t,44,0,"dropdown-menu dropdown-menu-right pt-3 pb-2 shadow border-light dropdown-panel animate fadeIn show",i),e(t,50,0,n.userProfile&&n.userProfile.userPhoto),e(t,52,0,n.userProfile&&null===n.userProfile.userPhoto),e(t,54,0,null===n.userProfile)}),(function(e,t){var n=t.component;e(t,57,0,n.userDisplayName),e(t,59,0,""==n.userDisplayTitle?n.userDisplayEmail:n.userDisplayTitle),e(t,63,0,n.buildInfo),e(t,68,0,fi(1,"",n.userSignoutUrl,""))}))}class aL{constructor(e){this.appInsightsService=e,this.onAlertDismiss=new Cr,this.selectedLibrarySubscription=new h,this.onDismissClick=e=>{this.onAlertDismiss.emit(e)},this.onNotificationLinkUrlClick=e=>{this.appInsightsService.trackEvent("Notification",{component:"alert",type:"alert",title:e.title,isDismissible:e.isDismissible?"true":"false",dismissed:"false",key:e.key,linkText:e.linkText,linkUrl:e.linkUrl,linkClicked:"true"})}}ngOnInit(){this.selectedLibrarySubscription=this.selectedLibraryGroup$.subscribe(e=>{const t=e.libraries.map(e=>e.internalKey);this.alert.show=ho(this.alert.libraryContext)?this.alert.show:this.alert.libraryContext.some(e=>t.some(t=>t.includes(e)))})}ngOnDestroy(){this.selectedLibrarySubscription.unsubscribe()}}var cL=jn({encapsulation:0,styles:[['@charset "UTF-8";.alert[_ngcontent-%COMP%]{margin:0 -15px 2px;padding-left:30px;padding-right:30px;min-height:50px}.close[_ngcontent-%COMP%]{margin-right:15px}.close[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{font-family:MemMDL2;font-size:14px}.close[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]:before{content:"\ue711"}']],data:{}});function uL(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"span",[["class","font-weight-bolder"]],null,null,null,null,null)),(e()(),Wl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.alert.title)}))}function hL(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"span",[["class","pl-2"]],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"a",[["class","text-decoration-none text-primary"],["target","_blank"]],[[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onNotificationLinkUrlClick(r.alert)&&i),i}),null,null)),(e()(),Wl(2,null,["",""]))],null,(function(e,t){var n=t.component;e(t,1,0,fi(1,"",n.alert.linkUrl,"")),e(t,2,0,n.alert.linkText)}))}function dL(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"button",[["aria-label","Close"],["class","close d-flex py-3 align-items-center"],["data-dismiss","alert"],["test-id","close-alert"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0,r=e.component;return"click"===t&&(i=!1!==r.onDismissClick(r.alert)&&i),i}),null,null)),(e()(),Dl(1,0,null,null,0,"span",[["aria-hidden","true"],["class","close-icon text-dark"]],null,null,null,null,null))],null,null)}function pL(e){return Xl(0,[(e()(),Dl(0,0,null,null,15,"section",[["class","alert alert-warning w-100 align-items-center py-0 rounded-0"],["role","alert"],["test-id","alert"]],null,null,null,null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(2,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(3,{"d-flex":0,"d-none":1}),(e()(),Dl(4,0,null,null,11,"header",[["class","text-dark"]],[[1,"test-alert-key",0],[1,"test-id",0]],null,null,null,null)),er(512,null,la,sa,[yn,bn,Xt,nn]),Yi(6,278528,null,0,aa,[la],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),ql(7,{"alert-dismissible":0}),(e()(),Ol(16777216,null,null,1,null,uL)),Yi(9,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(10,0,null,null,1,"span",[["class","pl-2"],["test-id","description"]],null,null,null,null,null)),(e()(),Wl(11,null,["",""])),(e()(),Ol(16777216,null,null,1,null,hL)),Yi(13,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16777216,null,null,1,null,dL)),Yi(15,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,i=e(t,3,0,!0===n.alert.show,!1===n.alert.show);e(t,2,0,"alert alert-warning w-100 align-items-center py-0 rounded-0",i);var r=e(t,7,0,n.alert.isDismissible);e(t,6,0,"text-dark",r),e(t,9,0,n.alert.title),e(t,13,0,n.alert.linkText&&n.alert.linkUrl),e(t,15,0,!0===n.alert.isDismissible)}),(function(e,t){var n=t.component;e(t,4,0,n.alert.key,n.alert.isDismissible?"alert-dismissible":"alert"),e(t,11,0,n.alert.description)}))}class fL{constructor(e,t,n,i){this.notificationApiService=e,this.appInsightsService=t,this.cookieService=n,this.store=i,this.alertDismissCookieName="alert-dismiss-keys",this.dismissKeys="",this.notificationSubscription=new h,this.selectedLibrarySubscription=new h,this.onAlertDismiss=e=>{e.show=!1,this.updateAlertsShowing(),this.appInsightsService.trackEvent("Notification",{component:"alert",type:Pw[e.type],title:e.title,isDismissible:e.isDismissible?"true":"false",dismissed:"true",key:e.key,linkText:e.linkText,linkUrl:e.linkUrl,linkClicked:"false"}),this.updateDismissCookie(e.key)},this.getDismissCookie=()=>this.cookieService.get(this.alertDismissCookieName),this.isAlertDismissed=e=>(ho(this.dismissKeys)?[]:this.dismissKeys.split(",")).some(t=>t===e),this.updateAlertsShowing=()=>{const e=this.selectedLibraryGroup.libraries.map(e=>e.internalKey),t=this.allAlerts.filter(t=>ho(t.libraryContext)?t.show:t.libraryContext.some(t=>e.some(e=>e.includes(t))));this.shownAlerts=t,this.notificationApiService.alertsShowing.next(t?t.length:0)},this.updateDismissCookie=e=>{let t=this.getDismissCookie(),n=[];t&&(n=t.split(",")),n.push(e),this.cookieService.set(this.alertDismissCookieName,n.join(","),365,"/","",!1,"Lax"),this.dismissKeys=this.getDismissCookie()}}ngOnInit(){this.selectedLibraryGroup$=this.store.select(TS),this.selectedLibrarySubscription=this.selectedLibraryGroup$.subscribe(e=>{this.selectedLibraryGroup=e,this.allAlerts&&this.selectedLibraryGroup&&this.selectedLibraryGroup.libraries&&this.updateAlertsShowing()}),this.dismissKeys=this.getDismissCookie(),this.notificationSubscription=this.notificationApiService.notificationsLoaded$.subscribe(e=>{e&&(this.allAlerts=this.notificationApiService.notifications.filter(e=>e.type===Pw.alert&&e.show&&!this.isAlertDismissed(e.key)),this.selectedLibraryGroup&&!ho(this.selectedLibraryGroup.libraries)&&(this.updateAlertsShowing(),this.allAlerts.map(e=>{this.appInsightsService.trackEvent("Notification",{component:"alert",type:Pw[e.type],title:e.title,isDismissible:e.isDismissible?"true":"false",dismissed:"false",key:e.key,linkText:e.linkText,linkUrl:e.linkUrl,linkClicked:"false"})}),this.notificationSubscription.unsubscribe()))})}ngOnDestroy(){this.notificationSubscription.unsubscribe(),this.selectedLibrarySubscription.unsubscribe()}}var gL=jn({encapsulation:0,styles:[[".alert-wrapper[_ngcontent-%COMP%]{top:60px;z-index:10}"]],data:{}});function mL(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"alert",[],null,[[null,"onAlertDismiss"]],(function(e,t,n){var i=!0;return"onAlertDismiss"===t&&(i=!1!==e.component.onAlertDismiss(n)&&i),i}),pL,cL)),er(512,null,ba,va,[Xt,bn,nn]),Yi(2,278528,null,0,Ca,[ba],{ngStyle:[0,"ngStyle"]},null),ql(3,{top:0}),Yi(4,245760,null,0,aL,[Hb],{alert:[0,"alert"],index:[1,"index"],selectedLibraryGroup$:[2,"selectedLibraryGroup$"]},{onAlertDismiss:"onAlertDismiss"})],(function(e,t){var n=t.component,i=e(t,3,0,n.topPosition);e(t,2,0,i),e(t,4,0,t.context.$implicit,t.context.index,n.selectedLibraryGroup$)}),null)}function yL(e){return Xl(0,[(e()(),Dl(0,0,null,null,2,"section",[["class","alert-wrapper w-100 position-fixed bg-white"],["test-id","alert-bar"]],null,null,null,null,null)),(e()(),Ol(16777216,null,null,1,null,mL)),Yi(2,278528,null,0,ua,[xn,Sn,yn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.shownAlerts)}),null)}var bL=jn({encapsulation:0,styles:[["@media (max-width:767px){.body-content[_ngcontent-%COMP%]{padding-top:50px}}.main[_ngcontent-%COMP%]{margin-top:60px;padding-left:15px;padding-right:15px;width:1188px;overflow-x:hidden}.main[_ngcontent-%COMP%]   .page-content.position-relative[_ngcontent-%COMP%]{z-index:5}@media (min-width:1188px){.main[_ngcontent-%COMP%]{width:auto}}"]],data:{}});function vL(e){return Xl(0,[(e()(),Dl(0,0,null,null,4,"header",[],null,null,null,null,null)),(e()(),Dl(1,0,null,null,1,"nav-bar",[],null,[["document","click"]],(function(e,t,n){var i=!0;return"document:click"===t&&(i=!1!==Vi(e,2).onDocumentClicked(n)&&i),i}),oL,jA)),Yi(2,245760,null,0,UA,[ck,d_,WS,w_,qS,i_,Hb,r_,Gv],null,null),(e()(),Dl(3,0,null,null,1,"alert-bar",[],null,null,null,yL,gL)),Yi(4,245760,null,0,fL,[r_,Hb,MM,Gv],null,null)],(function(e,t){e(t,2,0),e(t,4,0)}),null)}function wL(e){return Xl(0,[(e()(),Dl(0,0,null,null,11,"section",[["class","main container-fluid"]],null,[["window","resize"]],(function(e,t,n){var i=!0;return"window:resize"===t&&(i=!1!==e.component.onResize(n)&&i),i}),null,null)),er(512,null,ba,va,[Xt,bn,nn]),Yi(2,278528,null,0,Ca,[ba],{ngStyle:[0,"ngStyle"]},null),ql(3,{"margin-top":0}),(e()(),Ol(16777216,null,null,1,null,vL)),Yi(5,16384,null,0,da,[xn,Sn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(6,0,null,null,5,"section",[["class","page-content position-relative"]],null,null,null,null,null)),er(512,null,ba,va,[Xt,bn,nn]),Yi(8,278528,null,0,Ca,[ba],{ngStyle:[0,"ngStyle"]},null),ql(9,{"margin-top":0}),(e()(),Dl(10,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Yi(11,212992,null,0,tp,[ep,xn,Kt,[8,null],wt],null,null)],(function(e,t){var n=t.component,i=e(t,3,0,n.appContentMarginForNavbar);e(t,2,0,i),e(t,5,0,!n.hideHeader);var r=e(t,9,0,n.appContentMarginAdjustForAlerts);e(t,8,0,r),e(t,11,0)}),null)}function CL(e){return Xl(0,[(e()(),Dl(0,0,null,null,1,"app-root",[],null,null,null,wL,bL)),Yi(1,245760,null,0,q_,[Hb,r_,Uh,Zd,Gv,HS,H_,Nu],null,null)],(function(e,t){e(t,1,0)}),null)}var SL=Mi("app-root",q_,CL,{},{},[]);class _L{}function xL(e,t=null){return{type:2,steps:e,options:t}}function IL(e){return{type:6,styles:e,offset:null}}function kL(e){Promise.resolve(null).then(e)}class TL{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kL(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class ML{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,i=0;const r=this.players.length;0==r?kL(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==r&&this._onFinish()}),e.onDestroy(()=>{++n==r&&this._onDestroy()}),e.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){let e=0;return this.players.forEach(t=>{const n=t.getPosition();e=Math.min(n,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function EL(){return"undefined"!=typeof process}function PL(e){switch(e.length){case 0:return new TL;case 1:return e[0];default:return new ML(e)}}function OL(e,t,n,i,r={},l={}){const s=[],o=[];let a=-1,c=null;if(i.forEach(e=>{const n=e.offset,i=n==a,u=i&&c||{};Object.keys(e).forEach(n=>{let i=n,o=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,s),o){case"!":o=r[n];break;case"*":o=l[n];break;default:o=t.normalizeStyleValue(n,i,o,s)}u[i]=o}),i||o.push(u),c=u,a=n}),s.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${s.join(e)}`)}return o}function DL(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&NL(n,"start",e)));break;case"done":e.onDone(()=>i(n&&NL(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&NL(n,"destroy",e)))}}function NL(e,t,n){const i=n.totalTime,r=RL(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),l=e._data;return null!=l&&(r._data=l),r}function RL(e,t,n,i,r="",l=0,s){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:l,disabled:!!s}}function AL(e,t,n){let i;return e instanceof Map?(i=e.get(t),i||e.set(t,i=n)):(i=e[t],i||(i=e[t]=n)),i}function LL(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let FL=(e,t)=>!1,$L=(e,t)=>!1,VL=(e,t,n)=>[];const UL=EL();(UL||"undefined"!=typeof Element)&&(FL=(e,t)=>e.contains(t),$L=(()=>{if(UL||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):$L}})(),VL=(e,t,n)=>{let i=[];if(n)i.push(...e.querySelectorAll(t));else{const n=e.querySelector(t);n&&i.push(n)}return i});let jL=null,zL=!1;function GL(e){jL||(jL=("undefined"!=typeof document?document.body:null)||{},zL=!!jL.style&&"WebkitAppearance"in jL.style);let t=!0;return jL.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in jL.style,!t&&zL)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in jL.style),t}const BL=$L,HL=FL,qL=VL;function KL(e){const t={};return Object.keys(e).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]}),t}class WL{validateStyleProperty(e){return GL(e)}matchesElement(e,t){return BL(e,t)}containsElement(e,t){return HL(e,t)}query(e,t,n){return qL(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,i,r,l=[],s){return new TL(n,i)}}let QL=(()=>{class e{}return e.NOOP=new WL,e})();function ZL(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:XL(parseFloat(t[1]),t[2])}function XL(e,t){switch(t){case"s":return 1e3*e;default:return e}}function YL(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let i,r=0,l="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};i=XL(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(r=XL(parseFloat(s),n[4]));const o=n[5];o&&(l=o)}else i=e;if(!n){let n=!1,l=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(l,0,`The provided timing value "${e}" is invalid.`)}return{duration:i,delay:r,easing:l}}(e,t,n)}function JL(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function eF(e,t,n={}){if(t)for(let i in e)n[i]=e[i];else JL(e,n);return n}function tF(e,t,n){return n?t+":"+n+";":""}function nF(e){let t="";for(let n=0;n<e.style.length;n++){const i=e.style.item(n);t+=tF(0,i,e.style.getPropertyValue(i))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=tF(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function iF(e,t,n){e.style&&(Object.keys(t).forEach(i=>{const r=hF(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[r]),e.style[r]=t[i]}),EL()&&nF(e))}function rF(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=hF(t);e.style[n]=""}),EL()&&nF(e))}function lF(e){return Array.isArray(e)?1==e.length?e[0]:xL(e):e}const sF=new RegExp("{{\\s*(.+?)\\s*}}","g");function oF(e){let t=[];if("string"==typeof e){const n=e.toString();let i;for(;i=sF.exec(n);)t.push(i[1]);sF.lastIndex=0}return t}function aF(e,t,n){const i=e.toString(),r=i.replace(sF,(e,i)=>{let r=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),r=""),r.toString()});return r==i?e:r}function cF(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const uF=/-+([a-z0-9])/g;function hF(e){return e.replace(uF,(...e)=>e[1].toUpperCase())}function dF(e,t){return 0===e||0===t}function pF(e,t,n){const i=Object.keys(n);if(i.length&&t.length){let l=t[0],s=[];if(i.forEach(e=>{l.hasOwnProperty(e)||s.push(e),l[e]=n[e]}),s.length)for(var r=1;r<t.length;r++){let n=t[r];s.forEach((function(t){n[t]=gF(e,t)}))}}return t}function fF(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function gF(e,t){return window.getComputedStyle(e)[t]}function mF(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const r=i[1],l=i[2],s=i[3];t.push(vF(r,s)),"<"!=l[0]||"*"==r&&"*"==s||t.push(vF(s,r))}(e,n,t)):n.push(e),n}const yF=new Set(["true","1"]),bF=new Set(["false","0"]);function vF(e,t){const n=yF.has(e)||bF.has(e),i=yF.has(t)||bF.has(t);return(r,l)=>{let s="*"==e||e==r,o="*"==t||t==l;return!s&&n&&"boolean"==typeof r&&(s=r?yF.has(e):bF.has(e)),!o&&i&&"boolean"==typeof l&&(o=l?yF.has(t):bF.has(t)),s&&o}}const wF=new RegExp("s*:selfs*,?","g");function CF(e,t,n){return new SF(e).build(t,n)}class SF{constructor(e){this._driver=e}build(e,t){const n=new _F(t);return this._resetContextStyleTimingState(n),fF(this,lF(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0;const r=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,i=n.name;i.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,r.push(this.visitState(n,t))}),n.name=i}else if(1==e.type){const r=this.visitTransition(e,t);n+=r.queryCount,i+=r.depCount,l.push(r)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:r,transitions:l,queryCount:n,depCount:i,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){const r=new Set,l=i||{};if(n.styles.forEach(e=>{if(xF(e)){const t=e;Object.keys(t).forEach(e=>{oF(t[e]).forEach(e=>{l.hasOwnProperty(e)||r.add(e)})})}}),r.size){const n=cF(r.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=fF(this,lF(e.animation),t);return{type:1,matchers:mF(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:IF(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>fF(this,e,t)),options:IF(e.options)}}visitGroup(e,t){const n=t.currentTime;let i=0;const r=e.steps.map(e=>{t.currentTime=n;const r=fF(this,e,t);return i=Math.max(i,t.currentTime),r});return t.currentTime=i,{type:3,steps:r,options:IF(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return kF(YL(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=kF(0,0,"");return e.dynamic=!0,e.strValue=i,e}return n=n||YL(i,t),kF(n.duration,n.delay,n.easing)}(e.timings,t.errors);let i;t.currentAnimateTimings=n;let r=e.styles?e.styles:IL({});if(5==r.type)i=this.visitKeyframes(r,t);else{let r=e.styles,l=!1;if(!r){l=!0;const e={};n.easing&&(e.easing=n.easing),r=IL(e)}t.currentTime+=n.duration+n.delay;const s=this.visitStyle(r,t);s.isEmptyStep=l,i=s}return t.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?"*"==e?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let i=!1,r=null;return n.forEach(e=>{if(xF(e)){const t=e,n=t.easing;if(n&&(r=n,delete t.easing),!i)for(let e in t)if(t[e].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let i=t.currentTime,r=t.currentTime;n&&r>0&&(r-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],s=l[n];let o=!0;s&&(r!=i&&r>=s.startTime&&i<=s.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),o=!1),r=s.startTime),o&&(l[n]={startTime:r,endTime:i}),t.options&&function(e,t,n){const i=t.params||{},r=oF(e);r.length&&r.forEach(e=>{i.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let l=!1,s=!1,o=0;const a=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let a=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(xF(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(xF(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),c=0;return null!=a&&(i++,c=n.offset=a),s=s||c<0||c>1,l=l||c<o,o=c,r.push(c),n});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),l&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let u=0;i>0&&i<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(c-1));const h=c-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return a.forEach((e,i)=>{const l=u>0?i==h?1:u*i:r[i],s=l*f;t.currentTime=d+p.delay+s,p.duration=s,this._validateStyleAst(e,t),e.offset=l,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:fF(this,lF(e.animation),t),options:IF(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:IF(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:IF(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[r,l]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(wF,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,".ng-animating"),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+r:r,AL(t.collectedStyles,t.currentQuerySelector,{});const s=fF(this,lF(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:s,originalSelector:e.selector,options:IF(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:YL(e.timings,t.errors,!0);return{type:12,animation:fF(this,lF(e.animation),t),timings:n,options:null}}}class _F{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function xF(e){return!Array.isArray(e)&&"object"==typeof e}function IF(e){var t;return e?(e=JL(e)).params&&(e.params=(t=e.params)?JL(t):null):e={},e}function kF(e,t,n){return{duration:e,delay:t,easing:n}}function TF(e,t,n,i,r,l,s=null,o=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:l,totalTime:r+l,easing:s,subTimeline:o}}class MF{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const EF=new RegExp(":enter","g"),PF=new RegExp(":leave","g");function OF(e,t,n,i,r,l={},s={},o,a,c=[]){return(new DF).buildKeyframes(e,t,n,i,r,l,s,o,a,c)}class DF{buildKeyframes(e,t,n,i,r,l,s,o,a,c=[]){a=a||new MF;const u=new RF(e,t,a,i,r,c,[]);u.options=o,u.currentTimeline.setStyles([l],null,u.errors,o),fF(this,n,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(s).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([s],null,u.errors,o)}return h.length?h.map(e=>e.buildKeyframes()):[TF(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,l=this._visitSubInstructions(n,i,i.options);r!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let i=t.currentTimeline.currentTime;const r=null!=n.duration?ZL(n.duration):null,l=null!=n.delay?ZL(n.delay):null;return 0!==r&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,r,l);i=Math.max(i,n.duration+n.delay)}),i}visitReference(e,t){t.updateOptions(e.options,!0),fF(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let i=t;const r=e.options;if(r&&(r.params||r.delay)&&(i=t.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=NF);const e=ZL(r.delay);i.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>fF(this,e,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let i=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?ZL(e.options.delay):0;e.steps.forEach(l=>{const s=t.createSubContext(e.options);r&&s.delayNextStep(r),fF(this,l,s),i=Math.max(i,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return YL(t.params?aF(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,i=t.currentTimeline.duration,r=n.duration,l=t.createSubContext().currentTimeline;l.easing=n.easing,e.styles.forEach(e=>{l.forwardTime((e.offset||0)*r),l.setStyles(e.styles,e.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(i+r),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,i=e.options||{},r=i.delay?ZL(i.delay):0;r&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=NF);let l=n;const s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;let o=null;s.forEach((n,i)=>{t.currentQueryIndex=i;const s=t.createSubContext(e.options,n);r&&s.delayNextStep(r),n===t.element&&(o=s.currentTimeline),fF(this,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),o&&(t.currentTimeline.mergeTimelineCollectedStyles(o),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,i=t.currentTimeline,r=e.timings,l=Math.abs(r.duration),s=l*(t.currentQueryTotal-1);let o=l*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":o=s-o;break;case"full":o=n.currentStaggerTime}const a=t.currentTimeline;o&&a.delayNextStep(o);const c=a.currentTime;fF(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}const NF={};class RF{constructor(e,t,n,i,r,l,s,o){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=l,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=NF,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=o||new AF(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let i=this.options;null!=n.duration&&(i.duration=ZL(n.duration)),null!=n.delay&&(i.delay=ZL(n.delay));const r=n.params;if(r){let e=i.params;e||(e=this.options.params={}),Object.keys(r).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=aF(r[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const i=t||this.element,r=new RF(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=NF,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},r=new LF(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,r,l){let s=[];if(i&&s.push(this.element),e.length>0){e=(e=e.replace(EF,"."+this._enterClassName)).replace(PF,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),s.push(...t)}return r||0!=s.length||l.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),s}}class AF{constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new AF(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||"*",this._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&(this._previousKeyframe.easing=t);const r=i&&i.params||{},l=function(e,t){const n={};let i;return e.forEach(e=>{"*"===e?(i=i||Object.keys(t),i.forEach(e=>{n[e]="*"})):eF(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(l).forEach(e=>{const t=aF(l[e],r,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:"*"),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],i=e._styleSummary[t];(!n||i.time>n.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,l)=>{const s=eF(r,!0);Object.keys(s).forEach(n=>{const i=s[n];"!"==i?e.add(n):"*"==i&&t.add(n)}),n||(s.offset=l/this.duration),i.push(s)});const r=e.size?cF(e.values()):[],l=t.size?cF(t.values()):[];if(n){const e=i[0],t=JL(e);e.offset=0,t.offset=1,i=[e,t]}return TF(this.element,i,r,l,this.duration,this.startTime,this.easing,!1)}}class LF extends AF{constructor(e,t,n,i,r,l,s=!1){super(e,t,l.delay),this.element=t,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],l=n+t,s=t/l,o=eF(e[0],!1);o.offset=0,r.push(o);const a=eF(e[0],!1);a.offset=FF(s),r.push(a);const c=e.length-1;for(let i=1;i<=c;i++){let s=eF(e[i],!1);s.offset=FF((t+s.offset*n)/l),r.push(s)}n=l,t=0,i="",e=r}return TF(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}}function FF(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class $F{}class VF extends $F{normalizePropertyName(e,t){return hF(e)}normalizeStyleValue(e,t,n,i){let r="";const l=n.toString().trim();if(UF[t]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&i.push(`Please provide a CSS unit value for ${e}:${n}`)}return l+r}}const UF=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function jF(e,t,n,i,r,l,s,o,a,c,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:l,toState:i,toStyles:s,timelines:o,queriedElements:a,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const zF={};class GF{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return function(e,t,n,i,r){return e.some(e=>e(t,n,i,r))}(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){const i=this._stateStyles["*"],r=this._stateStyles[e],l=i?i.buildStyles(t,n):{};return r?r.buildStyles(t,n):l}build(e,t,n,i,r,l,s,o,a,c){const u=[],h=this.ast.options&&this.ast.options.params||zF,d=this.buildStyles(n,s&&s.params||zF,u),p=o&&o.params||zF,f=this.buildStyles(i,p,u),g=new Set,m=new Map,y=new Map,b="void"===i,v={params:Object.assign({},h,p)},w=c?[]:OF(e,t,this.ast.animation,r,l,d,f,v,a,u);let C=0;if(w.forEach(e=>{C=Math.max(e.duration+e.delay,C)}),u.length)return jF(t,this._triggerName,n,i,b,d,f,[],[],m,y,C,u);w.forEach(e=>{const n=e.element,i=AL(m,n,{});e.preStyleProps.forEach(e=>i[e]=!0);const r=AL(y,n,{});e.postStyleProps.forEach(e=>r[e]=!0),n!==t&&g.add(n)});const S=cF(g.values());return jF(t,this._triggerName,n,i,b,d,f,w,S,m,y,C)}}class BF{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},i=JL(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const r=e;Object.keys(r).forEach(e=>{let l=r[e];l.length>1&&(l=aF(l,i,t)),n[e]=l})}}),n}}class HF{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new BF(e.style,e.options&&e.options.params||{})}),qF(this.states,"true","1"),qF(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new GF(e,t,this.states))}),this.fallbackTransition=new GF(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(r=>r.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function qF(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const KF=new MF;class WF{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],i=CF(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=i}_buildPlayer(e,t,n){const i=e.element,r=OL(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const i=[],r=this._animations[e];let l;const s=new Map;if(r?(l=OF(this._driver,t,r,"ng-enter","ng-leave",{},{},n,KF,i),l.forEach(e=>{const t=AL(s,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),l=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));s.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,"*")})});const o=PL(l.map(e=>{const t=s.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=o,o.onDestroy(()=>this.destroy(e)),this.players.push(o),o}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}listen(e,t,n,i){const r=RL(t,"","","");return DL(this._getPlayer(e),n,r,i),()=>{}}command(e,t,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n)return void this.create(e,t,i[0]||{});const r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const QF=[],ZF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},XF={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class YF{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(i=n?e.value:e)?i:null,n){const t=JL(e);delete t.value,this.options=t}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const JF=new YF("void");class e${constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,o$(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var r;const l=AL(this._elementListeners,e,[]),s={name:t,phase:n,callback:i};l.push(s);const o=AL(this._engine.statesByElement,e,{});return o.hasOwnProperty(t)||(o$(e,"ng-trigger"),o$(e,"ng-trigger-"+t),o[t]=JF),()=>{this._engine.afterFlush(()=>{const e=l.indexOf(s);e>=0&&l.splice(e,1),this._triggers[t]||delete o[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,i=!0){const r=this._getTrigger(t),l=new n$(this.id,t,e);let s=this._engine.statesByElement.get(e);s||(o$(e,"ng-trigger"),o$(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));let o=s[t];const a=new YF(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&o&&a.absorbOptions(o.options),s[t]=a,o||(o=JF),"void"!==a.value&&o.value===a.value){if(!function(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}(o.params,a.params)){const t=[],n=r.matchStyles(o.value,o.params,t),i=r.matchStyles(a.value,a.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{rF(e,n),iF(e,i)})}return}const c=AL(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=r.matchTransition(o.value,a.value,e,a.params),h=!1;if(!u){if(!i)return;u=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:o,toState:a,player:l,isFallbackTransition:h}),h||(o$(e,"ng-animate-queued"),l.onStart(()=>{a$(e,"ng-animate-queued")})),l.onDone(()=>{let t=this.players.indexOf(l);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(l);e>=0&&n.splice(e,1)}}),this.players.push(l),c.push(l),l}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t,n=!1){this._engine.driver.query(e,".ng-trigger",!0).forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)})}triggerLeaveAnimation(e,t,n,i){const r=this._engine.statesByElement.get(e);if(r){const l=[];if(Object.keys(r).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,"void",i);n&&l.push(n)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&PL(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const i=t.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,l=this._engine.statesByElement.get(e)[i]||JF,s=new YF("void"),o=new n$(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:r,fromState:l,toState:s,player:o,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t,!0),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)i=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){i=!0;break}}}this.prepareLeaveAnimationListeners(e),i?n.markElementAsRemoved(this.id,e,!1,t):(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}insertNode(e,t){o$(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,l=this._elementListeners.get(r);l&&l.forEach(t=>{if(t.name==n.triggerName){const i=RL(r,n.triggerName,n.fromState.value,n.toState.value);i._data=e,DL(n.player,t.phase,i,t.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,i=t.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class t${constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new e$(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=n[e[i]].namespaceId;if(r){const e=this._fetchNamespace(r);e&&t.add(e)}}}return t}trigger(e,t,n,i){if(i$(t)){const r=this._fetchNamespace(e);if(r)return r.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!i$(t))return;const r=t.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const i=this._fetchNamespace(e);i&&i.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),o$(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),a$(e,"ng-animate-disabled"))}removeNode(e,t,n,i){if(i$(t)){const r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,n,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,i,r){return i$(t)?this._fetchNamespace(e).listen(t,n,i,r):()=>{}}_buildInstruction(e,t,n,i,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,".ng-trigger",!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,".ng-animating",!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return PL(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=ZF,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)o$(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?PL(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}_flushAnimations(e,t){const n=new MF,i=[],r=new Map,l=[],s=new Map,o=new Map,a=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)c.add(t[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=s$(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((e,t)=>{const n="ng-enter"+f++;p.set(t,n),e.forEach(e=>o$(e,n))});const g=[],m=new Set,y=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const e=this.collectedLeaveElements[P],t=e.__ng_removed;t&&t.setForRemoval&&(g.push(e),m.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>m.add(e)):y.add(e))}const b=new Map,v=s$(h,Array.from(m));v.forEach((e,t)=>{const n="ng-leave"+f++;b.set(t,n),e.forEach(e=>o$(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=p.get(t);e.forEach(e=>a$(e,n))}),v.forEach((e,t)=>{const n=b.get(t);e.forEach(e=>a$(e,n))}),g.forEach(e=>{this.processLeaveNode(e)})});const w=[],C=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(t).forEach(e=>{const t=e.player,r=e.element;if(w.push(t),this.collectedEnterElements.length){const e=r.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const c=!u||!this.driver.containsElement(u,r),h=b.get(r),d=p.get(r),f=this._buildInstruction(e,n,d,h,c);if(f.errors&&f.errors.length)C.push(f);else{if(c)return t.onStart(()=>rF(r,f.fromStyles)),t.onDestroy(()=>iF(r,f.toStyles)),void i.push(t);if(e.isFallbackTransition)return t.onStart(()=>rF(r,f.fromStyles)),t.onDestroy(()=>iF(r,f.toStyles)),void i.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(r,f.timelines),l.push({instruction:f,player:t,element:r}),f.queriedElements.forEach(e=>AL(s,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=o.get(t);e||o.set(t,e=new Set),n.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let i=a.get(t);i||a.set(t,i=new Set),n.forEach(e=>i.add(e))})}});if(C.length){const e=[];C.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),w.forEach(e=>e.destroy()),this.reportError(e)}const S=new Map,_=new Map;l.forEach(e=>{const t=e.element;n.has(t)&&(_.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,S))}),i.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{AL(S,t,[]).push(e),e.destroy()})});const x=g.filter(e=>u$(e,o,a)),I=new Map;l$(I,this.driver,y,a,"*").forEach(e=>{u$(e,o,a)&&x.push(e)});const k=new Map;d.forEach((e,t)=>{l$(k,this.driver,new Set(e),o,"!")}),x.forEach(e=>{const t=I.get(e),n=k.get(e);I.set(e,Object.assign({},t,n))});const T=[],M=[],E={};l.forEach(e=>{const{element:t,player:l,instruction:s}=e;if(n.has(t)){if(c.has(t))return l.onDestroy(()=>iF(t,s.toStyles)),l.disabled=!0,l.overrideTotalTime(s.totalTime),void i.push(l);let e=E;if(_.size>1){let n=t;const i=[];for(;n=n.parentNode;){const t=_.get(n);if(t){e=t;break}i.push(n)}i.forEach(t=>_.set(t,e))}const n=this._buildAnimation(l.namespaceId,s,S,r,k,I);if(l.setRealPlayer(n),e===E)T.push(l);else{const t=this.playersByElement.get(e);t&&t.length&&(l.parentPlayer=PL(t)),i.push(l)}}else rF(t,s.fromStyles),l.onDestroy(()=>iF(t,s.toStyles)),M.push(l),c.has(t)&&i.push(l)}),M.forEach(e=>{const t=r.get(e.element);if(t&&t.length){const n=PL(t);e.setRealPlayer(n)}}),i.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let P=0;P<g.length;P++){const e=g[P],t=e.__ng_removed;if(a$(e,"ng-leave"),t&&t.hasAnimation)continue;let n=[];if(s.size){let t=s.get(e);t&&t.length&&n.push(...t);let i=this.driver.query(e,".ng-animating",!0);for(let e=0;e<i.length;e++){let t=s.get(i[e]);t&&t.length&&n.push(...t)}}const i=n.filter(e=>!e.destroyed);i.length?c$(this,e,i):this.processLeaveNode(e)}return g.length=0,T.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),T}elementContainsData(e,t){let n=!1;const i=t.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,r){let l=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(l=t)}else{const t=this.playersByElement.get(e);if(t){const e=!r||"void"==r;t.forEach(t=>{t.queued||(e||t.triggerName==i)&&l.push(t)})}}return(n||i)&&(l=l.filter(e=>!(n&&n!=e.namespaceId||i&&i!=e.triggerName))),l}_beforeAnimationBuild(e,t,n){const i=t.element,r=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:t.triggerName;for(const s of t.timelines){const e=s.element,o=e!==i,a=AL(n,e,[]);this._getPreviousPlayers(e,o,r,l,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),a.push(e)})}rF(i,t.fromStyles)}_buildAnimation(e,t,n,i,r,l){const s=t.triggerName,o=t.element,a=[],c=new Set,u=new Set,h=t.timelines.map(t=>{const h=t.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new TL(t.duration,t.delay);const p=h!==o,f=function(e){const t=[];return function e(t,n){for(let i=0;i<t.length;i++){const r=t[i];r instanceof ML?e(r.players,n):n.push(r)}}(e,t),t}((n.get(h)||QF).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),g=r.get(h),m=l.get(h),y=OL(0,this._normalizer,0,t.keyframes,g,m),b=this._buildPlayer(t,y,f);if(t.subTimeline&&i&&u.add(h),p){const t=new n$(e,s,h);t.setRealPlayer(b),a.push(t)}return b});a.forEach(e=>{AL(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let i;if(e instanceof Map){if(i=e.get(t),i){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&e.delete(t)}}else if(i=e[t],i){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&delete e[t]}return i}(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>o$(e,"ng-animating"));const d=PL(h);return d.onDestroy(()=>{c.forEach(e=>a$(e,"ng-animating")),iF(o,t.toStyles)}),u.forEach(e=>{AL(i,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new TL(e.duration,e.delay)}}class n${constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new TL,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>DL(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){AL(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function i$(e){return e&&1===e.nodeType}function r$(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function l$(e,t,n,i,r){const l=[];n.forEach(e=>l.push(r$(e)));const s=[];i.forEach((n,i)=>{const l={};n.forEach(e=>{const n=l[e]=t.computeStyle(i,e,r);n&&0!=n.length||(i.__ng_removed=XF,s.push(i))}),e.set(i,l)});let o=0;return n.forEach(e=>r$(e,l[o++])),s}function s$(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const i=new Set(t),r=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let l=r.get(t);if(l)return l;const s=t.parentNode;return l=n.has(s)?s:i.has(s)?1:e(s),r.set(t,l),l}(e);1!==t&&n.get(t).push(e)}),n}function o$(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function a$(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function c$(e,t,n){PL(n).onDone(()=>e.processLeaveNode(t))}function u$(e,t,n){const i=n.get(e);if(!i)return!1;let r=t.get(e);return r?i.forEach(e=>r.add(e)):t.set(e,i),n.delete(e),!0}class h${constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new t$(e,t,n),this._timelineEngine=new WF(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,i,r){const l=e+"-"+i;let s=this._triggerCache[l];if(!s){const e=[],t=CF(this._driver,r,e);if(e.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);s=function(e,t){return new HF(e,t)}(i,t),this._triggerCache[l]=s}this._transitionEngine.registerTrigger(t,i,s)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if("@"==n.charAt(0)){const[e,r]=LL(n);this._timelineEngine.command(e,t,r,i)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,r){if("@"==n.charAt(0)){const[e,i]=LL(n);return this._timelineEngine.listen(e,t,i,r)}return this._transitionEngine.listen(e,t,n,i,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function d$(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=f$(t[0]),t.length>1&&(i=f$(t[t.length-1]))):t&&(n=f$(t)),n||i?new p$(e,n,i):null}let p$=(()=>{class e{constructor(t,n,i){this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;let r=e.initialStylesByElement.get(t);r||e.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&iF(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(iF(this._element,this._initialStyles),this._endStyles&&(iF(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(rF(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rF(this._element,this._endStyles),this._endStyles=null),iF(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function f$(e){let t=null;const n=Object.keys(e);for(let i=0;i<n.length;i++){const r=n[i];g$(r)&&(t=t||{},t[r]=e[r])}return t}function g$(e){return"display"===e||"position"===e}class m${constructor(e,t,n,i,r,l,s){this._element=e,this._name=t,this._duration=n,this._delay=i,this._easing=r,this._fillMode=l,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=S$(e,"").trim();n.length&&(function(e,t){let n=0;for(let i=0;i<e.length;i++)","===e.charAt(i)&&n++}(n),t=`${n}, ${t}`),C$(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),w$(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){y$(this._element,this._name,"paused")}resume(){y$(this._element,this._name,"running")}setPosition(e){const t=b$(this._element,this._name);this._position=e*this._duration,C$(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),w$(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=S$(e,"").split(","),i=v$(n,t);i>=0&&(n.splice(i,1),C$(e,"",n.join(",")))}(this._element,this._name))}}function y$(e,t,n){C$(e,"PlayState",n,b$(e,t))}function b$(e,t){const n=S$(e,"");return n.indexOf(",")>0?v$(n.split(","),t):v$([n],t)}function v$(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function w$(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function C$(e,t,n,i){const r="animation"+t;if(null!=i){const t=e.style[r];if(t.length){const e=t.split(",");e[i]=n,n=e.join(",")}}e.style[r]=n}function S$(e,t){return e.style["animation"+t]}class _${constructor(e,t,n,i,r,l,s,o){this.element=e,this.keyframes=t,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=s,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=l||"linear",this.totalTime=i+r,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new m$(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:gF(this.element,n))})}this.currentSnapshot=e}}class x$ extends TL{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=KL(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class I${constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return GL(e)}matchesElement(e,t){return BL(e,t)}containsElement(e,t){return HL(e,t)}query(e,t,n){return qL(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>KL(e));let i=`@keyframes ${t} {\n`,r="";n.forEach(e=>{r=" ";const t=parseFloat(e.offset);i+=`${r}${100*t}% {\n`,r+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${t}: ${n};\n`)}}),i+=r+"}\n"}),i+="}\n";const l=document.createElement("style");return l.innerHTML=i,l}animate(e,t,n,i,r,l=[],s){s&&this._notifyFaultyScrubber();const o=l.filter(e=>e instanceof _$),a={};dF(n,i)&&o.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>a[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=pF(e,t,a));if(0==n)return new x$(e,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);document.querySelector("head").appendChild(h);const d=d$(e,t),p=new _$(e,t,u,n,i,r,c,d);return p.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class k${constructor(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:gF(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class T${constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(M$().toString()),this._cssKeyframesDriver=new I$}validateStyleProperty(e){return GL(e)}matchesElement(e,t){return BL(e,t)}containsElement(e,t){return HL(e,t)}query(e,t,n){return qL(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,i,r,l=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,r,l);const o={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(o.easing=r);const a={},c=l.filter(e=>e instanceof k$);dF(n,i)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>a[e]=t[e])});const u=d$(e,t=pF(e,t=t.map(e=>eF(e,!1)),a));return new k$(e,t,o,u)}}function M$(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class E$ extends _L{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:$e.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?xL(e):e;return D$(this._renderer,null,t,"register",[n]),new P$(t,this._renderer)}}class P$ extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new O$(this._id,e,t||{},this._renderer)}}class O${constructor(e,t,n,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return D$(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function D$(e,t,n,i,r){return e.setProperty(t,`@@${n}:${i}`,r)}class N${constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new R$("",n,this.engine),this._rendererCache.set(n,e)),e}const i=t.id,r=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(r,e),t.data.animation.forEach(t=>this.engine.registerTrigger(i,r,e,t.name,t)),new A$(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class R${constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class A$ extends R${constructor(e,t,n,i){super(t,n,i),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const i=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let r=t.substr(1),l="";return"@"!=r.charAt(0)&&([r,l]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,i,r,l,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}class L$ extends h${constructor(e,t,n){super(e.body,t,n)}}function F$(){return"function"==typeof M$()?new T$:new I$}function $$(){return new VF}function V$(e,t,n){return new N$(e,t,n)}const U$=new _e("AnimationModuleType");class j${}function z$(e){return 0===e.length?{consumed:e}:"/"===e[0].path?{consumed:e.slice(0,1)}:null}class G${constructor(e,t,n){this.routeSerializerService=e,this.appRoutingStateRulesService=t,this.store=n}serialize(e){const{url:t}=e,{queryParams:n}=e.root;let i=e.root;for(;i.firstChild;)i=i.firstChild;const{params:r}=i;if(""===t){const e=this.routeSerializerService.eventSnapshotObserver$.subscribe(t=>{let i=t.snapshot;const r=t.url,l=Object.assign({},i.params);for(;i.firstChild;){i=i.firstChild;for(let e in i.params)i.params.hasOwnProperty(e)&&(l[e]=i.params[e])}return this.routeSerializerService.synchronizeUrlWithStore(t.url,l),e.unsubscribe(),{snapshotUrl:r,queryParams:n,snapshotParams:l}})}const l=this.routeSerializerService.navStartEvent.id;if("popstate"===this.routeSerializerService.navStartEvent.navigationTrigger){const e=this.routeSerializerService.eventSnapshotObserver$.subscribe(t=>{if(l===t.id){let i=t.snapshot;const r=Object.assign({},i.params);for(;i.firstChild;){i=i.firstChild;for(let e in i.params)i.params.hasOwnProperty(e)&&(r[e]=i.params[e])}const l=t.url;return l.startsWith("/search/image")||this.appRoutingStateRulesService.clearSearchImage(),this.routeSerializerService.synchronizeUrlWithStore(t.url,r),e.unsubscribe(),{snapshotUrl:l,queryParams:n,snapshotParams:r}}e.unsubscribe()})}return{url:t,queryParams:n,params:r}}}class B${static forRoot(){return{ngModule:B$,providers:[Hb,qS,KS,WS,n_,i_,r_,l_,h_,c_,p_,a_,y_,b_,v_,w_,S_]}}}class H${}class q${}class K${}class W${}class Q${}class Z${}class X${}class Y${}class J${}class eV{}class tV{}class nV{}var iV=no(go,[q_],(function(e){return function(e){const t={},n=[];let i=!1;for(let r=0;r<e.length;r++){const l=e[r];l.token===St&&!0===l.value&&(i=!0),1073741824&l.flags&&n.push(l.token),l.index=r,t[Vn(l.token)]=l}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:i}}([Ci(512,Kt,Wt,[[8,[Uk,uT,WT,YT,MT,DT,VT,nM,uM,gM,VP,FD,zD,jN,rA,bP,aA,bA,LA,SL]],[3,Kt],Re]),Ci(5120,Or,Ml,[[3,Or]]),Ci(4608,na,ia,[Or,[2,ta]]),Ci(5120,gr,El,[Wr]),Ci(5120,yn,kl,[]),Ci(5120,bn,Tl,[]),Ci(6144,gt,null,[Cu]),Ci(4608,fu,mu,[]),Ci(5120,Gc,(function(e,t,n,i,r,l,s,o){return[new du(e,t,n),new wu(i),new yu(r,l,s,o)]}),[Oa,Wr,Mr,Oa,Oa,fu,Pr,[2,gu]]),Ci(4608,Bc,Bc,[Gc,Wr]),Ci(135680,Kc,Kc,[Oa]),Ci(4608,Yc,Yc,[Bc,Kc,kr]),Ci(5120,QL,F$,[]),Ci(5120,$F,$$,[]),Ci(4608,h$,L$,[Oa,QL,$F]),Ci(5120,en,V$,[Yc,h$,Wr]),Ci(6144,qc,null,[Kc]),Ci(4608,tl,tl,[Wr]),Ci(4608,_L,E$,[en,Oa]),Ci(4608,$b,Vb,[Oa,Mr,Lb]),Ci(4608,Ub,Ub,[$b,Fb]),Ci(5120,Pb,(function(e){return[e]}),[Ub]),Ci(4608,hx,hx,[]),Ci(4608,ck,ck,[Kt,xt,ak,YI]),Ci(5120,Uh,bp,[Zd]),Ci(4608,lp,lp,[]),Ci(6144,ip,null,[lp]),Ci(135680,sp,sp,[Zd,fl,Fr,xt,ip]),Ci(4608,rp,rp,[]),Ci(5120,op,pp,[Zd,Da,ap]),Ci(5120,Sp,Cp,[vp]),Ci(5120,Er,(function(e){return[e]}),[Sp]),Ci(4608,CM,SM,[]),Ci(4608,xM,IM,[]),Ci(4608,Hb,Hb,[Mb,"BASE_URL"]),Ci(4608,KS,KS,[Mb,"BASE_URL"]),Ci(4608,n_,n_,[]),Ci(4608,i_,i_,[Gv]),Ci(4608,r_,r_,[Mb,"BASE_URL"]),Ci(4608,l_,l_,[r_]),Ci(4608,a_,a_,[Gv]),Ci(4608,c_,c_,[WS,a_,Gv]),Ci(4608,h_,h_,[Mb,"BASE_URL",WS,c_,a_,Gv]),Ci(4608,p_,p_,[Mb]),Ci(4608,y_,y_,[WS]),Ci(4608,b_,b_,[]),Ci(4608,w_,w_,[Mb,"BASE_URL"]),Ci(4608,S_,S_,[]),Ci(4608,MM,MM,[Oa,Mr]),Ci(4608,Nu,Nu,[Oa]),Ci(1073742336,Pa,Pa,[]),Ci(1024,Ge,Pu,[]),Ci(1024,ol,(function(){return[hp()]}),[]),Ci(512,vp,vp,[xt]),Ci(256,kr,"ng-cli-universal",[]),Ci(2048,Lc,null,[kr]),Ci(512,Rb,Rb,[]),Ci(2048,Nb,null,[Rb]),Ci(512,Ab,Ab,[Nb]),Ci(2048,pb,null,[Ab]),Ci(512,db,jb,[pb,xt]),Ci(512,Mb,Mb,[db]),Ci(1024,xr,(function(e,t,n,i,r,l){return[(s=e,Uc("probe",zc),Uc("coreTokens",Object.assign({},jc,(s||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>zc),wp(t),Fc(n,i,r),fo(l)];var s}),[[2,ol],vp,Lc,Oa,xt,Mb]),Ci(512,Ir,Ir,[[2,xr]]),Ci(131584,dl,dl,[Wr,Pr,xt,Ge,Kt,Ir]),Ci(1073742336,Pl,Pl,[dl]),Ci(1073742336,Ou,Ou,[[3,Ou]]),Ci(1073742336,j$,j$,[]),Ci(1073742336,zb,zb,[]),Ci(1073742336,Gb,Gb,[]),Ci(1073742336,jx,jx,[]),Ci(1073742336,zx,zx,[]),Ci(1073742336,bO,bO,[]),Ci(1073742336,IO,IO,[]),Ci(1073742336,TM,TM,[]),Ci(131584,dv,dv,[]),Ci(2048,Fv,null,[dv]),Ci(256,fv,void 0,[]),Ci(1024,gv,fw,[fv]),Ci(256,vv,{router:__,view:V_},[]),Ci(2048,Cv,null,[vv]),Ci(1024,bv,hw,[xt,vv,Cv]),Ci(256,yv,Nv,[]),Ci(256,Ov,void 0,[]),Ci(1024,Pv,aw,[Ov]),Ci(1024,Dv,lw,[Pv]),Ci(1024,Mv,(function(e,t){return[ow(e),sw(t)]}),[Dv,Dv]),Ci(256,Tv,[],[]),Ci(1024,Ev,gw,[Mv,Tv]),Ci(1024,mv,Av,[yv,Ev]),Ci(131584,$v,$v,[Fv,gv,bv,mv]),Ci(2048,Lv,null,[$v]),Ci(131584,Vv,Vv,[]),Ci(131584,jv,jv,[dv,Lv,Vv,gv]),Ci(2048,Uv,null,[jv]),Ci(512,Gv,Gv,[Uv,dv,$v]),Ci(1024,pv,mw,[[3,Gv]]),Ci(1073742336,cw,cw,[dv,Lv,Vv,Gv,[2,pv]]),Ci(512,NC,NC,[Ge,Gv]),Ci(131584,$C,$C,[NC,Gv]),Ci(512,OC,OC,[Vv]),Ci(512,bh,vh,[]),Ci(512,ep,ep,[]),Ci(256,ap,{},[]),Ci(1024,wo,fp,[bo,[2,Co],ap]),Ci(512,So,So,[wo,bo]),Ci(512,Fr,Fr,[]),Ci(512,fl,yl,[Fr,[2,gl]]),Ci(1024,Gd,(function(){return[[{matcher:z$,component:xP,pathMatch:"full"}],[{path:"search/icon",component:bD,children:[{path:"filter/:library/all/:icon",pathMatch:"full",component:$D},{path:"filter/:library/all/:icon/:glyphs",pathMatch:"full",component:$D},{path:"filter/:library/all/:icon/:size/:theme",pathMatch:"full",component:$D},{path:"filter/:library/all/:icon/:size/:theme/:glyphs",pathMatch:"full",component:$D},{path:"filter/:library/:collection/:icon",pathMatch:"full",component:$D},{path:"filter/:library/:collection/:icon/:glyphs",pathMatch:"full",component:$D},{path:"filter/:library/:collection/:icon/:size/:theme",pathMatch:"full",component:$D},{path:"filter/:library/:collection/:icon/:size/:theme/:glyphs",pathMatch:"full",component:$D},{path:":icon",pathMatch:"full",component:$D},{path:":icon/:glyphs",pathMatch:"full",component:$D},{path:":icon/:size/:theme",pathMatch:"full",component:$D},{path:":icon/:size/:theme/:glyphs",pathMatch:"full",component:$D}]},{path:"search/image",component:bD,children:[{path:"filter/:library/all",pathMatch:"full",component:$D},{path:"filter/:library/all/:glyphs",pathMatch:"full",component:$D},{path:"filter/:library/all/:size/:theme",pathMatch:"full",component:$D},{path:"filter/:library/all/:size/:theme/:glyphs",pathMatch:"full",component:$D},{path:"filter/:library/:collection",pathMatch:"full",component:$D},{path:"filter/:library/:collection/:glyphs",pathMatch:"full",component:$D},{path:"filter/:library/:collection/:size/:theme",pathMatch:"full",component:$D},{path:"filter/:library/:collection/:size/:theme/:glyphs",pathMatch:"full",component:$D},{path:"",pathMatch:"full",component:$D},{path:":glyphs",pathMatch:"full",component:$D},{path:":size/:theme",pathMatch:"full",component:$D},{path:":size/:theme/:glyphs",pathMatch:"full",component:$D}]},{path:"search/keyword",component:bD,children:[{path:"filter/:library/all/:keywords",pathMatch:"full",component:$D},{path:"filter/:library/all/:keywords/:glyphs",pathMatch:"full",component:$D},{path:"filter/:library/all/:keywords/:size/:theme",pathMatch:"full",component:$D},{path:"filter/:library/all/:keywords/:size/:theme/:glyphs",pathMatch:"full",component:$D},{path:"filter/:library/:collection/:keywords",pathMatch:"full",component:$D},{path:"filter/:library/:collection/:keywords/:glyphs",pathMatch:"full",component:$D},{path:"filter/:library/:collection/:keywords/:size/:theme",pathMatch:"full",component:$D},{path:"filter/:library/:collection/:keywords/:size/:theme/:glyphs",pathMatch:"full",component:$D},{path:":keywords",pathMatch:"full",component:$D},{path:":keywords/:glyphs",pathMatch:"full",component:$D},{path:":keywords/:size/:theme",pathMatch:"full",component:$D},{path:":keywords/:size/:theme/:glyphs",pathMatch:"full",component:$D}]},{path:"search",component:bD,children:[{path:"filter/:library/all/:terms",pathMatch:"full",component:$D},{path:"filter/:library/all/:terms/:glyphs",pathMatch:"full",component:$D},{path:"filter/:library/all/:terms/:size/:theme",pathMatch:"full",component:$D},{path:"filter/:library/all/:terms/:size/:theme/:glyphs",pathMatch:"full",component:$D},{path:"filter/:library/:collection/:terms",pathMatch:"full",component:$D},{path:"filter/:library/:collection/:terms/:glyphs",pathMatch:"full",component:$D},{path:"filter/:library/:collection/:terms/:size/:theme",pathMatch:"full",component:$D},{path:"filter/:library/:collection/:terms/:size/:theme/:glyphs",pathMatch:"full",component:$D},{path:":terms",pathMatch:"full",component:$D},{path:":terms/:glyphs",pathMatch:"full",component:$D},{path:":terms/:size/:theme",pathMatch:"full",component:$D},{path:":terms/:size/:theme/:glyphs",pathMatch:"full",component:$D}]},{path:"browse",component:NN,children:[{path:":library",pathMatch:"full",component:$D},{path:":library/:collection",pathMatch:"full",component:$D},{path:":library/:collection/:glyphs",pathMatch:"full",component:$D},{path:":library/:collection/:size/:theme",pathMatch:"full",component:$D},{path:":library/:collection/:size/:theme/:glyphs",pathMatch:"full",component:$D}]}],[{path:"collections",component:pP}],[{path:"**",redirectTo:"/",pathMatch:"full"}]]}),[]),Ci(1024,Zd,yp,[dl,bh,ep,So,xt,fl,Fr,Gd,ap,[2,Hd],[2,jd]]),Ci(512,ME,ME,[OC,Zd,HS]),Ci(1024,LC,jC,[ME]),Ci(1024,_v,(function(){return[{metaReducers:[]},{},{metaReducers:[]},{metaReducers:[]}]}),[]),Ci(1024,wv,(function(){return[{key:"coreState",reducerFactory:Nv,metaReducers:[],initialState:void 0},{key:"navbarState",reducerFactory:Nv,metaReducers:[],initialState:void 0},{key:"filterState",reducerFactory:Nv,metaReducers:[],initialState:void 0},{key:"iconsState",reducerFactory:Nv,metaReducers:[],initialState:void 0}]}),[]),Ci(1024,xv,dw,[xt,_v,wv]),Ci(1024,Sv,(function(){return[{core:lE},{fonts:Ww},{facets:wS,selects:SS},{icon:HC,search:KC}]}),[]),Ci(1024,Iv,(function(e,t,n,i){return[e,t,n,i]}),[Sv,Sv,Sv,Sv]),Ci(1024,kv,(function(e,t,n,i,r,l,s,o,a,c,u,h){return[pw(e,t),pw(i,r),pw(s,o),pw(c,u)]}),[xt,Sv,Iv,xt,Sv,Iv,xt,Sv,Iv,xt,Sv,Iv]),Ci(1073873408,uw,uw,[xv,kv,$v,cw]),Ci(1024,AC,zC,[[3,$C]]),Ci(1073742336,VC,VC,[NC,$C,Gv,LC,[2,cw],[2,uw],[2,AC]]),Ci(512,qS,qS,[Gv,HS]),Ci(512,x_,G$,[HS,qS,Gv]),Ci(256,M_,{},[]),Ci(1024,E_,P_,[M_]),Ci(1073742336,D_,D_,[Gv,Zd,x_,Ge,E_]),Ci(1024,"BASE_URL",mo,[]),Ci(512,WS,WS,[Mb,"BASE_URL"]),Ci(512,v_,v_,[]),Ci(512,Cu,Su,[Oa]),Ci(512,iE,iE,[OC,WS,v_,Cu]),Ci(512,GC,GC,[OC,WS]),Ci(1024,FC,(function(e,t){return[jC(e),jC(t)]}),[iE,GC]),Ci(1073742336,UC,UC,[VC,FC,[2,cw],[2,uw]]),Ci(1073742336,oI,oI,[]),Ci(1073742336,uI,uI,[]),Ci(1073742336,hI,hI,[]),Ci(1073742336,dI,dI,[]),Ci(1073742336,pI,pI,[]),Ci(1073742336,QI,QI,[]),Ci(1073742336,XI,XI,[]),Ci(1073742336,uk,uk,[]),Ci(1073742336,hk,hk,[]),Ci(1073742336,dk,dk,[]),Ci(1073742336,Ck,Ck,[]),Ci(1073742336,Sk,Sk,[]),Ci(1073742336,_k,_k,[]),Ci(1073742336,xk,xk,[]),Ci(1073742336,Ik,Ik,[]),Ci(1073742336,kk,kk,[]),Ci(1073742336,Ok,Ok,[]),Ci(1073742336,Rk,Rk,[]),Ci(1073742336,Ak,Ak,[]),Ci(1024,cp,gp,[[3,Zd]]),Ci(1073742336,dp,dp,[[2,cp],[2,Zd]]),Ci(1073742336,B$,B$,[]),Ci(1073742336,H$,H$,[]),Ci(1073742336,q$,q$,[]),Ci(1073742336,K$,K$,[]),Ci(1073742336,W$,W$,[]),Ci(1073742336,Q$,Q$,[]),Ci(1073742336,Z$,Z$,[]),Ci(1073742336,X$,X$,[]),Ci(1073742336,Y$,Y$,[]),Ci(1073742336,J$,J$,[]),Ci(1073742336,eV,eV,[]),Ci(1073742336,tV,tV,[]),Ci(1073742336,nV,nV,[]),Ci(1073742336,go,go,[]),Ci(256,St,!0,[]),Ci(256,U$,"BrowserAnimations",[]),Ci(256,Lb,"XSRF-TOKEN",[]),Ci(256,Fb,"X-XSRF-TOKEN",[])])}));function rV(){return document.getElementsByTagName("base")[0].href}const lV=[{provide:"BASE_URL",useFactory:rV,deps:[]}];(function(){if(He)throw new Error("Cannot enable prod mode after platform setup.");Be=!1})(),Eu(lV).bootstrapModuleFactory(iV).catch(e=>console.log(e))}},[[0,0]]]);